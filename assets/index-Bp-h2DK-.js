(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const h of o)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const h={};return o.integrity&&(h.integrity=o.integrity),o.referrerPolicy&&(h.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?h.credentials="include":o.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function a(o){if(o.ep)return;o.ep=!0;const h=i(o);fetch(o.href,h)}})();var AR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function yE(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Ef={exports:{}},zl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jp;function _E(){if(jp)return zl;jp=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,o,h){var d=null;if(h!==void 0&&(d=""+h),o.key!==void 0&&(d=""+o.key),"key"in o){h={};for(var g in o)g!=="key"&&(h[g]=o[g])}else h=o;return o=h.ref,{$$typeof:r,type:a,key:d,ref:o!==void 0?o:null,props:h}}return zl.Fragment=e,zl.jsx=i,zl.jsxs=i,zl}var qp;function vE(){return qp||(qp=1,Ef.exports=_E()),Ef.exports}var P=vE(),Tf={exports:{}},wt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hp;function EE(){if(Hp)return wt;Hp=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),N=Symbol.iterator;function x(D){return D===null||typeof D!="object"?null:(D=N&&D[N]||D["@@iterator"],typeof D=="function"?D:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},X=Object.assign,J={};function Z(D,Y,ut){this.props=D,this.context=Y,this.refs=J,this.updater=ut||k}Z.prototype.isReactComponent={},Z.prototype.setState=function(D,Y){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,Y,"setState")},Z.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function gt(){}gt.prototype=Z.prototype;function dt(D,Y,ut){this.props=D,this.context=Y,this.refs=J,this.updater=ut||k}var rt=dt.prototype=new gt;rt.constructor=dt,X(rt,Z.prototype),rt.isPureReactComponent=!0;var Rt=Array.isArray,mt={H:null,A:null,T:null,S:null},lt=Object.prototype.hasOwnProperty;function I(D,Y,ut,nt,it,ct){return ut=ct.ref,{$$typeof:r,type:D,key:Y,ref:ut!==void 0?ut:null,props:ct}}function b(D,Y){return I(D.type,Y,void 0,void 0,void 0,D.props)}function A(D){return typeof D=="object"&&D!==null&&D.$$typeof===r}function w(D){var Y={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(ut){return Y[ut]})}var V=/\/+/g;function L(D,Y){return typeof D=="object"&&D!==null&&D.key!=null?w(""+D.key):Y.toString(36)}function C(){}function Jt(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(C,C):(D.status="pending",D.then(function(Y){D.status==="pending"&&(D.status="fulfilled",D.value=Y)},function(Y){D.status==="pending"&&(D.status="rejected",D.reason=Y)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function Wt(D,Y,ut,nt,it){var ct=typeof D;(ct==="undefined"||ct==="boolean")&&(D=null);var bt=!1;if(D===null)bt=!0;else switch(ct){case"bigint":case"string":case"number":bt=!0;break;case"object":switch(D.$$typeof){case r:case e:bt=!0;break;case S:return bt=D._init,Wt(bt(D._payload),Y,ut,nt,it)}}if(bt)return it=it(D),bt=nt===""?"."+L(D,0):nt,Rt(it)?(ut="",bt!=null&&(ut=bt.replace(V,"$&/")+"/"),Wt(it,Y,ut,"",function(ae){return ae})):it!=null&&(A(it)&&(it=b(it,ut+(it.key==null||D&&D.key===it.key?"":(""+it.key).replace(V,"$&/")+"/")+bt)),Y.push(it)),1;bt=0;var re=nt===""?".":nt+":";if(Rt(D))for(var Pt=0;Pt<D.length;Pt++)nt=D[Pt],ct=re+L(nt,Pt),bt+=Wt(nt,Y,ut,ct,it);else if(Pt=x(D),typeof Pt=="function")for(D=Pt.call(D),Pt=0;!(nt=D.next()).done;)nt=nt.value,ct=re+L(nt,Pt++),bt+=Wt(nt,Y,ut,ct,it);else if(ct==="object"){if(typeof D.then=="function")return Wt(Jt(D),Y,ut,nt,it);throw Y=String(D),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return bt}function et(D,Y,ut){if(D==null)return D;var nt=[],it=0;return Wt(D,nt,"","",function(ct){return Y.call(ut,ct,it++)}),nt}function pt(D){if(D._status===-1){var Y=D._result;Y=Y(),Y.then(function(ut){(D._status===0||D._status===-1)&&(D._status=1,D._result=ut)},function(ut){(D._status===0||D._status===-1)&&(D._status=2,D._result=ut)}),D._status===-1&&(D._status=0,D._result=Y)}if(D._status===1)return D._result.default;throw D._result}var ot=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function Mt(){}return wt.Children={map:et,forEach:function(D,Y,ut){et(D,function(){Y.apply(this,arguments)},ut)},count:function(D){var Y=0;return et(D,function(){Y++}),Y},toArray:function(D){return et(D,function(Y){return Y})||[]},only:function(D){if(!A(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},wt.Component=Z,wt.Fragment=i,wt.Profiler=o,wt.PureComponent=dt,wt.StrictMode=a,wt.Suspense=_,wt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=mt,wt.act=function(){throw Error("act(...) is not supported in production builds of React.")},wt.cache=function(D){return function(){return D.apply(null,arguments)}},wt.cloneElement=function(D,Y,ut){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var nt=X({},D.props),it=D.key,ct=void 0;if(Y!=null)for(bt in Y.ref!==void 0&&(ct=void 0),Y.key!==void 0&&(it=""+Y.key),Y)!lt.call(Y,bt)||bt==="key"||bt==="__self"||bt==="__source"||bt==="ref"&&Y.ref===void 0||(nt[bt]=Y[bt]);var bt=arguments.length-2;if(bt===1)nt.children=ut;else if(1<bt){for(var re=Array(bt),Pt=0;Pt<bt;Pt++)re[Pt]=arguments[Pt+2];nt.children=re}return I(D.type,it,void 0,void 0,ct,nt)},wt.createContext=function(D){return D={$$typeof:d,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:h,_context:D},D},wt.createElement=function(D,Y,ut){var nt,it={},ct=null;if(Y!=null)for(nt in Y.key!==void 0&&(ct=""+Y.key),Y)lt.call(Y,nt)&&nt!=="key"&&nt!=="__self"&&nt!=="__source"&&(it[nt]=Y[nt]);var bt=arguments.length-2;if(bt===1)it.children=ut;else if(1<bt){for(var re=Array(bt),Pt=0;Pt<bt;Pt++)re[Pt]=arguments[Pt+2];it.children=re}if(D&&D.defaultProps)for(nt in bt=D.defaultProps,bt)it[nt]===void 0&&(it[nt]=bt[nt]);return I(D,ct,void 0,void 0,null,it)},wt.createRef=function(){return{current:null}},wt.forwardRef=function(D){return{$$typeof:g,render:D}},wt.isValidElement=A,wt.lazy=function(D){return{$$typeof:S,_payload:{_status:-1,_result:D},_init:pt}},wt.memo=function(D,Y){return{$$typeof:v,type:D,compare:Y===void 0?null:Y}},wt.startTransition=function(D){var Y=mt.T,ut={};mt.T=ut;try{var nt=D(),it=mt.S;it!==null&&it(ut,nt),typeof nt=="object"&&nt!==null&&typeof nt.then=="function"&&nt.then(Mt,ot)}catch(ct){ot(ct)}finally{mt.T=Y}},wt.unstable_useCacheRefresh=function(){return mt.H.useCacheRefresh()},wt.use=function(D){return mt.H.use(D)},wt.useActionState=function(D,Y,ut){return mt.H.useActionState(D,Y,ut)},wt.useCallback=function(D,Y){return mt.H.useCallback(D,Y)},wt.useContext=function(D){return mt.H.useContext(D)},wt.useDebugValue=function(){},wt.useDeferredValue=function(D,Y){return mt.H.useDeferredValue(D,Y)},wt.useEffect=function(D,Y){return mt.H.useEffect(D,Y)},wt.useId=function(){return mt.H.useId()},wt.useImperativeHandle=function(D,Y,ut){return mt.H.useImperativeHandle(D,Y,ut)},wt.useInsertionEffect=function(D,Y){return mt.H.useInsertionEffect(D,Y)},wt.useLayoutEffect=function(D,Y){return mt.H.useLayoutEffect(D,Y)},wt.useMemo=function(D,Y){return mt.H.useMemo(D,Y)},wt.useOptimistic=function(D,Y){return mt.H.useOptimistic(D,Y)},wt.useReducer=function(D,Y,ut){return mt.H.useReducer(D,Y,ut)},wt.useRef=function(D){return mt.H.useRef(D)},wt.useState=function(D){return mt.H.useState(D)},wt.useSyncExternalStore=function(D,Y,ut){return mt.H.useSyncExternalStore(D,Y,ut)},wt.useTransition=function(){return mt.H.useTransition()},wt.version="19.0.0",wt}var Gp;function nd(){return Gp||(Gp=1,Tf.exports=EE()),Tf.exports}var W=nd();const zi=yE(W);var Af={exports:{}},Bl={},Sf={exports:{}},bf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qp;function TE(){return Qp||(Qp=1,function(r){function e(et,pt){var ot=et.length;et.push(pt);t:for(;0<ot;){var Mt=ot-1>>>1,D=et[Mt];if(0<o(D,pt))et[Mt]=pt,et[ot]=D,ot=Mt;else break t}}function i(et){return et.length===0?null:et[0]}function a(et){if(et.length===0)return null;var pt=et[0],ot=et.pop();if(ot!==pt){et[0]=ot;t:for(var Mt=0,D=et.length,Y=D>>>1;Mt<Y;){var ut=2*(Mt+1)-1,nt=et[ut],it=ut+1,ct=et[it];if(0>o(nt,ot))it<D&&0>o(ct,nt)?(et[Mt]=ct,et[it]=ot,Mt=it):(et[Mt]=nt,et[ut]=ot,Mt=ut);else if(it<D&&0>o(ct,ot))et[Mt]=ct,et[it]=ot,Mt=it;else break t}}return pt}function o(et,pt){var ot=et.sortIndex-pt.sortIndex;return ot!==0?ot:et.id-pt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;r.unstable_now=function(){return h.now()}}else{var d=Date,g=d.now();r.unstable_now=function(){return d.now()-g}}var _=[],v=[],S=1,N=null,x=3,k=!1,X=!1,J=!1,Z=typeof setTimeout=="function"?setTimeout:null,gt=typeof clearTimeout=="function"?clearTimeout:null,dt=typeof setImmediate<"u"?setImmediate:null;function rt(et){for(var pt=i(v);pt!==null;){if(pt.callback===null)a(v);else if(pt.startTime<=et)a(v),pt.sortIndex=pt.expirationTime,e(_,pt);else break;pt=i(v)}}function Rt(et){if(J=!1,rt(et),!X)if(i(_)!==null)X=!0,Jt();else{var pt=i(v);pt!==null&&Wt(Rt,pt.startTime-et)}}var mt=!1,lt=-1,I=5,b=-1;function A(){return!(r.unstable_now()-b<I)}function w(){if(mt){var et=r.unstable_now();b=et;var pt=!0;try{t:{X=!1,J&&(J=!1,gt(lt),lt=-1),k=!0;var ot=x;try{e:{for(rt(et),N=i(_);N!==null&&!(N.expirationTime>et&&A());){var Mt=N.callback;if(typeof Mt=="function"){N.callback=null,x=N.priorityLevel;var D=Mt(N.expirationTime<=et);if(et=r.unstable_now(),typeof D=="function"){N.callback=D,rt(et),pt=!0;break e}N===i(_)&&a(_),rt(et)}else a(_);N=i(_)}if(N!==null)pt=!0;else{var Y=i(v);Y!==null&&Wt(Rt,Y.startTime-et),pt=!1}}break t}finally{N=null,x=ot,k=!1}pt=void 0}}finally{pt?V():mt=!1}}}var V;if(typeof dt=="function")V=function(){dt(w)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,C=L.port2;L.port1.onmessage=w,V=function(){C.postMessage(null)}}else V=function(){Z(w,0)};function Jt(){mt||(mt=!0,V())}function Wt(et,pt){lt=Z(function(){et(r.unstable_now())},pt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(et){et.callback=null},r.unstable_continueExecution=function(){X||k||(X=!0,Jt())},r.unstable_forceFrameRate=function(et){0>et||125<et?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<et?Math.floor(1e3/et):5},r.unstable_getCurrentPriorityLevel=function(){return x},r.unstable_getFirstCallbackNode=function(){return i(_)},r.unstable_next=function(et){switch(x){case 1:case 2:case 3:var pt=3;break;default:pt=x}var ot=x;x=pt;try{return et()}finally{x=ot}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(et,pt){switch(et){case 1:case 2:case 3:case 4:case 5:break;default:et=3}var ot=x;x=et;try{return pt()}finally{x=ot}},r.unstable_scheduleCallback=function(et,pt,ot){var Mt=r.unstable_now();switch(typeof ot=="object"&&ot!==null?(ot=ot.delay,ot=typeof ot=="number"&&0<ot?Mt+ot:Mt):ot=Mt,et){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=ot+D,et={id:S++,callback:pt,priorityLevel:et,startTime:ot,expirationTime:D,sortIndex:-1},ot>Mt?(et.sortIndex=ot,e(v,et),i(_)===null&&et===i(v)&&(J?(gt(lt),lt=-1):J=!0,Wt(Rt,ot-Mt))):(et.sortIndex=D,e(_,et),X||k||(X=!0,Jt())),et},r.unstable_shouldYield=A,r.unstable_wrapCallback=function(et){var pt=x;return function(){var ot=x;x=pt;try{return et.apply(this,arguments)}finally{x=ot}}}}(bf)),bf}var Fp;function AE(){return Fp||(Fp=1,Sf.exports=TE()),Sf.exports}var Rf={exports:{}},Qe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kp;function SE(){if(Kp)return Qe;Kp=1;var r=nd();function e(_){var v="https://react.dev/errors/"+_;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)v+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+_+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function h(_,v,S){var N=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:N==null?null:""+N,children:_,containerInfo:v,implementation:S}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(_,v){if(_==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return Qe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Qe.createPortal=function(_,v){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(e(299));return h(_,v,null,S)},Qe.flushSync=function(_){var v=d.T,S=a.p;try{if(d.T=null,a.p=2,_)return _()}finally{d.T=v,a.p=S,a.d.f()}},Qe.preconnect=function(_,v){typeof _=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,a.d.C(_,v))},Qe.prefetchDNS=function(_){typeof _=="string"&&a.d.D(_)},Qe.preinit=function(_,v){if(typeof _=="string"&&v&&typeof v.as=="string"){var S=v.as,N=g(S,v.crossOrigin),x=typeof v.integrity=="string"?v.integrity:void 0,k=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;S==="style"?a.d.S(_,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:N,integrity:x,fetchPriority:k}):S==="script"&&a.d.X(_,{crossOrigin:N,integrity:x,fetchPriority:k,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},Qe.preinitModule=function(_,v){if(typeof _=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var S=g(v.as,v.crossOrigin);a.d.M(_,{crossOrigin:S,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&a.d.M(_)},Qe.preload=function(_,v){if(typeof _=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var S=v.as,N=g(S,v.crossOrigin);a.d.L(_,S,{crossOrigin:N,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},Qe.preloadModule=function(_,v){if(typeof _=="string")if(v){var S=g(v.as,v.crossOrigin);a.d.m(_,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:S,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else a.d.m(_)},Qe.requestFormReset=function(_){a.d.r(_)},Qe.unstable_batchedUpdates=function(_,v){return _(v)},Qe.useFormState=function(_,v,S){return d.H.useFormState(_,v,S)},Qe.useFormStatus=function(){return d.H.useHostTransitionStatus()},Qe.version="19.0.0",Qe}var Yp;function bE(){if(Yp)return Rf.exports;Yp=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Rf.exports=SE(),Rf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xp;function RE(){if(Xp)return Bl;Xp=1;var r=AE(),e=nd(),i=bE();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}var h=Symbol.for("react.element"),d=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),x=Symbol.for("react.consumer"),k=Symbol.for("react.context"),X=Symbol.for("react.forward_ref"),J=Symbol.for("react.suspense"),Z=Symbol.for("react.suspense_list"),gt=Symbol.for("react.memo"),dt=Symbol.for("react.lazy"),rt=Symbol.for("react.offscreen"),Rt=Symbol.for("react.memo_cache_sentinel"),mt=Symbol.iterator;function lt(t){return t===null||typeof t!="object"?null:(t=mt&&t[mt]||t["@@iterator"],typeof t=="function"?t:null)}var I=Symbol.for("react.client.reference");function b(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===I?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case _:return"Fragment";case g:return"Portal";case S:return"Profiler";case v:return"StrictMode";case J:return"Suspense";case Z:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case k:return(t.displayName||"Context")+".Provider";case x:return(t._context.displayName||"Context")+".Consumer";case X:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case gt:return n=t.displayName||null,n!==null?n:b(t.type)||"Memo";case dt:n=t._payload,t=t._init;try{return b(t(n))}catch{}}return null}var A=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,w=Object.assign,V,L;function C(t){if(V===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);V=n&&n[1]||"",L=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+V+t+L}var Jt=!1;function Wt(t,n){if(!t||Jt)return"";Jt=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(H){var j=H}Reflect.construct(t,[],K)}else{try{K.call()}catch(H){j=H}t.call(K.prototype)}}else{try{throw Error()}catch(H){j=H}(K=t())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(H){if(H&&j&&typeof H.stack=="string")return[H.stack,j.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),y=f[0],E=f[1];if(y&&E){var R=y.split(`
`),M=E.split(`
`);for(c=l=0;l<R.length&&!R[l].includes("DetermineComponentFrameRoot");)l++;for(;c<M.length&&!M[c].includes("DetermineComponentFrameRoot");)c++;if(l===R.length||c===M.length)for(l=R.length-1,c=M.length-1;1<=l&&0<=c&&R[l]!==M[c];)c--;for(;1<=l&&0<=c;l--,c--)if(R[l]!==M[c]){if(l!==1||c!==1)do if(l--,c--,0>c||R[l]!==M[c]){var G=`
`+R[l].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=l&&0<=c);break}}}finally{Jt=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?C(s):""}function et(t){switch(t.tag){case 26:case 27:case 5:return C(t.type);case 16:return C("Lazy");case 13:return C("Suspense");case 19:return C("SuspenseList");case 0:case 15:return t=Wt(t.type,!1),t;case 11:return t=Wt(t.type.render,!1),t;case 1:return t=Wt(t.type,!0),t;default:return""}}function pt(t){try{var n="";do n+=et(t),t=t.return;while(t);return n}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function ot(t){var n=t,s=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(s=n.return),t=n.return;while(t)}return n.tag===3?s:null}function Mt(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function D(t){if(ot(t)!==t)throw Error(a(188))}function Y(t){var n=t.alternate;if(!n){if(n=ot(t),n===null)throw Error(a(188));return n!==t?null:t}for(var s=t,l=n;;){var c=s.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){s=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===s)return D(c),t;if(f===l)return D(c),n;f=f.sibling}throw Error(a(188))}if(s.return!==l.return)s=c,l=f;else{for(var y=!1,E=c.child;E;){if(E===s){y=!0,s=c,l=f;break}if(E===l){y=!0,l=c,s=f;break}E=E.sibling}if(!y){for(E=f.child;E;){if(E===s){y=!0,s=f,l=c;break}if(E===l){y=!0,l=f,s=c;break}E=E.sibling}if(!y)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?t:n}function ut(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=ut(t),n!==null)return n;t=t.sibling}return null}var nt=Array.isArray,it=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ct={pending:!1,data:null,method:null,action:null},bt=[],re=-1;function Pt(t){return{current:t}}function ae(t){0>re||(t.current=bt[re],bt[re]=null,re--)}function Qt(t,n){re++,bt[re]=t.current,t.current=n}var Ze=Pt(null),ci=Pt(null),yn=Pt(null),qi=Pt(null);function Hi(t,n){switch(Qt(yn,n),Qt(ci,t),Qt(Ze,null),t=n.nodeType,t){case 9:case 11:n=(n=n.documentElement)&&(n=n.namespaceURI)?pp(n):0;break;default:if(t=t===8?n.parentNode:n,n=t.tagName,t=t.namespaceURI)t=pp(t),n=yp(t,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}ae(Ze),Qt(Ze,n)}function hi(){ae(Ze),ae(ci),ae(yn)}function Oa(t){t.memoizedState!==null&&Qt(qi,t);var n=Ze.current,s=yp(n,t.type);n!==s&&(Qt(ci,t),Qt(Ze,s))}function Sr(t){ci.current===t&&(ae(Ze),ae(ci)),qi.current===t&&(ae(qi),Ol._currentValue=ct)}var br=Object.prototype.hasOwnProperty,zs=r.unstable_scheduleCallback,Rr=r.unstable_cancelCallback,Tc=r.unstable_shouldYield,Ma=r.unstable_requestPaint,nn=r.unstable_now,ao=r.unstable_getCurrentPriorityLevel,ve=r.unstable_ImmediatePriority,De=r.unstable_UserBlockingPriority,fi=r.unstable_NormalPriority,lo=r.unstable_LowPriority,xa=r.unstable_IdlePriority,Ac=r.log,Bs=r.unstable_setDisableYieldValue,Gi=null,He=null;function Ua(t){if(He&&typeof He.onCommitFiberRoot=="function")try{He.onCommitFiberRoot(Gi,t,void 0,(t.current.flags&128)===128)}catch{}}function qn(t){if(typeof Ac=="function"&&Bs(t),He&&typeof He.setStrictMode=="function")try{He.setStrictMode(Gi,t)}catch{}}var $e=Math.clz32?Math.clz32:uo,La=Math.log,oo=Math.LN2;function uo(t){return t>>>=0,t===0?32:31-(La(t)/oo|0)|0}var Hn=128,Qi=4194304;function Un(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function _n(t,n){var s=t.pendingLanes;if(s===0)return 0;var l=0,c=t.suspendedLanes,f=t.pingedLanes,y=t.warmLanes;t=t.finishedLanes!==0;var E=s&134217727;return E!==0?(s=E&~c,s!==0?l=Un(s):(f&=E,f!==0?l=Un(f):t||(y=E&~y,y!==0&&(l=Un(y))))):(E=s&~c,E!==0?l=Un(E):f!==0?l=Un(f):t||(y=s&~y,y!==0&&(l=Un(y)))),l===0?0:n!==0&&n!==l&&(n&c)===0&&(c=l&-l,y=n&-n,c>=y||c===32&&(y&4194176)!==0)?n:l}function Fi(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function wr(t,n){switch(t){case 1:case 2:case 4:case 8:return n+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function za(){var t=Hn;return Hn<<=1,(Hn&4194176)===0&&(Hn=128),t}function Ki(){var t=Qi;return Qi<<=1,(Qi&62914560)===0&&(Qi=4194304),t}function Cr(t){for(var n=[],s=0;31>s;s++)n.push(t);return n}function fe(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function co(t,n,s,l,c,f){var y=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var E=t.entanglements,R=t.expirationTimes,M=t.hiddenUpdates;for(s=y&~s;0<s;){var G=31-$e(s),K=1<<G;E[G]=0,R[G]=-1;var j=M[G];if(j!==null)for(M[G]=null,G=0;G<j.length;G++){var H=j[G];H!==null&&(H.lane&=-536870913)}s&=~K}l!==0&&Yi(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(y&~n))}function Yi(t,n,s){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-$e(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|s&4194218}function Xi(t,n){var s=t.entangledLanes|=n;for(t=t.entanglements;s;){var l=31-$e(s),c=1<<l;c&n|t[l]&n&&(t[l]|=n),s&=~c}}function ho(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function fo(){var t=it.p;return t!==0?t:(t=window.event,t===void 0?32:Up(t.type))}function Zi(t,n){var s=it.p;try{return it.p=t,n()}finally{it.p=s}}var Gn=Math.random().toString(36).slice(2),Ve="__reactFiber$"+Gn,Ee="__reactProps$"+Gn,di="__reactContainer$"+Gn,Ps="__reactEvents$"+Gn,Dr="__reactListeners$"+Gn,Qn="__reactHandles$"+Gn,Ba="__reactResources$"+Gn,$i="__reactMarker$"+Gn;function ks(t){delete t[Ve],delete t[Ee],delete t[Ps],delete t[Dr],delete t[Qn]}function Ln(t){var n=t[Ve];if(n)return n;for(var s=t.parentNode;s;){if(n=s[di]||s[Ve]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(t=Ep(t);t!==null;){if(s=t[Ve])return s;t=Ep(t)}return n}t=s,s=t.parentNode}return null}function mi(t){if(t=t[Ve]||t[di]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function Ji(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function Wi(t){var n=t[Ba];return n||(n=t[Ba]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function te(t){t[$i]=!0}var Pa=new Set,Vr={};function on(t,n){sn(t,n),sn(t+"Capture",n)}function sn(t,n){for(Vr[t]=n,t=0;t<n.length;t++)Pa.add(n[t])}var un=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Sc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ka={},ja={};function mo(t){return br.call(ja,t)?!0:br.call(ka,t)?!1:Sc.test(t)?ja[t]=!0:(ka[t]=!0,!1)}function ts(t,n,s){if(mo(n))if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+s)}}function es(t,n,s){if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+s)}}function vn(t,n,s,l){if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(n,s,""+l)}}function Je(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function go(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function bc(t){var n=go(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var c=s.get,f=s.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(y){l=""+y,f.call(this,y)}}),Object.defineProperty(t,n,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(y){l=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function js(t){t._valueTracker||(t._valueTracker=bc(t))}function qa(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return t&&(l=go(t)?t.checked?"true":"false":t.value),t=l,t!==s?(n.setValue(t),!0):!1}function Nr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var gi=/[\n"\\]/g;function le(t){return t.replace(gi,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ns(t,n,s,l,c,f,y,E){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Je(n)):t.value!==""+Je(n)&&(t.value=""+Je(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?Ir(t,y,Je(n)):s!=null?Ir(t,y,Je(s)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Je(E):t.removeAttribute("name")}function qs(t,n,s,l,c,f,y,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;s=s!=null?""+Je(s):"",n=n!=null?""+Je(n):s,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y)}function Ir(t,n,s){n==="number"&&Nr(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function kt(t,n,s,l){if(t=t.options,n){n={};for(var c=0;c<s.length;c++)n["$"+s[c]]=!0;for(s=0;s<t.length;s++)c=n.hasOwnProperty("$"+t[s].value),t[s].selected!==c&&(t[s].selected=c),c&&l&&(t[s].defaultSelected=!0)}else{for(s=""+Je(s),n=null,c=0;c<t.length;c++){if(t[c].value===s){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Hs(t,n,s){if(n!=null&&(n=""+Je(n),n!==t.value&&(t.value=n),s==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=s!=null?""+Je(s):""}function is(t,n,s,l){if(n==null){if(l!=null){if(s!=null)throw Error(a(92));if(nt(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),n=s}s=Je(n),t.defaultValue=s,l=t.textContent,l===s&&l!==""&&l!==null&&(t.value=l)}function En(t,n){if(n){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=n;return}}t.textContent=n}var Rc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ha(t,n,s){var l=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,s):typeof s!="number"||s===0||Rc.has(n)?n==="float"?t.cssFloat=s:t[n]=(""+s).trim():t[n]=s+"px"}function po(t,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&s[c]!==l&&Ha(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&Ha(t,f,n[f])}function Ga(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Cc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Fn(t){return Cc.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Tn=null;function Or(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var pi=null,yi=null;function _i(t){var n=mi(t);if(n&&(t=n.stateNode)){var s=t[Ee]||null;t:switch(t=n.stateNode,n.type){case"input":if(ns(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+le(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==t&&l.form===t.form){var c=l[Ee]||null;if(!c)throw Error(a(90));ns(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<s.length;n++)l=s[n],l.form===t.form&&qa(l)}break t;case"textarea":Hs(t,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&kt(t,!!s.multiple,n,!1)}}}var Qa=!1;function yo(t,n,s){if(Qa)return t(n,s);Qa=!0;try{var l=t(n);return l}finally{if(Qa=!1,(pi!==null||yi!==null)&&(ou(),pi&&(n=pi,t=yi,yi=pi=null,_i(n),t)))for(n=0;n<t.length;n++)_i(t[n])}}function Gs(t,n){var s=t.stateNode;if(s===null)return null;var l=s[Ee]||null;if(l===null)return null;s=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var An=!1;if(un)try{var Qs={};Object.defineProperty(Qs,"passive",{get:function(){An=!0}}),window.addEventListener("test",Qs,Qs),window.removeEventListener("test",Qs,Qs)}catch{An=!1}var Kn=null,ss=null,vi=null;function Fa(){if(vi)return vi;var t,n=ss,s=n.length,l,c="value"in Kn?Kn.value:Kn.textContent,f=c.length;for(t=0;t<s&&n[t]===c[t];t++);var y=s-t;for(l=1;l<=y&&n[s-l]===c[f-l];l++);return vi=c.slice(t,1<l?1-l:void 0)}function Yn(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Xn(){return!0}function Ka(){return!1}function Ne(t){function n(s,l,c,f,y){this._reactName=s,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(s=t[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Xn:Ka,this.isPropagationStopped=Ka,this}return w(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Xn)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Xn)},persist:function(){},isPersistent:Xn}),n}var Ht={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mr=Ne(Ht),Fs=w({},Ht,{view:0,detail:0}),_o=Ne(Fs),xr,Ur,Zn,Ks=w({},Fs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Zn&&(Zn&&t.type==="mousemove"?(xr=t.screenX-Zn.screenX,Ur=t.screenY-Zn.screenY):Ur=xr=0,Zn=t),xr)},movementY:function(t){return"movementY"in t?t.movementY:Ur}}),Sn=Ne(Ks),vo=w({},Ks,{dataTransfer:0}),Dc=Ne(vo),Ys=w({},Fs,{relatedTarget:0}),Lr=Ne(Ys),Ya=w({},Ht,{animationName:0,elapsedTime:0,pseudoElement:0}),zr=Ne(Ya),Eo=w({},Ht,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Br=Ne(Eo),Vc=w({},Ht,{data:0}),Xa=Ne(Vc),Xs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},To={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ao={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Za(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Ao[t])?!!n[t]:!1}function Zs(){return Za}var So=w({},Fs,{key:function(t){if(t.key){var n=Xs[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Yn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?To[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zs,charCode:function(t){return t.type==="keypress"?Yn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Yn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Pr=Ne(So),bo=w({},Ks,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$a=Ne(bo),Ei=w({},Fs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zs}),Ro=Ne(Ei),wo=w({},Ht,{propertyName:0,elapsedTime:0,pseudoElement:0}),Co=Ne(wo),Do=w({},Ks,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),kr=Ne(Do),We=w({},Ht,{newState:0,oldState:0}),Vo=Ne(We),No=[9,13,27,32],$n=un&&"CompositionEvent"in window,u=null;un&&"documentMode"in document&&(u=document.documentMode);var m=un&&"TextEvent"in window&&!u,p=un&&(!$n||u&&8<u&&11>=u),T=" ",z=!1;function q(t,n){switch(t){case"keyup":return No.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tt(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var xt=!1;function Te(t,n){switch(t){case"compositionend":return tt(n);case"keypress":return n.which!==32?null:(z=!0,T);case"textInput":return t=n.data,t===T&&z?null:t;default:return null}}function Ut(t,n){if(xt)return t==="compositionend"||!$n&&q(t,n)?(t=Fa(),vi=ss=Kn=null,xt=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return p&&n.locale!=="ko"?null:n.data;default:return null}}var Ie={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ae(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Ie[t.type]:n==="textarea"}function Ti(t,n,s,l){pi?yi?yi.push(l):yi=[l]:pi=l,n=du(n,"onChange"),0<n.length&&(s=new Mr("onChange","change",null,s,l),t.push({event:s,listeners:n}))}var Le=null,Jn=null;function Ja(t){hp(t,0)}function Io(t){var n=Ji(t);if(qa(n))return t}function kd(t,n){if(t==="change")return n}var jd=!1;if(un){var Nc;if(un){var Ic="oninput"in document;if(!Ic){var qd=document.createElement("div");qd.setAttribute("oninput","return;"),Ic=typeof qd.oninput=="function"}Nc=Ic}else Nc=!1;jd=Nc&&(!document.documentMode||9<document.documentMode)}function Hd(){Le&&(Le.detachEvent("onpropertychange",Gd),Jn=Le=null)}function Gd(t){if(t.propertyName==="value"&&Io(Jn)){var n=[];Ti(n,Jn,t,Or(t)),yo(Ja,n)}}function Kv(t,n,s){t==="focusin"?(Hd(),Le=n,Jn=s,Le.attachEvent("onpropertychange",Gd)):t==="focusout"&&Hd()}function Yv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Io(Jn)}function Xv(t,n){if(t==="click")return Io(n)}function Zv(t,n){if(t==="input"||t==="change")return Io(n)}function $v(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var cn=typeof Object.is=="function"?Object.is:$v;function Wa(t,n){if(cn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var s=Object.keys(t),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var c=s[l];if(!br.call(n,c)||!cn(t[c],n[c]))return!1}return!0}function Qd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Fd(t,n){var s=Qd(t);t=0;for(var l;s;){if(s.nodeType===3){if(l=t+s.textContent.length,t<=n&&l>=n)return{node:s,offset:n-t};t=l}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=Qd(s)}}function Kd(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Kd(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Yd(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Nr(t.document);n instanceof t.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)t=n.contentWindow;else break;n=Nr(t.document)}return n}function Oc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}function Jv(t,n){var s=Yd(n);n=t.focusedElem;var l=t.selectionRange;if(s!==n&&n&&n.ownerDocument&&Kd(n.ownerDocument.documentElement,n)){if(l!==null&&Oc(n)){if(t=l.start,s=l.end,s===void 0&&(s=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(s,n.value.length);else if(s=(t=n.ownerDocument||document)&&t.defaultView||window,s.getSelection){s=s.getSelection();var c=n.textContent.length,f=Math.min(l.start,c);l=l.end===void 0?f:Math.min(l.end,c),!s.extend&&f>l&&(c=l,l=f,f=c),c=Fd(n,f);var y=Fd(n,l);c&&y&&(s.rangeCount!==1||s.anchorNode!==c.node||s.anchorOffset!==c.offset||s.focusNode!==y.node||s.focusOffset!==y.offset)&&(t=t.createRange(),t.setStart(c.node,c.offset),s.removeAllRanges(),f>l?(s.addRange(t),s.extend(y.node,y.offset)):(t.setEnd(y.node,y.offset),s.addRange(t)))}}for(t=[],s=n;s=s.parentNode;)s.nodeType===1&&t.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)s=t[n],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var Wv=un&&"documentMode"in document&&11>=document.documentMode,jr=null,Mc=null,tl=null,xc=!1;function Xd(t,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;xc||jr==null||jr!==Nr(l)||(l=jr,"selectionStart"in l&&Oc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),tl&&Wa(tl,l)||(tl=l,l=du(Mc,"onSelect"),0<l.length&&(n=new Mr("onSelect","select",null,n,s),t.push({event:n,listeners:l}),n.target=jr)))}function $s(t,n){var s={};return s[t.toLowerCase()]=n.toLowerCase(),s["Webkit"+t]="webkit"+n,s["Moz"+t]="moz"+n,s}var qr={animationend:$s("Animation","AnimationEnd"),animationiteration:$s("Animation","AnimationIteration"),animationstart:$s("Animation","AnimationStart"),transitionrun:$s("Transition","TransitionRun"),transitionstart:$s("Transition","TransitionStart"),transitioncancel:$s("Transition","TransitionCancel"),transitionend:$s("Transition","TransitionEnd")},Uc={},Zd={};un&&(Zd=document.createElement("div").style,"AnimationEvent"in window||(delete qr.animationend.animation,delete qr.animationiteration.animation,delete qr.animationstart.animation),"TransitionEvent"in window||delete qr.transitionend.transition);function Js(t){if(Uc[t])return Uc[t];if(!qr[t])return t;var n=qr[t],s;for(s in n)if(n.hasOwnProperty(s)&&s in Zd)return Uc[t]=n[s];return t}var $d=Js("animationend"),Jd=Js("animationiteration"),Wd=Js("animationstart"),t0=Js("transitionrun"),e0=Js("transitionstart"),n0=Js("transitioncancel"),tm=Js("transitionend"),em=new Map,nm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function zn(t,n){em.set(t,n),on(n,[t])}var bn=[],Hr=0,Lc=0;function Oo(){for(var t=Hr,n=Lc=Hr=0;n<t;){var s=bn[n];bn[n++]=null;var l=bn[n];bn[n++]=null;var c=bn[n];bn[n++]=null;var f=bn[n];if(bn[n++]=null,l!==null&&c!==null){var y=l.pending;y===null?c.next=c:(c.next=y.next,y.next=c),l.pending=c}f!==0&&im(s,c,f)}}function Mo(t,n,s,l){bn[Hr++]=t,bn[Hr++]=n,bn[Hr++]=s,bn[Hr++]=l,Lc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function zc(t,n,s,l){return Mo(t,n,s,l),xo(t)}function rs(t,n){return Mo(t,null,null,n),xo(t)}function im(t,n,s){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s);for(var c=!1,f=t.return;f!==null;)f.childLanes|=s,l=f.alternate,l!==null&&(l.childLanes|=s),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;c&&n!==null&&t.tag===3&&(f=t.stateNode,c=31-$e(s),f=f.hiddenUpdates,t=f[c],t===null?f[c]=[n]:t.push(n),n.lane=s|536870912)}function xo(t){if(50<Rl)throw Rl=0,Hh=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Gr={},sm=new WeakMap;function Rn(t,n){if(typeof t=="object"&&t!==null){var s=sm.get(t);return s!==void 0?s:(n={value:t,source:n,stack:pt(n)},sm.set(t,n),n)}return{value:t,source:n,stack:pt(n)}}var Qr=[],Fr=0,Uo=null,Lo=0,wn=[],Cn=0,Ws=null,Ai=1,Si="";function tr(t,n){Qr[Fr++]=Lo,Qr[Fr++]=Uo,Uo=t,Lo=n}function rm(t,n,s){wn[Cn++]=Ai,wn[Cn++]=Si,wn[Cn++]=Ws,Ws=t;var l=Ai;t=Si;var c=32-$e(l)-1;l&=~(1<<c),s+=1;var f=32-$e(n)+c;if(30<f){var y=c-c%5;f=(l&(1<<y)-1).toString(32),l>>=y,c-=y,Ai=1<<32-$e(n)+c|s<<c|l,Si=f+t}else Ai=1<<f|s<<c|l,Si=t}function Bc(t){t.return!==null&&(tr(t,1),rm(t,1,0))}function Pc(t){for(;t===Uo;)Uo=Qr[--Fr],Qr[Fr]=null,Lo=Qr[--Fr],Qr[Fr]=null;for(;t===Ws;)Ws=wn[--Cn],wn[Cn]=null,Si=wn[--Cn],wn[Cn]=null,Ai=wn[--Cn],wn[Cn]=null}var tn=null,ze=null,jt=!1,Bn=null,Wn=!1,kc=Error(a(519));function er(t){var n=Error(a(418,""));throw il(Rn(n,t)),kc}function am(t){var n=t.stateNode,s=t.type,l=t.memoizedProps;switch(n[Ve]=t,n[Ee]=l,s){case"dialog":Ot("cancel",n),Ot("close",n);break;case"iframe":case"object":case"embed":Ot("load",n);break;case"video":case"audio":for(s=0;s<Cl.length;s++)Ot(Cl[s],n);break;case"source":Ot("error",n);break;case"img":case"image":case"link":Ot("error",n),Ot("load",n);break;case"details":Ot("toggle",n);break;case"input":Ot("invalid",n),qs(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),js(n);break;case"select":Ot("invalid",n);break;case"textarea":Ot("invalid",n),is(n,l.value,l.defaultValue,l.children),js(n)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||l.suppressHydrationWarning===!0||gp(n.textContent,s)?(l.popover!=null&&(Ot("beforetoggle",n),Ot("toggle",n)),l.onScroll!=null&&Ot("scroll",n),l.onScrollEnd!=null&&Ot("scrollend",n),l.onClick!=null&&(n.onclick=mu),n=!0):n=!1,n||er(t)}function lm(t){for(tn=t.return;tn;)switch(tn.tag){case 3:case 27:Wn=!0;return;case 5:case 13:Wn=!1;return;default:tn=tn.return}}function el(t){if(t!==tn)return!1;if(!jt)return lm(t),jt=!0,!1;var n=!1,s;if((s=t.tag!==3&&t.tag!==27)&&((s=t.tag===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||lf(t.type,t.memoizedProps)),s=!s),s&&(n=!0),n&&ze&&er(t),lm(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(s=t.data,s==="/$"){if(n===0){ze=kn(t.nextSibling);break t}n--}else s!=="$"&&s!=="$!"&&s!=="$?"||n++;t=t.nextSibling}ze=null}}else ze=tn?kn(t.stateNode.nextSibling):null;return!0}function nl(){ze=tn=null,jt=!1}function il(t){Bn===null?Bn=[t]:Bn.push(t)}var sl=Error(a(460)),om=Error(a(474)),jc={then:function(){}};function um(t){return t=t.status,t==="fulfilled"||t==="rejected"}function zo(){}function cm(t,n,s){switch(s=t[s],s===void 0?t.push(n):s!==n&&(n.then(zo,zo),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,t===sl?Error(a(483)):t;default:if(typeof n.status=="string")n.then(zo,zo);else{if(t=Zt,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,t===sl?Error(a(483)):t}throw rl=n,sl}}var rl=null;function hm(){if(rl===null)throw Error(a(459));var t=rl;return rl=null,t}var Kr=null,al=0;function Bo(t){var n=al;return al+=1,Kr===null&&(Kr=[]),cm(Kr,t,n)}function ll(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Po(t,n){throw n.$$typeof===h?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function fm(t){var n=t._init;return n(t._payload)}function dm(t){function n(U,O){if(t){var B=U.deletions;B===null?(U.deletions=[O],U.flags|=16):B.push(O)}}function s(U,O){if(!t)return null;for(;O!==null;)n(U,O),O=O.sibling;return null}function l(U){for(var O=new Map;U!==null;)U.key!==null?O.set(U.key,U):O.set(U.index,U),U=U.sibling;return O}function c(U,O){return U=ys(U,O),U.index=0,U.sibling=null,U}function f(U,O,B){return U.index=B,t?(B=U.alternate,B!==null?(B=B.index,B<O?(U.flags|=33554434,O):B):(U.flags|=33554434,O)):(U.flags|=1048576,O)}function y(U){return t&&U.alternate===null&&(U.flags|=33554434),U}function E(U,O,B,Q){return O===null||O.tag!==6?(O=Uh(B,U.mode,Q),O.return=U,O):(O=c(O,B),O.return=U,O)}function R(U,O,B,Q){var at=B.type;return at===_?G(U,O,B.props.children,Q,B.key):O!==null&&(O.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===dt&&fm(at)===O.type)?(O=c(O,B.props),ll(O,B),O.return=U,O):(O=iu(B.type,B.key,B.props,null,U.mode,Q),ll(O,B),O.return=U,O)}function M(U,O,B,Q){return O===null||O.tag!==4||O.stateNode.containerInfo!==B.containerInfo||O.stateNode.implementation!==B.implementation?(O=Lh(B,U.mode,Q),O.return=U,O):(O=c(O,B.children||[]),O.return=U,O)}function G(U,O,B,Q,at){return O===null||O.tag!==7?(O=hr(B,U.mode,Q,at),O.return=U,O):(O=c(O,B),O.return=U,O)}function K(U,O,B){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Uh(""+O,U.mode,B),O.return=U,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case d:return B=iu(O.type,O.key,O.props,null,U.mode,B),ll(B,O),B.return=U,B;case g:return O=Lh(O,U.mode,B),O.return=U,O;case dt:var Q=O._init;return O=Q(O._payload),K(U,O,B)}if(nt(O)||lt(O))return O=hr(O,U.mode,B,null),O.return=U,O;if(typeof O.then=="function")return K(U,Bo(O),B);if(O.$$typeof===k)return K(U,tu(U,O),B);Po(U,O)}return null}function j(U,O,B,Q){var at=O!==null?O.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return at!==null?null:E(U,O,""+B,Q);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case d:return B.key===at?R(U,O,B,Q):null;case g:return B.key===at?M(U,O,B,Q):null;case dt:return at=B._init,B=at(B._payload),j(U,O,B,Q)}if(nt(B)||lt(B))return at!==null?null:G(U,O,B,Q,null);if(typeof B.then=="function")return j(U,O,Bo(B),Q);if(B.$$typeof===k)return j(U,O,tu(U,B),Q);Po(U,B)}return null}function H(U,O,B,Q,at){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return U=U.get(B)||null,E(O,U,""+Q,at);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case d:return U=U.get(Q.key===null?B:Q.key)||null,R(O,U,Q,at);case g:return U=U.get(Q.key===null?B:Q.key)||null,M(O,U,Q,at);case dt:var Vt=Q._init;return Q=Vt(Q._payload),H(U,O,B,Q,at)}if(nt(Q)||lt(Q))return U=U.get(B)||null,G(O,U,Q,at,null);if(typeof Q.then=="function")return H(U,O,B,Bo(Q),at);if(Q.$$typeof===k)return H(U,O,B,tu(O,Q),at);Po(O,Q)}return null}function ht(U,O,B,Q){for(var at=null,Vt=null,ft=O,vt=O=0,xe=null;ft!==null&&vt<B.length;vt++){ft.index>vt?(xe=ft,ft=null):xe=ft.sibling;var qt=j(U,ft,B[vt],Q);if(qt===null){ft===null&&(ft=xe);break}t&&ft&&qt.alternate===null&&n(U,ft),O=f(qt,O,vt),Vt===null?at=qt:Vt.sibling=qt,Vt=qt,ft=xe}if(vt===B.length)return s(U,ft),jt&&tr(U,vt),at;if(ft===null){for(;vt<B.length;vt++)ft=K(U,B[vt],Q),ft!==null&&(O=f(ft,O,vt),Vt===null?at=ft:Vt.sibling=ft,Vt=ft);return jt&&tr(U,vt),at}for(ft=l(ft);vt<B.length;vt++)xe=H(ft,U,vt,B[vt],Q),xe!==null&&(t&&xe.alternate!==null&&ft.delete(xe.key===null?vt:xe.key),O=f(xe,O,vt),Vt===null?at=xe:Vt.sibling=xe,Vt=xe);return t&&ft.forEach(function(bs){return n(U,bs)}),jt&&tr(U,vt),at}function At(U,O,B,Q){if(B==null)throw Error(a(151));for(var at=null,Vt=null,ft=O,vt=O=0,xe=null,qt=B.next();ft!==null&&!qt.done;vt++,qt=B.next()){ft.index>vt?(xe=ft,ft=null):xe=ft.sibling;var bs=j(U,ft,qt.value,Q);if(bs===null){ft===null&&(ft=xe);break}t&&ft&&bs.alternate===null&&n(U,ft),O=f(bs,O,vt),Vt===null?at=bs:Vt.sibling=bs,Vt=bs,ft=xe}if(qt.done)return s(U,ft),jt&&tr(U,vt),at;if(ft===null){for(;!qt.done;vt++,qt=B.next())qt=K(U,qt.value,Q),qt!==null&&(O=f(qt,O,vt),Vt===null?at=qt:Vt.sibling=qt,Vt=qt);return jt&&tr(U,vt),at}for(ft=l(ft);!qt.done;vt++,qt=B.next())qt=H(ft,U,vt,qt.value,Q),qt!==null&&(t&&qt.alternate!==null&&ft.delete(qt.key===null?vt:qt.key),O=f(qt,O,vt),Vt===null?at=qt:Vt.sibling=qt,Vt=qt);return t&&ft.forEach(function(pE){return n(U,pE)}),jt&&tr(U,vt),at}function ce(U,O,B,Q){if(typeof B=="object"&&B!==null&&B.type===_&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case d:t:{for(var at=B.key;O!==null;){if(O.key===at){if(at=B.type,at===_){if(O.tag===7){s(U,O.sibling),Q=c(O,B.props.children),Q.return=U,U=Q;break t}}else if(O.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===dt&&fm(at)===O.type){s(U,O.sibling),Q=c(O,B.props),ll(Q,B),Q.return=U,U=Q;break t}s(U,O);break}else n(U,O);O=O.sibling}B.type===_?(Q=hr(B.props.children,U.mode,Q,B.key),Q.return=U,U=Q):(Q=iu(B.type,B.key,B.props,null,U.mode,Q),ll(Q,B),Q.return=U,U=Q)}return y(U);case g:t:{for(at=B.key;O!==null;){if(O.key===at)if(O.tag===4&&O.stateNode.containerInfo===B.containerInfo&&O.stateNode.implementation===B.implementation){s(U,O.sibling),Q=c(O,B.children||[]),Q.return=U,U=Q;break t}else{s(U,O);break}else n(U,O);O=O.sibling}Q=Lh(B,U.mode,Q),Q.return=U,U=Q}return y(U);case dt:return at=B._init,B=at(B._payload),ce(U,O,B,Q)}if(nt(B))return ht(U,O,B,Q);if(lt(B)){if(at=lt(B),typeof at!="function")throw Error(a(150));return B=at.call(B),At(U,O,B,Q)}if(typeof B.then=="function")return ce(U,O,Bo(B),Q);if(B.$$typeof===k)return ce(U,O,tu(U,B),Q);Po(U,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,O!==null&&O.tag===6?(s(U,O.sibling),Q=c(O,B),Q.return=U,U=Q):(s(U,O),Q=Uh(B,U.mode,Q),Q.return=U,U=Q),y(U)):s(U,O)}return function(U,O,B,Q){try{al=0;var at=ce(U,O,B,Q);return Kr=null,at}catch(ft){if(ft===sl)throw ft;var Vt=In(29,ft,null,U.mode);return Vt.lanes=Q,Vt.return=U,Vt}finally{}}}var nr=dm(!0),mm=dm(!1),Yr=Pt(null),ko=Pt(0);function gm(t,n){t=xi,Qt(ko,t),Qt(Yr,n),xi=t|n.baseLanes}function qc(){Qt(ko,xi),Qt(Yr,Yr.current)}function Hc(){xi=ko.current,ae(Yr),ae(ko)}var Dn=Pt(null),ti=null;function as(t){var n=t.alternate;Qt(Se,Se.current&1),Qt(Dn,t),ti===null&&(n===null||Yr.current!==null||n.memoizedState!==null)&&(ti=t)}function pm(t){if(t.tag===22){if(Qt(Se,Se.current),Qt(Dn,t),ti===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(ti=t)}}else ls()}function ls(){Qt(Se,Se.current),Qt(Dn,Dn.current)}function bi(t){ae(Dn),ti===t&&(ti=null),ae(Se)}var Se=Pt(0);function jo(t){for(var n=t;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var i0=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(s,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(s){return s()})}},s0=r.unstable_scheduleCallback,r0=r.unstable_NormalPriority,be={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Gc(){return{controller:new i0,data:new Map,refCount:0}}function ol(t){t.refCount--,t.refCount===0&&s0(r0,function(){t.controller.abort()})}var ul=null,Qc=0,Xr=0,Zr=null;function a0(t,n){if(ul===null){var s=ul=[];Qc=0,Xr=$h(),Zr={status:"pending",value:void 0,then:function(l){s.push(l)}}}return Qc++,n.then(ym,ym),n}function ym(){if(--Qc===0&&ul!==null){Zr!==null&&(Zr.status="fulfilled");var t=ul;ul=null,Xr=0,Zr=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function l0(t,n){var s=[],l={status:"pending",value:null,reason:null,then:function(c){s.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<s.length;c++)(0,s[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<s.length;c++)(0,s[c])(void 0)}),l}var _m=A.S;A.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&a0(t,n),_m!==null&&_m(t,n)};var ir=Pt(null);function Fc(){var t=ir.current;return t!==null?t:Zt.pooledCache}function qo(t,n){n===null?Qt(ir,ir.current):Qt(ir,n.pool)}function vm(){var t=Fc();return t===null?null:{parent:be._currentValue,pool:t}}var os=0,Ct=null,Ft=null,ge=null,Ho=!1,$r=!1,sr=!1,Go=0,cl=0,Jr=null,o0=0;function de(){throw Error(a(321))}function Kc(t,n){if(n===null)return!1;for(var s=0;s<n.length&&s<t.length;s++)if(!cn(t[s],n[s]))return!1;return!0}function Yc(t,n,s,l,c,f){return os=f,Ct=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,A.H=t===null||t.memoizedState===null?rr:us,sr=!1,f=s(l,c),sr=!1,$r&&(f=Tm(n,s,l,c)),Em(t),f}function Em(t){A.H=ei;var n=Ft!==null&&Ft.next!==null;if(os=0,ge=Ft=Ct=null,Ho=!1,cl=0,Jr=null,n)throw Error(a(300));t===null||Oe||(t=t.dependencies,t!==null&&Wo(t)&&(Oe=!0))}function Tm(t,n,s,l){Ct=t;var c=0;do{if($r&&(Jr=null),cl=0,$r=!1,25<=c)throw Error(a(301));if(c+=1,ge=Ft=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}A.H=ar,f=n(s,l)}while($r);return f}function u0(){var t=A.H,n=t.useState()[0];return n=typeof n.then=="function"?hl(n):n,t=t.useState()[0],(Ft!==null?Ft.memoizedState:null)!==t&&(Ct.flags|=1024),n}function Xc(){var t=Go!==0;return Go=0,t}function Zc(t,n,s){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~s}function $c(t){if(Ho){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Ho=!1}os=0,ge=Ft=Ct=null,$r=!1,cl=Go=0,Jr=null}function rn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ge===null?Ct.memoizedState=ge=t:ge=ge.next=t,ge}function pe(){if(Ft===null){var t=Ct.alternate;t=t!==null?t.memoizedState:null}else t=Ft.next;var n=ge===null?Ct.memoizedState:ge.next;if(n!==null)ge=n,Ft=t;else{if(t===null)throw Ct.alternate===null?Error(a(467)):Error(a(310));Ft=t,t={memoizedState:Ft.memoizedState,baseState:Ft.baseState,baseQueue:Ft.baseQueue,queue:Ft.queue,next:null},ge===null?Ct.memoizedState=ge=t:ge=ge.next=t}return ge}var Qo;Qo=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function hl(t){var n=cl;return cl+=1,Jr===null&&(Jr=[]),t=cm(Jr,t,n),n=Ct,(ge===null?n.memoizedState:ge.next)===null&&(n=n.alternate,A.H=n===null||n.memoizedState===null?rr:us),t}function Fo(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return hl(t);if(t.$$typeof===k)return Ge(t)}throw Error(a(438,String(t)))}function Jc(t){var n=null,s=Ct.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var l=Ct.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Qo(),Ct.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(t),l=0;l<t;l++)s[l]=Rt;return n.index++,s}function Ri(t,n){return typeof n=="function"?n(t):n}function Ko(t){var n=pe();return Wc(n,Ft,t)}function Wc(t,n,s){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var y=c.next;c.next=f.next,f.next=y}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=y=null,R=null,M=n,G=!1;do{var K=M.lane&-536870913;if(K!==M.lane?(Lt&K)===K:(os&K)===K){var j=M.revertLane;if(j===0)R!==null&&(R=R.next={lane:0,revertLane:0,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null}),K===Xr&&(G=!0);else if((os&j)===j){M=M.next,j===Xr&&(G=!0);continue}else K={lane:0,revertLane:M.revertLane,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null},R===null?(E=R=K,y=f):R=R.next=K,Ct.lanes|=j,_s|=j;K=M.action,sr&&s(f,K),f=M.hasEagerState?M.eagerState:s(f,K)}else j={lane:K,revertLane:M.revertLane,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null},R===null?(E=R=j,y=f):R=R.next=j,Ct.lanes|=K,_s|=K;M=M.next}while(M!==null&&M!==n);if(R===null?y=f:R.next=E,!cn(f,t.memoizedState)&&(Oe=!0,G&&(s=Zr,s!==null)))throw s;t.memoizedState=f,t.baseState=y,t.baseQueue=R,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function th(t){var n=pe(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=t;var l=s.dispatch,c=s.pending,f=n.memoizedState;if(c!==null){s.pending=null;var y=c=c.next;do f=t(f,y.action),y=y.next;while(y!==c);cn(f,n.memoizedState)||(Oe=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,l]}function Am(t,n,s){var l=Ct,c=pe(),f=jt;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var y=!cn((Ft||c).memoizedState,s);if(y&&(c.memoizedState=s,Oe=!0),c=c.queue,ih(Rm.bind(null,l,c,t),[t]),c.getSnapshot!==n||y||ge!==null&&ge.memoizedState.tag&1){if(l.flags|=2048,Wr(9,bm.bind(null,l,c,s,n),{destroy:void 0},null),Zt===null)throw Error(a(349));f||(os&60)!==0||Sm(l,n,s)}return s}function Sm(t,n,s){t.flags|=16384,t={getSnapshot:n,value:s},n=Ct.updateQueue,n===null?(n=Qo(),Ct.updateQueue=n,n.stores=[t]):(s=n.stores,s===null?n.stores=[t]:s.push(t))}function bm(t,n,s,l){n.value=s,n.getSnapshot=l,wm(n)&&Cm(t)}function Rm(t,n,s){return s(function(){wm(n)&&Cm(t)})}function wm(t){var n=t.getSnapshot;t=t.value;try{var s=n();return!cn(t,s)}catch{return!0}}function Cm(t){var n=rs(t,2);n!==null&&en(n,t,2)}function eh(t){var n=rn();if(typeof t=="function"){var s=t;if(t=s(),sr){qn(!0);try{s()}finally{qn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:t},n}function Dm(t,n,s,l){return t.baseState=s,Wc(t,Ft,typeof l=="function"?l:Ri)}function c0(t,n,s,l,c){if(Zo(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};A.T!==null?s(!0):f.isTransition=!1,l(f),s=n.pending,s===null?(f.next=n.pending=f,Vm(n,f)):(f.next=s.next,n.pending=s.next=f)}}function Vm(t,n){var s=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=A.T,y={};A.T=y;try{var E=s(c,l),R=A.S;R!==null&&R(y,E),Nm(t,n,E)}catch(M){nh(t,n,M)}finally{A.T=f}}else try{f=s(c,l),Nm(t,n,f)}catch(M){nh(t,n,M)}}function Nm(t,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){Im(t,n,l)},function(l){return nh(t,n,l)}):Im(t,n,s)}function Im(t,n,s){n.status="fulfilled",n.value=s,Om(n),t.state=s,n=t.pending,n!==null&&(s=n.next,s===n?t.pending=null:(s=s.next,n.next=s,Vm(t,s)))}function nh(t,n,s){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=s,Om(n),n=n.next;while(n!==l)}t.action=null}function Om(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Mm(t,n){return n}function xm(t,n){if(jt){var s=Zt.formState;if(s!==null){t:{var l=Ct;if(jt){if(ze){e:{for(var c=ze,f=Wn;c.nodeType!==8;){if(!f){c=null;break e}if(c=kn(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){ze=kn(c.nextSibling),l=c.data==="F!";break t}}er(l)}l=!1}l&&(n=s[0])}}return s=rn(),s.memoizedState=s.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mm,lastRenderedState:n},s.queue=l,s=Jm.bind(null,Ct,l),l.dispatch=s,l=eh(!1),f=oh.bind(null,Ct,!1,l.queue),l=rn(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,s=c0.bind(null,Ct,c,f,s),c.dispatch=s,l.memoizedState=t,[n,s,!1]}function Um(t){var n=pe();return Lm(n,Ft,t)}function Lm(t,n,s){n=Wc(t,n,Mm)[0],t=Ko(Ri)[0],n=typeof n=="object"&&n!==null&&typeof n.then=="function"?hl(n):n;var l=pe(),c=l.queue,f=c.dispatch;return s!==l.memoizedState&&(Ct.flags|=2048,Wr(9,h0.bind(null,c,s),{destroy:void 0},null)),[n,f,t]}function h0(t,n){t.action=n}function zm(t){var n=pe(),s=Ft;if(s!==null)return Lm(n,s,t);pe(),n=n.memoizedState,s=pe();var l=s.queue.dispatch;return s.memoizedState=t,[n,l,!1]}function Wr(t,n,s,l){return t={tag:t,create:n,inst:s,deps:l,next:null},n=Ct.updateQueue,n===null&&(n=Qo(),Ct.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=t.next=t:(l=s.next,s.next=t,t.next=l,n.lastEffect=t),t}function Bm(){return pe().memoizedState}function Yo(t,n,s,l){var c=rn();Ct.flags|=t,c.memoizedState=Wr(1|n,s,{destroy:void 0},l===void 0?null:l)}function Xo(t,n,s,l){var c=pe();l=l===void 0?null:l;var f=c.memoizedState.inst;Ft!==null&&l!==null&&Kc(l,Ft.memoizedState.deps)?c.memoizedState=Wr(n,s,f,l):(Ct.flags|=t,c.memoizedState=Wr(1|n,s,f,l))}function Pm(t,n){Yo(8390656,8,t,n)}function ih(t,n){Xo(2048,8,t,n)}function km(t,n){return Xo(4,2,t,n)}function jm(t,n){return Xo(4,4,t,n)}function qm(t,n){if(typeof n=="function"){t=t();var s=n(t);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Hm(t,n,s){s=s!=null?s.concat([t]):null,Xo(4,4,qm.bind(null,n,t),s)}function sh(){}function Gm(t,n){var s=pe();n=n===void 0?null:n;var l=s.memoizedState;return n!==null&&Kc(n,l[1])?l[0]:(s.memoizedState=[t,n],t)}function Qm(t,n){var s=pe();n=n===void 0?null:n;var l=s.memoizedState;if(n!==null&&Kc(n,l[1]))return l[0];if(l=t(),sr){qn(!0);try{t()}finally{qn(!1)}}return s.memoizedState=[l,n],l}function rh(t,n,s){return s===void 0||(os&1073741824)!==0?t.memoizedState=n:(t.memoizedState=s,t=Kg(),Ct.lanes|=t,_s|=t,s)}function Fm(t,n,s,l){return cn(s,n)?s:Yr.current!==null?(t=rh(t,s,l),cn(t,n)||(Oe=!0),t):(os&42)===0?(Oe=!0,t.memoizedState=s):(t=Kg(),Ct.lanes|=t,_s|=t,n)}function Km(t,n,s,l,c){var f=it.p;it.p=f!==0&&8>f?f:8;var y=A.T,E={};A.T=E,oh(t,!1,n,s);try{var R=c(),M=A.S;if(M!==null&&M(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var G=l0(R,l);fl(t,n,G,mn(t))}else fl(t,n,l,mn(t))}catch(K){fl(t,n,{then:function(){},status:"rejected",reason:K},mn())}finally{it.p=f,A.T=y}}function f0(){}function ah(t,n,s,l){if(t.tag!==5)throw Error(a(476));var c=Ym(t).queue;Km(t,c,n,ct,s===null?f0:function(){return Xm(t),s(l)})}function Ym(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ct,baseState:ct,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:ct},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:s},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Xm(t){var n=Ym(t).next.queue;fl(t,n,{},mn())}function lh(){return Ge(Ol)}function Zm(){return pe().memoizedState}function $m(){return pe().memoizedState}function d0(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var s=mn();t=fs(s);var l=ds(n,t,s);l!==null&&(en(l,n,s),gl(l,n,s)),n={cache:Gc()},t.payload=n;return}n=n.return}}function m0(t,n,s){var l=mn();s={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},Zo(t)?Wm(n,s):(s=zc(t,n,s,l),s!==null&&(en(s,t,l),tg(s,n,l)))}function Jm(t,n,s){var l=mn();fl(t,n,s,l)}function fl(t,n,s,l){var c={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(Zo(t))Wm(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,E=f(y,s);if(c.hasEagerState=!0,c.eagerState=E,cn(E,y))return Mo(t,n,c,0),Zt===null&&Oo(),!1}catch{}finally{}if(s=zc(t,n,c,l),s!==null)return en(s,t,l),tg(s,n,l),!0}return!1}function oh(t,n,s,l){if(l={lane:2,revertLane:$h(),action:l,hasEagerState:!1,eagerState:null,next:null},Zo(t)){if(n)throw Error(a(479))}else n=zc(t,s,l,2),n!==null&&en(n,t,2)}function Zo(t){var n=t.alternate;return t===Ct||n!==null&&n===Ct}function Wm(t,n){$r=Ho=!0;var s=t.pending;s===null?n.next=n:(n.next=s.next,s.next=n),t.pending=n}function tg(t,n,s){if((s&4194176)!==0){var l=n.lanes;l&=t.pendingLanes,s|=l,n.lanes=s,Xi(t,s)}}var ei={readContext:Ge,use:Fo,useCallback:de,useContext:de,useEffect:de,useImperativeHandle:de,useLayoutEffect:de,useInsertionEffect:de,useMemo:de,useReducer:de,useRef:de,useState:de,useDebugValue:de,useDeferredValue:de,useTransition:de,useSyncExternalStore:de,useId:de};ei.useCacheRefresh=de,ei.useMemoCache=de,ei.useHostTransitionStatus=de,ei.useFormState=de,ei.useActionState=de,ei.useOptimistic=de;var rr={readContext:Ge,use:Fo,useCallback:function(t,n){return rn().memoizedState=[t,n===void 0?null:n],t},useContext:Ge,useEffect:Pm,useImperativeHandle:function(t,n,s){s=s!=null?s.concat([t]):null,Yo(4194308,4,qm.bind(null,n,t),s)},useLayoutEffect:function(t,n){return Yo(4194308,4,t,n)},useInsertionEffect:function(t,n){Yo(4,2,t,n)},useMemo:function(t,n){var s=rn();n=n===void 0?null:n;var l=t();if(sr){qn(!0);try{t()}finally{qn(!1)}}return s.memoizedState=[l,n],l},useReducer:function(t,n,s){var l=rn();if(s!==void 0){var c=s(n);if(sr){qn(!0);try{s(n)}finally{qn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=m0.bind(null,Ct,t),[l.memoizedState,t]},useRef:function(t){var n=rn();return t={current:t},n.memoizedState=t},useState:function(t){t=eh(t);var n=t.queue,s=Jm.bind(null,Ct,n);return n.dispatch=s,[t.memoizedState,s]},useDebugValue:sh,useDeferredValue:function(t,n){var s=rn();return rh(s,t,n)},useTransition:function(){var t=eh(!1);return t=Km.bind(null,Ct,t.queue,!0,!1),rn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,s){var l=Ct,c=rn();if(jt){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),Zt===null)throw Error(a(349));(Lt&60)!==0||Sm(l,n,s)}c.memoizedState=s;var f={value:s,getSnapshot:n};return c.queue=f,Pm(Rm.bind(null,l,f,t),[t]),l.flags|=2048,Wr(9,bm.bind(null,l,f,s,n),{destroy:void 0},null),s},useId:function(){var t=rn(),n=Zt.identifierPrefix;if(jt){var s=Si,l=Ai;s=(l&~(1<<32-$e(l)-1)).toString(32)+s,n=":"+n+"R"+s,s=Go++,0<s&&(n+="H"+s.toString(32)),n+=":"}else s=o0++,n=":"+n+"r"+s.toString(32)+":";return t.memoizedState=n},useCacheRefresh:function(){return rn().memoizedState=d0.bind(null,Ct)}};rr.useMemoCache=Jc,rr.useHostTransitionStatus=lh,rr.useFormState=xm,rr.useActionState=xm,rr.useOptimistic=function(t){var n=rn();n.memoizedState=n.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=oh.bind(null,Ct,!0,s),s.dispatch=n,[t,n]};var us={readContext:Ge,use:Fo,useCallback:Gm,useContext:Ge,useEffect:ih,useImperativeHandle:Hm,useInsertionEffect:km,useLayoutEffect:jm,useMemo:Qm,useReducer:Ko,useRef:Bm,useState:function(){return Ko(Ri)},useDebugValue:sh,useDeferredValue:function(t,n){var s=pe();return Fm(s,Ft.memoizedState,t,n)},useTransition:function(){var t=Ko(Ri)[0],n=pe().memoizedState;return[typeof t=="boolean"?t:hl(t),n]},useSyncExternalStore:Am,useId:Zm};us.useCacheRefresh=$m,us.useMemoCache=Jc,us.useHostTransitionStatus=lh,us.useFormState=Um,us.useActionState=Um,us.useOptimistic=function(t,n){var s=pe();return Dm(s,Ft,t,n)};var ar={readContext:Ge,use:Fo,useCallback:Gm,useContext:Ge,useEffect:ih,useImperativeHandle:Hm,useInsertionEffect:km,useLayoutEffect:jm,useMemo:Qm,useReducer:th,useRef:Bm,useState:function(){return th(Ri)},useDebugValue:sh,useDeferredValue:function(t,n){var s=pe();return Ft===null?rh(s,t,n):Fm(s,Ft.memoizedState,t,n)},useTransition:function(){var t=th(Ri)[0],n=pe().memoizedState;return[typeof t=="boolean"?t:hl(t),n]},useSyncExternalStore:Am,useId:Zm};ar.useCacheRefresh=$m,ar.useMemoCache=Jc,ar.useHostTransitionStatus=lh,ar.useFormState=zm,ar.useActionState=zm,ar.useOptimistic=function(t,n){var s=pe();return Ft!==null?Dm(s,Ft,t,n):(s.baseState=t,[t,s.queue.dispatch])};function uh(t,n,s,l){n=t.memoizedState,s=s(l,n),s=s==null?n:w({},n,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var ch={isMounted:function(t){return(t=t._reactInternals)?ot(t)===t:!1},enqueueSetState:function(t,n,s){t=t._reactInternals;var l=mn(),c=fs(l);c.payload=n,s!=null&&(c.callback=s),n=ds(t,c,l),n!==null&&(en(n,t,l),gl(n,t,l))},enqueueReplaceState:function(t,n,s){t=t._reactInternals;var l=mn(),c=fs(l);c.tag=1,c.payload=n,s!=null&&(c.callback=s),n=ds(t,c,l),n!==null&&(en(n,t,l),gl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var s=mn(),l=fs(s);l.tag=2,n!=null&&(l.callback=n),n=ds(t,l,s),n!==null&&(en(n,t,s),gl(n,t,s))}};function eg(t,n,s,l,c,f,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,y):n.prototype&&n.prototype.isPureReactComponent?!Wa(s,l)||!Wa(c,f):!0}function ng(t,n,s,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==t&&ch.enqueueReplaceState(n,n.state,null)}function lr(t,n){var s=n;if("ref"in n){s={};for(var l in n)l!=="ref"&&(s[l]=n[l])}if(t=t.defaultProps){s===n&&(s=w({},s));for(var c in t)s[c]===void 0&&(s[c]=t[c])}return s}var $o=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function ig(t){$o(t)}function sg(t){console.error(t)}function rg(t){$o(t)}function Jo(t,n){try{var s=t.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function ag(t,n,s){try{var l=t.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function hh(t,n,s){return s=fs(s),s.tag=3,s.payload={element:null},s.callback=function(){Jo(t,n)},s}function lg(t){return t=fs(t),t.tag=3,t}function og(t,n,s,l){var c=s.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){ag(n,s,l)}}var y=s.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){ag(n,s,l),typeof c!="function"&&(vs===null?vs=new Set([this]):vs.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function g0(t,n,s,l,c){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=s.alternate,n!==null&&ml(n,s,c,!0),s=Dn.current,s!==null){switch(s.tag){case 13:return ti===null?Fh():s.alternate===null&&ue===0&&(ue=3),s.flags&=-257,s.flags|=65536,s.lanes=c,l===jc?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([l]):n.add(l),Yh(t,l,c)),!1;case 22:return s.flags|=65536,l===jc?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([l]):s.add(l)),Yh(t,l,c)),!1}throw Error(a(435,s.tag))}return Yh(t,l,c),Fh(),!1}if(jt)return n=Dn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==kc&&(t=Error(a(422),{cause:l}),il(Rn(t,s)))):(l!==kc&&(n=Error(a(423),{cause:l}),il(Rn(n,s))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=Rn(l,s),c=hh(t.stateNode,l,c),wh(t,c),ue!==4&&(ue=2)),!1;var f=Error(a(520),{cause:l});if(f=Rn(f,s),Sl===null?Sl=[f]:Sl.push(f),ue!==4&&(ue=2),n===null)return!0;l=Rn(l,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,t=c&-c,s.lanes|=t,t=hh(s.stateNode,l,t),wh(s,t),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(vs===null||!vs.has(f))))return s.flags|=65536,c&=-c,s.lanes|=c,c=lg(c),og(c,t,s,l),wh(s,c),!1}s=s.return}while(s!==null);return!1}var ug=Error(a(461)),Oe=!1;function Be(t,n,s,l){n.child=t===null?mm(n,null,s,l):nr(n,t.child,s,l)}function cg(t,n,s,l,c){s=s.render;var f=n.ref;if("ref"in l){var y={};for(var E in l)E!=="ref"&&(y[E]=l[E])}else y=l;return ur(n),l=Yc(t,n,s,y,f,c),E=Xc(),t!==null&&!Oe?(Zc(t,n,c),wi(t,n,c)):(jt&&E&&Bc(n),n.flags|=1,Be(t,n,l,c),n.child)}function hg(t,n,s,l,c){if(t===null){var f=s.type;return typeof f=="function"&&!xh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,fg(t,n,f,l,c)):(t=iu(s.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Eh(t,c)){var y=f.memoizedProps;if(s=s.compare,s=s!==null?s:Wa,s(y,l)&&t.ref===n.ref)return wi(t,n,c)}return n.flags|=1,t=ys(f,l),t.ref=n.ref,t.return=n,n.child=t}function fg(t,n,s,l,c){if(t!==null){var f=t.memoizedProps;if(Wa(f,l)&&t.ref===n.ref)if(Oe=!1,n.pendingProps=l=f,Eh(t,c))(t.flags&131072)!==0&&(Oe=!0);else return n.lanes=t.lanes,wi(t,n,c)}return fh(t,n,s,l,c)}function dg(t,n,s){var l=n.pendingProps,c=l.children,f=(n.stateNode._pendingVisibility&2)!==0,y=t!==null?t.memoizedState:null;if(dl(t,n),l.mode==="hidden"||f){if((n.flags&128)!==0){if(l=y!==null?y.baseLanes|s:s,t!==null){for(c=n.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return mg(t,n,l,s)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&qo(n,y!==null?y.cachePool:null),y!==null?gm(n,y):qc(),pm(n);else return n.lanes=n.childLanes=536870912,mg(t,n,y!==null?y.baseLanes|s:s,s)}else y!==null?(qo(n,y.cachePool),gm(n,y),ls(),n.memoizedState=null):(t!==null&&qo(n,null),qc(),ls());return Be(t,n,c,s),n.child}function mg(t,n,s,l){var c=Fc();return c=c===null?null:{parent:be._currentValue,pool:c},n.memoizedState={baseLanes:s,cachePool:c},t!==null&&qo(n,null),qc(),pm(n),t!==null&&ml(t,n,l,!0),null}function dl(t,n){var s=n.ref;if(s===null)t!==null&&t.ref!==null&&(n.flags|=2097664);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(t===null||t.ref!==s)&&(n.flags|=2097664)}}function fh(t,n,s,l,c){return ur(n),s=Yc(t,n,s,l,void 0,c),l=Xc(),t!==null&&!Oe?(Zc(t,n,c),wi(t,n,c)):(jt&&l&&Bc(n),n.flags|=1,Be(t,n,s,c),n.child)}function gg(t,n,s,l,c,f){return ur(n),n.updateQueue=null,s=Tm(n,l,s,c),Em(t),l=Xc(),t!==null&&!Oe?(Zc(t,n,f),wi(t,n,f)):(jt&&l&&Bc(n),n.flags|=1,Be(t,n,s,f),n.child)}function pg(t,n,s,l,c){if(ur(n),n.stateNode===null){var f=Gr,y=s.contextType;typeof y=="object"&&y!==null&&(f=Ge(y)),f=new s(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=ch,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},bh(n),y=s.contextType,f.context=typeof y=="object"&&y!==null?Ge(y):Gr,f.state=n.memoizedState,y=s.getDerivedStateFromProps,typeof y=="function"&&(uh(n,s,y,l),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&ch.enqueueReplaceState(f,f.state,null),yl(n,l,f,c),pl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,R=lr(s,E);f.props=R;var M=f.context,G=s.contextType;y=Gr,typeof G=="object"&&G!==null&&(y=Ge(G));var K=s.getDerivedStateFromProps;G=typeof K=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||M!==y)&&ng(n,f,l,y),hs=!1;var j=n.memoizedState;f.state=j,yl(n,l,f,c),pl(),M=n.memoizedState,E||j!==M||hs?(typeof K=="function"&&(uh(n,s,K,l),M=n.memoizedState),(R=hs||eg(n,s,R,l,j,M,y))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=M),f.props=l,f.state=M,f.context=y,l=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,Rh(t,n),y=n.memoizedProps,G=lr(s,y),f.props=G,K=n.pendingProps,j=f.context,M=s.contextType,R=Gr,typeof M=="object"&&M!==null&&(R=Ge(M)),E=s.getDerivedStateFromProps,(M=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==K||j!==R)&&ng(n,f,l,R),hs=!1,j=n.memoizedState,f.state=j,yl(n,l,f,c),pl();var H=n.memoizedState;y!==K||j!==H||hs||t!==null&&t.dependencies!==null&&Wo(t.dependencies)?(typeof E=="function"&&(uh(n,s,E,l),H=n.memoizedState),(G=hs||eg(n,s,G,l,j,H,R)||t!==null&&t.dependencies!==null&&Wo(t.dependencies))?(M||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,H,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,H,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&j===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&j===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=H),f.props=l,f.state=H,f.context=R,l=G):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&j===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&j===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,dl(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=nr(n,t.child,null,c),n.child=nr(n,null,s,c)):Be(t,n,s,c),n.memoizedState=f.state,t=n.child):t=wi(t,n,c),t}function yg(t,n,s,l){return nl(),n.flags|=256,Be(t,n,s,l),n.child}var dh={dehydrated:null,treeContext:null,retryLane:0};function mh(t){return{baseLanes:t,cachePool:vm()}}function gh(t,n,s){return t=t!==null?t.childLanes&~s:0,n&&(t|=On),t}function _g(t,n,s){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=t!==null&&t.memoizedState===null?!1:(Se.current&2)!==0),y&&(c=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(jt){if(c?as(n):ls(),jt){var E=ze,R;if(R=E){t:{for(R=E,E=Wn;R.nodeType!==8;){if(!E){E=null;break t}if(R=kn(R.nextSibling),R===null){E=null;break t}}E=R}E!==null?(n.memoizedState={dehydrated:E,treeContext:Ws!==null?{id:Ai,overflow:Si}:null,retryLane:536870912},R=In(18,null,null,0),R.stateNode=E,R.return=n,n.child=R,tn=n,ze=null,R=!0):R=!1}R||er(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return E.data==="$!"?n.lanes=16:n.lanes=536870912,null;bi(n)}return E=l.children,l=l.fallback,c?(ls(),c=n.mode,E=yh({mode:"hidden",children:E},c),l=hr(l,c,s,null),E.return=n,l.return=n,E.sibling=l,n.child=E,c=n.child,c.memoizedState=mh(s),c.childLanes=gh(t,y,s),n.memoizedState=dh,l):(as(n),ph(n,E))}if(R=t.memoizedState,R!==null&&(E=R.dehydrated,E!==null)){if(f)n.flags&256?(as(n),n.flags&=-257,n=_h(t,n,s)):n.memoizedState!==null?(ls(),n.child=t.child,n.flags|=128,n=null):(ls(),c=l.fallback,E=n.mode,l=yh({mode:"visible",children:l.children},E),c=hr(c,E,s,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,nr(n,t.child,null,s),l=n.child,l.memoizedState=mh(s),l.childLanes=gh(t,y,s),n.memoizedState=dh,n=c);else if(as(n),E.data==="$!"){if(y=E.nextSibling&&E.nextSibling.dataset,y)var M=y.dgst;y=M,l=Error(a(419)),l.stack="",l.digest=y,il({value:l,source:null,stack:null}),n=_h(t,n,s)}else if(Oe||ml(t,n,s,!1),y=(s&t.childLanes)!==0,Oe||y){if(y=Zt,y!==null){if(l=s&-s,(l&42)!==0)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=(l&(y.suspendedLanes|s))!==0?0:l,l!==0&&l!==R.retryLane)throw R.retryLane=l,rs(t,l),en(y,t,l),ug}E.data==="$?"||Fh(),n=_h(t,n,s)}else E.data==="$?"?(n.flags|=128,n.child=t.child,n=N0.bind(null,t),E._reactRetry=n,n=null):(t=R.treeContext,ze=kn(E.nextSibling),tn=n,jt=!0,Bn=null,Wn=!1,t!==null&&(wn[Cn++]=Ai,wn[Cn++]=Si,wn[Cn++]=Ws,Ai=t.id,Si=t.overflow,Ws=n),n=ph(n,l.children),n.flags|=4096);return n}return c?(ls(),c=l.fallback,E=n.mode,R=t.child,M=R.sibling,l=ys(R,{mode:"hidden",children:l.children}),l.subtreeFlags=R.subtreeFlags&31457280,M!==null?c=ys(M,c):(c=hr(c,E,s,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,E=t.child.memoizedState,E===null?E=mh(s):(R=E.cachePool,R!==null?(M=be._currentValue,R=R.parent!==M?{parent:M,pool:M}:R):R=vm(),E={baseLanes:E.baseLanes|s,cachePool:R}),c.memoizedState=E,c.childLanes=gh(t,y,s),n.memoizedState=dh,l):(as(n),s=t.child,t=s.sibling,s=ys(s,{mode:"visible",children:l.children}),s.return=n,s.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=s,n.memoizedState=null,s)}function ph(t,n){return n=yh({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function yh(t,n){return Gg(t,n,0,null)}function _h(t,n,s){return nr(n,t.child,null,s),t=ph(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function vg(t,n,s){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Ah(t.return,n,s)}function vh(t,n,s,l,c){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=s,f.tailMode=c)}function Eg(t,n,s){var l=n.pendingProps,c=l.revealOrder,f=l.tail;if(Be(t,n,l.children,s),l=Se.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&vg(t,s,n);else if(t.tag===19)vg(t,s,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(Qt(Se,l),c){case"forwards":for(s=n.child,c=null;s!==null;)t=s.alternate,t!==null&&jo(t)===null&&(c=s),s=s.sibling;s=c,s===null?(c=n.child,n.child=null):(c=s.sibling,s.sibling=null),vh(n,!1,c,s,f);break;case"backwards":for(s=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&jo(t)===null){n.child=c;break}t=c.sibling,c.sibling=s,s=c,c=t}vh(n,!0,s,null,f);break;case"together":vh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function wi(t,n,s){if(t!==null&&(n.dependencies=t.dependencies),_s|=n.lanes,(s&n.childLanes)===0)if(t!==null){if(ml(t,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,s=ys(t,t.pendingProps),n.child=s,s.return=n;t.sibling!==null;)t=t.sibling,s=s.sibling=ys(t,t.pendingProps),s.return=n;s.sibling=null}return n.child}function Eh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Wo(t)))}function p0(t,n,s){switch(n.tag){case 3:Hi(n,n.stateNode.containerInfo),cs(n,be,t.memoizedState.cache),nl();break;case 27:case 5:Oa(n);break;case 4:Hi(n,n.stateNode.containerInfo);break;case 10:cs(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(as(n),n.flags|=128,null):(s&n.child.childLanes)!==0?_g(t,n,s):(as(n),t=wi(t,n,s),t!==null?t.sibling:null);as(n);break;case 19:var c=(t.flags&128)!==0;if(l=(s&n.childLanes)!==0,l||(ml(t,n,s,!1),l=(s&n.childLanes)!==0),c){if(l)return Eg(t,n,s);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),Qt(Se,Se.current),l)break;return null;case 22:case 23:return n.lanes=0,dg(t,n,s);case 24:cs(n,be,t.memoizedState.cache)}return wi(t,n,s)}function Tg(t,n,s){if(t!==null)if(t.memoizedProps!==n.pendingProps)Oe=!0;else{if(!Eh(t,s)&&(n.flags&128)===0)return Oe=!1,p0(t,n,s);Oe=(t.flags&131072)!==0}else Oe=!1,jt&&(n.flags&1048576)!==0&&rm(n,Lo,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")xh(l)?(t=lr(l,t),n.tag=1,n=pg(null,n,l,t,s)):(n.tag=0,n=fh(null,n,l,t,s));else{if(l!=null){if(c=l.$$typeof,c===X){n.tag=11,n=cg(null,n,l,t,s);break t}else if(c===gt){n.tag=14,n=hg(null,n,l,t,s);break t}}throw n=b(l)||l,Error(a(306,n,""))}}return n;case 0:return fh(t,n,n.type,n.pendingProps,s);case 1:return l=n.type,c=lr(l,n.pendingProps),pg(t,n,l,c,s);case 3:t:{if(Hi(n,n.stateNode.containerInfo),t===null)throw Error(a(387));var f=n.pendingProps;c=n.memoizedState,l=c.element,Rh(t,n),yl(n,f,null,s);var y=n.memoizedState;if(f=y.cache,cs(n,be,f),f!==c.cache&&Sh(n,[be],s,!0),pl(),f=y.element,c.isDehydrated)if(c={element:f,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=c,n.memoizedState=c,n.flags&256){n=yg(t,n,f,s);break t}else if(f!==l){l=Rn(Error(a(424)),n),il(l),n=yg(t,n,f,s);break t}else for(ze=kn(n.stateNode.containerInfo.firstChild),tn=n,jt=!0,Bn=null,Wn=!0,s=mm(n,null,f,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(nl(),f===l){n=wi(t,n,s);break t}Be(t,n,f,s)}n=n.child}return n;case 26:return dl(t,n),t===null?(s=bp(n.type,null,n.pendingProps,null))?n.memoizedState=s:jt||(s=n.type,t=n.pendingProps,l=gu(yn.current).createElement(s),l[Ve]=n,l[Ee]=t,Pe(l,s,t),te(l),n.stateNode=l):n.memoizedState=bp(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Oa(n),t===null&&jt&&(l=n.stateNode=Tp(n.type,n.pendingProps,yn.current),tn=n,Wn=!0,ze=kn(l.firstChild)),l=n.pendingProps.children,t!==null||jt?Be(t,n,l,s):n.child=nr(n,null,l,s),dl(t,n),n.child;case 5:return t===null&&jt&&((c=l=ze)&&(l=F0(l,n.type,n.pendingProps,Wn),l!==null?(n.stateNode=l,tn=n,ze=kn(l.firstChild),Wn=!1,c=!0):c=!1),c||er(n)),Oa(n),c=n.type,f=n.pendingProps,y=t!==null?t.memoizedProps:null,l=f.children,lf(c,f)?l=null:y!==null&&lf(c,y)&&(n.flags|=32),n.memoizedState!==null&&(c=Yc(t,n,u0,null,null,s),Ol._currentValue=c),dl(t,n),Be(t,n,l,s),n.child;case 6:return t===null&&jt&&((t=s=ze)&&(s=K0(s,n.pendingProps,Wn),s!==null?(n.stateNode=s,tn=n,ze=null,t=!0):t=!1),t||er(n)),null;case 13:return _g(t,n,s);case 4:return Hi(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=nr(n,null,l,s):Be(t,n,l,s),n.child;case 11:return cg(t,n,n.type,n.pendingProps,s);case 7:return Be(t,n,n.pendingProps,s),n.child;case 8:return Be(t,n,n.pendingProps.children,s),n.child;case 12:return Be(t,n,n.pendingProps.children,s),n.child;case 10:return l=n.pendingProps,cs(n,n.type,l.value),Be(t,n,l.children,s),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,ur(n),c=Ge(c),l=l(c),n.flags|=1,Be(t,n,l,s),n.child;case 14:return hg(t,n,n.type,n.pendingProps,s);case 15:return fg(t,n,n.type,n.pendingProps,s);case 19:return Eg(t,n,s);case 22:return dg(t,n,s);case 24:return ur(n),l=Ge(be),t===null?(c=Fc(),c===null&&(c=Zt,f=Gc(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=s),c=f),n.memoizedState={parent:l,cache:c},bh(n),cs(n,be,c)):((t.lanes&s)!==0&&(Rh(t,n),yl(n,null,null,s),pl()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),cs(n,be,l)):(l=f.cache,cs(n,be,l),l!==c.cache&&Sh(n,[be],s,!0))),Be(t,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}var Th=Pt(null),or=null,Ci=null;function cs(t,n,s){Qt(Th,n._currentValue),n._currentValue=s}function Di(t){t._currentValue=Th.current,ae(Th)}function Ah(t,n,s){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===s)break;t=t.return}}function Sh(t,n,s,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var y=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var R=0;R<n.length;R++)if(E.context===n[R]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),Ah(f.return,s,t),l||(y=null);break t}f=E.next}}else if(c.tag===18){if(y=c.return,y===null)throw Error(a(341));y.lanes|=s,f=y.alternate,f!==null&&(f.lanes|=s),Ah(y,s,t),y=null}else y=c.child;if(y!==null)y.return=c;else for(y=c;y!==null;){if(y===t){y=null;break}if(c=y.sibling,c!==null){c.return=y.return,y=c;break}y=y.return}c=y}}function ml(t,n,s,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var y=c.alternate;if(y===null)throw Error(a(387));if(y=y.memoizedProps,y!==null){var E=c.type;cn(c.pendingProps.value,y.value)||(t!==null?t.push(E):t=[E])}}else if(c===qi.current){if(y=c.alternate,y===null)throw Error(a(387));y.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Ol):t=[Ol])}c=c.return}t!==null&&Sh(n,t,s,l),n.flags|=262144}function Wo(t){for(t=t.firstContext;t!==null;){if(!cn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ur(t){or=t,Ci=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ge(t){return Ag(or,t)}function tu(t,n){return or===null&&ur(t),Ag(t,n)}function Ag(t,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Ci===null){if(t===null)throw Error(a(308));Ci=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Ci=Ci.next=n;return s}var hs=!1;function bh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Rh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function fs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ds(t,n,s){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(ne&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=xo(t),im(t,null,s),n}return Mo(t,l,n,s),xo(t)}function gl(t,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194176)!==0)){var l=n.lanes;l&=t.pendingLanes,s|=l,n.lanes=s,Xi(t,s)}}function wh(t,n){var s=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var c=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var y={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?c=f=y:f=f.next=y,s=s.next}while(s!==null);f===null?c=f=n:f=f.next=n}else c=f=n;s={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=n:t.next=n,s.lastBaseUpdate=n}var Ch=!1;function pl(){if(Ch){var t=Zr;if(t!==null)throw t}}function yl(t,n,s,l){Ch=!1;var c=t.updateQueue;hs=!1;var f=c.firstBaseUpdate,y=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var R=E,M=R.next;R.next=null,y===null?f=M:y.next=M,y=R;var G=t.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==y&&(E===null?G.firstBaseUpdate=M:E.next=M,G.lastBaseUpdate=R))}if(f!==null){var K=c.baseState;y=0,G=M=R=null,E=f;do{var j=E.lane&-536870913,H=j!==E.lane;if(H?(Lt&j)===j:(l&j)===j){j!==0&&j===Xr&&(Ch=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var ht=t,At=E;j=n;var ce=s;switch(At.tag){case 1:if(ht=At.payload,typeof ht=="function"){K=ht.call(ce,K,j);break t}K=ht;break t;case 3:ht.flags=ht.flags&-65537|128;case 0:if(ht=At.payload,j=typeof ht=="function"?ht.call(ce,K,j):ht,j==null)break t;K=w({},K,j);break t;case 2:hs=!0}}j=E.callback,j!==null&&(t.flags|=64,H&&(t.flags|=8192),H=c.callbacks,H===null?c.callbacks=[j]:H.push(j))}else H={lane:j,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(M=G=H,R=K):G=G.next=H,y|=j;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;H=E,E=H.next,H.next=null,c.lastBaseUpdate=H,c.shared.pending=null}}while(!0);G===null&&(R=K),c.baseState=R,c.firstBaseUpdate=M,c.lastBaseUpdate=G,f===null&&(c.shared.lanes=0),_s|=y,t.lanes=y,t.memoizedState=K}}function Sg(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function bg(t,n){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)Sg(s[t],n)}function _l(t,n){try{var s=n.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var c=l.next;s=c;do{if((s.tag&t)===t){l=void 0;var f=s.create,y=s.inst;l=f(),y.destroy=l}s=s.next}while(s!==c)}}catch(E){Xt(n,n.return,E)}}function ms(t,n,s){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var y=l.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,c=n;var R=s;try{E()}catch(M){Xt(c,R,M)}}}l=l.next}while(l!==f)}}catch(M){Xt(n,n.return,M)}}function Rg(t){var n=t.updateQueue;if(n!==null){var s=t.stateNode;try{bg(n,s)}catch(l){Xt(t,t.return,l)}}}function wg(t,n,s){s.props=lr(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(l){Xt(t,n,l)}}function cr(t,n){try{var s=t.ref;if(s!==null){var l=t.stateNode;switch(t.tag){case 26:case 27:case 5:var c=l;break;default:c=l}typeof s=="function"?t.refCleanup=s(c):s.current=c}}catch(f){Xt(t,n,f)}}function hn(t,n){var s=t.ref,l=t.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(c){Xt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(c){Xt(t,n,c)}else s.current=null}function Cg(t){var n=t.type,s=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break t;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(c){Xt(t,t.return,c)}}function Dg(t,n,s){try{var l=t.stateNode;j0(l,t.type,s,n),l[Ee]=n}catch(c){Xt(t,t.return,c)}}function Vg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27||t.tag===4}function Dh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Vg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==27&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Vh(t,n,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?s.nodeType===8?s.parentNode.insertBefore(t,n):s.insertBefore(t,n):(s.nodeType===8?(n=s.parentNode,n.insertBefore(t,s)):(n=s,n.appendChild(t)),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=mu));else if(l!==4&&l!==27&&(t=t.child,t!==null))for(Vh(t,n,s),t=t.sibling;t!==null;)Vh(t,n,s),t=t.sibling}function eu(t,n,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?s.insertBefore(t,n):s.appendChild(t);else if(l!==4&&l!==27&&(t=t.child,t!==null))for(eu(t,n,s),t=t.sibling;t!==null;)eu(t,n,s),t=t.sibling}var Vi=!1,oe=!1,Nh=!1,Ng=typeof WeakSet=="function"?WeakSet:Set,Me=null,Ig=!1;function y0(t,n){if(t=t.containerInfo,rf=Tu,t=Yd(t),Oc(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else t:{s=(s=t.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var y=0,E=-1,R=-1,M=0,G=0,K=t,j=null;e:for(;;){for(var H;K!==s||c!==0&&K.nodeType!==3||(E=y+c),K!==f||l!==0&&K.nodeType!==3||(R=y+l),K.nodeType===3&&(y+=K.nodeValue.length),(H=K.firstChild)!==null;)j=K,K=H;for(;;){if(K===t)break e;if(j===s&&++M===c&&(E=y),j===f&&++G===l&&(R=y),(H=K.nextSibling)!==null)break;K=j,j=K.parentNode}K=H}s=E===-1||R===-1?null:{start:E,end:R}}else s=null}s=s||{start:0,end:0}}else s=null;for(af={focusedElem:t,selectionRange:s},Tu=!1,Me=n;Me!==null;)if(n=Me,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Me=t;else for(;Me!==null;){switch(n=Me,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,s=n,c=f.memoizedProps,f=f.memoizedState,l=s.stateNode;try{var ht=lr(s.type,c,s.elementType===s.type);t=l.getSnapshotBeforeUpdate(ht,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(At){Xt(s,s.return,At)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,s=t.nodeType,s===9)cf(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":cf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,Me=t;break}Me=n.return}return ht=Ig,Ig=!1,ht}function Og(t,n,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:Ii(t,s),l&4&&_l(5,s);break;case 1:if(Ii(t,s),l&4)if(t=s.stateNode,n===null)try{t.componentDidMount()}catch(E){Xt(s,s.return,E)}else{var c=lr(s.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(E){Xt(s,s.return,E)}}l&64&&Rg(s),l&512&&cr(s,s.return);break;case 3:if(Ii(t,s),l&64&&(l=s.updateQueue,l!==null)){if(t=null,s.child!==null)switch(s.child.tag){case 27:case 5:t=s.child.stateNode;break;case 1:t=s.child.stateNode}try{bg(l,t)}catch(E){Xt(s,s.return,E)}}break;case 26:Ii(t,s),l&512&&cr(s,s.return);break;case 27:case 5:Ii(t,s),n===null&&l&4&&Cg(s),l&512&&cr(s,s.return);break;case 12:Ii(t,s);break;case 13:Ii(t,s),l&4&&Ug(t,s);break;case 22:if(c=s.memoizedState!==null||Vi,!c){n=n!==null&&n.memoizedState!==null||oe;var f=Vi,y=oe;Vi=c,(oe=n)&&!y?gs(t,s,(s.subtreeFlags&8772)!==0):Ii(t,s),Vi=f,oe=y}l&512&&(s.memoizedProps.mode==="manual"?cr(s,s.return):hn(s,s.return));break;default:Ii(t,s)}}function Mg(t){var n=t.alternate;n!==null&&(t.alternate=null,Mg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&ks(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ye=null,fn=!1;function Ni(t,n,s){for(s=s.child;s!==null;)xg(t,n,s),s=s.sibling}function xg(t,n,s){if(He&&typeof He.onCommitFiberUnmount=="function")try{He.onCommitFiberUnmount(Gi,s)}catch{}switch(s.tag){case 26:oe||hn(s,n),Ni(t,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:oe||hn(s,n);var l=ye,c=fn;for(ye=s.stateNode,Ni(t,n,s),s=s.stateNode,n=s.attributes;n.length;)s.removeAttributeNode(n[0]);ks(s),ye=l,fn=c;break;case 5:oe||hn(s,n);case 6:c=ye;var f=fn;if(ye=null,Ni(t,n,s),ye=c,fn=f,ye!==null)if(fn)try{t=ye,l=s.stateNode,t.nodeType===8?t.parentNode.removeChild(l):t.removeChild(l)}catch(y){Xt(s,n,y)}else try{ye.removeChild(s.stateNode)}catch(y){Xt(s,n,y)}break;case 18:ye!==null&&(fn?(n=ye,s=s.stateNode,n.nodeType===8?uf(n.parentNode,s):n.nodeType===1&&uf(n,s),Ll(n)):uf(ye,s.stateNode));break;case 4:l=ye,c=fn,ye=s.stateNode.containerInfo,fn=!0,Ni(t,n,s),ye=l,fn=c;break;case 0:case 11:case 14:case 15:oe||ms(2,s,n),oe||ms(4,s,n),Ni(t,n,s);break;case 1:oe||(hn(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"&&wg(s,n,l)),Ni(t,n,s);break;case 21:Ni(t,n,s);break;case 22:oe||hn(s,n),oe=(l=oe)||s.memoizedState!==null,Ni(t,n,s),oe=l;break;default:Ni(t,n,s)}}function Ug(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ll(t)}catch(s){Xt(n,n.return,s)}}function _0(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Ng),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Ng),n;default:throw Error(a(435,t.tag))}}function Ih(t,n){var s=_0(t);n.forEach(function(l){var c=I0.bind(null,t,l);s.has(l)||(s.add(l),l.then(c,c))})}function Vn(t,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var c=s[l],f=t,y=n,E=y;t:for(;E!==null;){switch(E.tag){case 27:case 5:ye=E.stateNode,fn=!1;break t;case 3:ye=E.stateNode.containerInfo,fn=!0;break t;case 4:ye=E.stateNode.containerInfo,fn=!0;break t}E=E.return}if(ye===null)throw Error(a(160));xg(f,y,c),ye=null,fn=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Lg(n,t),n=n.sibling}var Pn=null;function Lg(t,n){var s=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Vn(n,t),Nn(t),l&4&&(ms(3,t,t.return),_l(3,t),ms(5,t,t.return));break;case 1:Vn(n,t),Nn(t),l&512&&(oe||s===null||hn(s,s.return)),l&64&&Vi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var c=Pn;if(Vn(n,t),Nn(t),l&512&&(oe||s===null||hn(s,s.return)),l&4){var f=s!==null?s.memoizedState:null;if(l=t.memoizedState,s===null)if(l===null)if(t.stateNode===null){t:{l=t.type,s=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[$i]||f[Ve]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),Pe(f,l,s),f[Ve]=t,te(f),l=f;break t;case"link":var y=Cp("link","href",c).get(l+(s.href||""));if(y){for(var E=0;E<y.length;E++)if(f=y[E],f.getAttribute("href")===(s.href==null?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){y.splice(E,1);break e}}f=c.createElement(l),Pe(f,l,s),c.head.appendChild(f);break;case"meta":if(y=Cp("meta","content",c).get(l+(s.content||""))){for(E=0;E<y.length;E++)if(f=y[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){y.splice(E,1);break e}}f=c.createElement(l),Pe(f,l,s),c.head.appendChild(f);break;default:throw Error(a(468,l))}f[Ve]=t,te(f),l=f}t.stateNode=l}else Dp(c,t.type,t.stateNode);else t.stateNode=wp(c,l,t.memoizedProps);else f!==l?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,l===null?Dp(c,t.type,t.stateNode):wp(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Dg(t,t.memoizedProps,s.memoizedProps)}break;case 27:if(l&4&&t.alternate===null){c=t.stateNode,f=t.memoizedProps;try{for(var R=c.firstChild;R;){var M=R.nextSibling,G=R.nodeName;R[$i]||G==="HEAD"||G==="BODY"||G==="SCRIPT"||G==="STYLE"||G==="LINK"&&R.rel.toLowerCase()==="stylesheet"||c.removeChild(R),R=M}for(var K=t.type,j=c.attributes;j.length;)c.removeAttributeNode(j[0]);Pe(c,K,f),c[Ve]=t,c[Ee]=f}catch(ht){Xt(t,t.return,ht)}}case 5:if(Vn(n,t),Nn(t),l&512&&(oe||s===null||hn(s,s.return)),t.flags&32){c=t.stateNode;try{En(c,"")}catch(ht){Xt(t,t.return,ht)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,Dg(t,c,s!==null?s.memoizedProps:c)),l&1024&&(Nh=!0);break;case 6:if(Vn(n,t),Nn(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,s=t.stateNode;try{s.nodeValue=l}catch(ht){Xt(t,t.return,ht)}}break;case 3:if(_u=null,c=Pn,Pn=pu(n.containerInfo),Vn(n,t),Pn=c,Nn(t),l&4&&s!==null&&s.memoizedState.isDehydrated)try{Ll(n.containerInfo)}catch(ht){Xt(t,t.return,ht)}Nh&&(Nh=!1,zg(t));break;case 4:l=Pn,Pn=pu(t.stateNode.containerInfo),Vn(n,t),Nn(t),Pn=l;break;case 12:Vn(n,t),Nn(t);break;case 13:Vn(n,t),Nn(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(kh=nn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Ih(t,l)));break;case 22:if(l&512&&(oe||s===null||hn(s,s.return)),R=t.memoizedState!==null,M=s!==null&&s.memoizedState!==null,G=Vi,K=oe,Vi=G||R,oe=K||M,Vn(n,t),oe=K,Vi=G,Nn(t),n=t.stateNode,n._current=t,n._visibility&=-3,n._visibility|=n._pendingVisibility&2,l&8192&&(n._visibility=R?n._visibility&-2:n._visibility|1,R&&(n=Vi||oe,s===null||M||n||ta(t)),t.memoizedProps===null||t.memoizedProps.mode!=="manual"))t:for(s=null,n=t;;){if(n.tag===5||n.tag===26||n.tag===27){if(s===null){M=s=n;try{if(c=M.stateNode,R)f=c.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none";else{y=M.stateNode,E=M.memoizedProps.style;var H=E!=null&&E.hasOwnProperty("display")?E.display:null;y.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(ht){Xt(M,M.return,ht)}}}else if(n.tag===6){if(s===null){M=n;try{M.stateNode.nodeValue=R?"":M.memoizedProps}catch(ht){Xt(M,M.return,ht)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,Ih(t,s))));break;case 19:Vn(n,t),Nn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Ih(t,l)));break;case 21:break;default:Vn(n,t),Nn(t)}}function Nn(t){var n=t.flags;if(n&2){try{if(t.tag!==27){t:{for(var s=t.return;s!==null;){if(Vg(s)){var l=s;break t}s=s.return}throw Error(a(160))}switch(l.tag){case 27:var c=l.stateNode,f=Dh(t);eu(t,f,c);break;case 5:var y=l.stateNode;l.flags&32&&(En(y,""),l.flags&=-33);var E=Dh(t);eu(t,E,y);break;case 3:case 4:var R=l.stateNode.containerInfo,M=Dh(t);Vh(t,M,R);break;default:throw Error(a(161))}}}catch(G){Xt(t,t.return,G)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function zg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;zg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Ii(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Og(t,n.alternate,n),n=n.sibling}function ta(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:ms(4,n,n.return),ta(n);break;case 1:hn(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&wg(n,n.return,s),ta(n);break;case 26:case 27:case 5:hn(n,n.return),ta(n);break;case 22:hn(n,n.return),n.memoizedState===null&&ta(n);break;default:ta(n)}t=t.sibling}}function gs(t,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:gs(c,f,s),_l(4,f);break;case 1:if(gs(c,f,s),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(M){Xt(l,l.return,M)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var R=c.shared.hiddenCallbacks;if(R!==null)for(c.shared.hiddenCallbacks=null,c=0;c<R.length;c++)Sg(R[c],E)}catch(M){Xt(l,l.return,M)}}s&&y&64&&Rg(f),cr(f,f.return);break;case 26:case 27:case 5:gs(c,f,s),s&&l===null&&y&4&&Cg(f),cr(f,f.return);break;case 12:gs(c,f,s);break;case 13:gs(c,f,s),s&&y&4&&Ug(c,f);break;case 22:f.memoizedState===null&&gs(c,f,s),cr(f,f.return);break;default:gs(c,f,s)}n=n.sibling}}function Oh(t,n){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&ol(s))}function Mh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ol(t))}function ps(t,n,s,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Bg(t,n,s,l),n=n.sibling}function Bg(t,n,s,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:ps(t,n,s,l),c&2048&&_l(9,n);break;case 3:ps(t,n,s,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ol(t)));break;case 12:if(c&2048){ps(t,n,s,l),t=n.stateNode;try{var f=n.memoizedProps,y=f.id,E=f.onPostCommit;typeof E=="function"&&E(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(R){Xt(n,n.return,R)}}else ps(t,n,s,l);break;case 23:break;case 22:f=n.stateNode,n.memoizedState!==null?f._visibility&4?ps(t,n,s,l):vl(t,n):f._visibility&4?ps(t,n,s,l):(f._visibility|=4,ea(t,n,s,l,(n.subtreeFlags&10256)!==0)),c&2048&&Oh(n.alternate,n);break;case 24:ps(t,n,s,l),c&2048&&Mh(n.alternate,n);break;default:ps(t,n,s,l)}}function ea(t,n,s,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,y=n,E=s,R=l,M=y.flags;switch(y.tag){case 0:case 11:case 15:ea(f,y,E,R,c),_l(8,y);break;case 23:break;case 22:var G=y.stateNode;y.memoizedState!==null?G._visibility&4?ea(f,y,E,R,c):vl(f,y):(G._visibility|=4,ea(f,y,E,R,c)),c&&M&2048&&Oh(y.alternate,y);break;case 24:ea(f,y,E,R,c),c&&M&2048&&Mh(y.alternate,y);break;default:ea(f,y,E,R,c)}n=n.sibling}}function vl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=t,l=n,c=l.flags;switch(l.tag){case 22:vl(s,l),c&2048&&Oh(l.alternate,l);break;case 24:vl(s,l),c&2048&&Mh(l.alternate,l);break;default:vl(s,l)}n=n.sibling}}var El=8192;function na(t){if(t.subtreeFlags&El)for(t=t.child;t!==null;)Pg(t),t=t.sibling}function Pg(t){switch(t.tag){case 26:na(t),t.flags&El&&t.memoizedState!==null&&aE(Pn,t.memoizedState,t.memoizedProps);break;case 5:na(t);break;case 3:case 4:var n=Pn;Pn=pu(t.stateNode.containerInfo),na(t),Pn=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=El,El=16777216,na(t),El=n):na(t));break;default:na(t)}}function kg(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Tl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];Me=l,qg(l,t)}kg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)jg(t),t=t.sibling}function jg(t){switch(t.tag){case 0:case 11:case 15:Tl(t),t.flags&2048&&ms(9,t,t.return);break;case 3:Tl(t);break;case 12:Tl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&4&&(t.return===null||t.return.tag!==13)?(n._visibility&=-5,nu(t)):Tl(t);break;default:Tl(t)}}function nu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];Me=l,qg(l,t)}kg(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:ms(8,n,n.return),nu(n);break;case 22:s=n.stateNode,s._visibility&4&&(s._visibility&=-5,nu(n));break;default:nu(n)}t=t.sibling}}function qg(t,n){for(;Me!==null;){var s=Me;switch(s.tag){case 0:case 11:case 15:ms(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ol(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,Me=l;else t:for(s=t;Me!==null;){l=Me;var c=l.sibling,f=l.return;if(Mg(l),l===s){Me=null;break t}if(c!==null){c.return=f,Me=c;break t}Me=f}}}function v0(t,n,s,l){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function In(t,n,s,l){return new v0(t,n,s,l)}function xh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ys(t,n){var s=t.alternate;return s===null?(s=In(t.tag,n,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=n,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&31457280,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,n=t.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function Hg(t,n){t.flags&=31457282;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,n=s.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function iu(t,n,s,l,c,f){var y=0;if(l=t,typeof t=="function")xh(t)&&(y=1);else if(typeof t=="string")y=sE(t,s,Ze.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case _:return hr(s.children,c,f,n);case v:y=8,c|=24;break;case S:return t=In(12,s,n,c|2),t.elementType=S,t.lanes=f,t;case J:return t=In(13,s,n,c),t.elementType=J,t.lanes=f,t;case Z:return t=In(19,s,n,c),t.elementType=Z,t.lanes=f,t;case rt:return Gg(s,c,f,n);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case N:case k:y=10;break t;case x:y=9;break t;case X:y=11;break t;case gt:y=14;break t;case dt:y=16,l=null;break t}y=29,s=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=In(y,s,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function hr(t,n,s,l){return t=In(7,t,l,n),t.lanes=s,t}function Gg(t,n,s,l){t=In(22,t,l,n),t.elementType=rt,t.lanes=s;var c={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var f=c._current;if(f===null)throw Error(a(456));if((c._pendingVisibility&2)===0){var y=rs(f,2);y!==null&&(c._pendingVisibility|=2,en(y,f,2))}},attach:function(){var f=c._current;if(f===null)throw Error(a(456));if((c._pendingVisibility&2)!==0){var y=rs(f,2);y!==null&&(c._pendingVisibility&=-3,en(y,f,2))}}};return t.stateNode=c,t}function Uh(t,n,s){return t=In(6,t,null,n),t.lanes=s,t}function Lh(t,n,s){return n=In(4,t.children!==null?t.children:[],t.key,n),n.lanes=s,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}function Oi(t){t.flags|=4}function Qg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Vp(n)){if(n=Dn.current,n!==null&&((Lt&4194176)===Lt?ti!==null:(Lt&62914560)!==Lt&&(Lt&536870912)===0||n!==ti))throw rl=jc,om;t.flags|=8192}}function su(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Ki():536870912,t.lanes|=n,sa|=n)}function Al(t,n){if(!jt)switch(t.tailMode){case"hidden":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ee(t){var n=t.alternate!==null&&t.alternate.child===t.child,s=0,l=0;if(n)for(var c=t.child;c!==null;)s|=c.lanes|c.childLanes,l|=c.subtreeFlags&31457280,l|=c.flags&31457280,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)s|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=s,n}function E0(t,n,s){var l=n.pendingProps;switch(Pc(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ee(n),null;case 1:return ee(n),null;case 3:return s=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Di(be),hi(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(el(n)?Oi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Bn!==null&&(Gh(Bn),Bn=null))),ee(n),null;case 26:return s=n.memoizedState,t===null?(Oi(n),s!==null?(ee(n),Qg(n,s)):(ee(n),n.flags&=-16777217)):s?s!==t.memoizedState?(Oi(n),ee(n),Qg(n,s)):(ee(n),n.flags&=-16777217):(t.memoizedProps!==l&&Oi(n),ee(n),n.flags&=-16777217),null;case 27:Sr(n),s=yn.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Oi(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return ee(n),null}t=Ze.current,el(n)?am(n):(t=Tp(c,l,s),n.stateNode=t,Oi(n))}return ee(n),null;case 5:if(Sr(n),s=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Oi(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return ee(n),null}if(t=Ze.current,el(n))am(n);else{switch(c=gu(yn.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(s,{is:l.is}):c.createElement(s)}}t[Ve]=n,t[Ee]=l;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;t:switch(Pe(t,s,l),s){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Oi(n)}}return ee(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Oi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=yn.current,el(n)){if(t=n.stateNode,s=n.memoizedProps,l=null,c=tn,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[Ve]=n,t=!!(t.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||gp(t.nodeValue,s)),t||er(n)}else t=gu(t).createTextNode(l),t[Ve]=n,n.stateNode=t}return ee(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=el(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(a(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(a(317));c[Ve]=n}else nl(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ee(n),c=!1}else Bn!==null&&(Gh(Bn),Bn=null),c=!0;if(!c)return n.flags&256?(bi(n),n):(bi(n),null)}if(bi(n),(n.flags&128)!==0)return n.lanes=s,n;if(s=l!==null,t=t!==null&&t.memoizedState!==null,s){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)}return s!==t&&s&&(n.child.flags|=8192),su(n,n.updateQueue),ee(n),null;case 4:return hi(),t===null&&ef(n.stateNode.containerInfo),ee(n),null;case 10:return Di(n.type),ee(n),null;case 19:if(ae(Se),c=n.memoizedState,c===null)return ee(n),null;if(l=(n.flags&128)!==0,f=c.rendering,f===null)if(l)Al(c,!1);else{if(ue!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=jo(t),f!==null){for(n.flags|=128,Al(c,!1),t=f.updateQueue,n.updateQueue=t,su(n,t),n.subtreeFlags=0,t=s,s=n.child;s!==null;)Hg(s,t),s=s.sibling;return Qt(Se,Se.current&1|2),n.child}t=t.sibling}c.tail!==null&&nn()>ru&&(n.flags|=128,l=!0,Al(c,!1),n.lanes=4194304)}else{if(!l)if(t=jo(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,su(n,t),Al(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!jt)return ee(n),null}else 2*nn()-c.renderingStartTime>ru&&s!==536870912&&(n.flags|=128,l=!0,Al(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(t=c.last,t!==null?t.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=nn(),n.sibling=null,t=Se.current,Qt(Se,l?t&1|2:t&1),n):(ee(n),null);case 22:case 23:return bi(n),Hc(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(s&536870912)!==0&&(n.flags&128)===0&&(ee(n),n.subtreeFlags&6&&(n.flags|=8192)):ee(n),s=n.updateQueue,s!==null&&su(n,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==s&&(n.flags|=2048),t!==null&&ae(ir),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Di(be),ee(n),null;case 25:return null}throw Error(a(156,n.tag))}function T0(t,n){switch(Pc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Di(be),hi(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Sr(n),null;case 13:if(bi(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));nl()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return ae(Se),null;case 4:return hi(),null;case 10:return Di(n.type),null;case 22:case 23:return bi(n),Hc(),t!==null&&ae(ir),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Di(be),null;case 25:return null;default:return null}}function Fg(t,n){switch(Pc(n),n.tag){case 3:Di(be),hi();break;case 26:case 27:case 5:Sr(n);break;case 4:hi();break;case 13:bi(n);break;case 19:ae(Se);break;case 10:Di(n.type);break;case 22:case 23:bi(n),Hc(),t!==null&&ae(ir);break;case 24:Di(be)}}var A0={getCacheForType:function(t){var n=Ge(be),s=n.data.get(t);return s===void 0&&(s=t(),n.data.set(t,s)),s}},S0=typeof WeakMap=="function"?WeakMap:Map,ne=0,Zt=null,Nt=null,Lt=0,$t=0,dn=null,Mi=!1,ia=!1,zh=!1,xi=0,ue=0,_s=0,fr=0,Bh=0,On=0,sa=0,Sl=null,ni=null,Ph=!1,kh=0,ru=1/0,au=null,vs=null,lu=!1,dr=null,bl=0,jh=0,qh=null,Rl=0,Hh=null;function mn(){if((ne&2)!==0&&Lt!==0)return Lt&-Lt;if(A.T!==null){var t=Xr;return t!==0?t:$h()}return fo()}function Kg(){On===0&&(On=(Lt&536870912)===0||jt?za():536870912);var t=Dn.current;return t!==null&&(t.flags|=32),On}function en(t,n,s){(t===Zt&&$t===2||t.cancelPendingCommit!==null)&&(ra(t,0),Ui(t,Lt,On,!1)),fe(t,s),((ne&2)===0||t!==Zt)&&(t===Zt&&((ne&2)===0&&(fr|=s),ue===4&&Ui(t,Lt,On,!1)),ii(t))}function Yg(t,n,s){if((ne&6)!==0)throw Error(a(327));var l=!s&&(n&60)===0&&(n&t.expiredLanes)===0||Fi(t,n),c=l?w0(t,n):Kh(t,n,!0),f=l;do{if(c===0){ia&&!l&&Ui(t,n,0,!1);break}else if(c===6)Ui(t,n,0,!Mi);else{if(s=t.current.alternate,f&&!b0(s)){c=Kh(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;t:{var E=t;c=Sl;var R=E.current.memoizedState.isDehydrated;if(R&&(ra(E,y).flags|=256),y=Kh(E,y,!1),y!==2){if(zh&&!R){E.errorRecoveryDisabledLanes|=f,fr|=f,c=4;break t}f=ni,ni=c,f!==null&&Gh(f)}c=y}if(f=!1,c!==2)continue}}if(c===1){ra(t,0),Ui(t,n,0,!0);break}t:{switch(l=t,c){case 0:case 1:throw Error(a(345));case 4:if((n&4194176)===n){Ui(l,n,On,!Mi);break t}break;case 2:ni=null;break;case 3:case 5:break;default:throw Error(a(329))}if(l.finishedWork=s,l.finishedLanes=n,(n&62914560)===n&&(f=kh+300-nn(),10<f)){if(Ui(l,n,On,!Mi),_n(l,0)!==0)break t;l.timeoutHandle=_p(Xg.bind(null,l,s,ni,au,Ph,n,On,fr,sa,Mi,2,-0,0),f);break t}Xg(l,s,ni,au,Ph,n,On,fr,sa,Mi,0,-0,0)}}break}while(!0);ii(t)}function Gh(t){ni===null?ni=t:ni.push.apply(ni,t)}function Xg(t,n,s,l,c,f,y,E,R,M,G,K,j){var H=n.subtreeFlags;if((H&8192||(H&16785408)===16785408)&&(Il={stylesheets:null,count:0,unsuspend:rE},Pg(n),n=lE(),n!==null)){t.cancelPendingCommit=n(np.bind(null,t,s,l,c,y,E,R,1,K,j)),Ui(t,f,y,!M);return}np(t,s,l,c,y,E,R,G,K,j)}function b0(t){for(var n=t;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var c=s[l],f=c.getSnapshot;c=c.value;try{if(!cn(f(),c))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ui(t,n,s,l){n&=~Bh,n&=~fr,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-$e(c),y=1<<f;l[f]=-1,c&=~y}s!==0&&Yi(t,s,n)}function ou(){return(ne&6)===0?(wl(0),!1):!0}function Qh(){if(Nt!==null){if($t===0)var t=Nt.return;else t=Nt,Ci=or=null,$c(t),Kr=null,al=0,t=Nt;for(;t!==null;)Fg(t.alternate,t),t=t.return;Nt=null}}function ra(t,n){t.finishedWork=null,t.finishedLanes=0;var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,H0(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),Qh(),Zt=t,Nt=s=ys(t.current,null),Lt=n,$t=0,dn=null,Mi=!1,ia=Fi(t,n),zh=!1,sa=On=Bh=fr=_s=ue=0,ni=Sl=null,Ph=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-$e(l),f=1<<c;n|=t[c],l&=~f}return xi=n,Oo(),s}function Zg(t,n){Ct=null,A.H=ei,n===sl?(n=hm(),$t=3):n===om?(n=hm(),$t=4):$t=n===ug?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,dn=n,Nt===null&&(ue=1,Jo(t,Rn(n,t.current)))}function $g(){var t=A.H;return A.H=ei,t===null?ei:t}function Jg(){var t=A.A;return A.A=A0,t}function Fh(){ue=4,Mi||(Lt&4194176)!==Lt&&Dn.current!==null||(ia=!0),(_s&134217727)===0&&(fr&134217727)===0||Zt===null||Ui(Zt,Lt,On,!1)}function Kh(t,n,s){var l=ne;ne|=2;var c=$g(),f=Jg();(Zt!==t||Lt!==n)&&(au=null,ra(t,n)),n=!1;var y=ue;t:do try{if($t!==0&&Nt!==null){var E=Nt,R=dn;switch($t){case 8:Qh(),y=6;break t;case 3:case 2:case 6:Dn.current===null&&(n=!0);var M=$t;if($t=0,dn=null,aa(t,E,R,M),s&&ia){y=0;break t}break;default:M=$t,$t=0,dn=null,aa(t,E,R,M)}}R0(),y=ue;break}catch(G){Zg(t,G)}while(!0);return n&&t.shellSuspendCounter++,Ci=or=null,ne=l,A.H=c,A.A=f,Nt===null&&(Zt=null,Lt=0,Oo()),y}function R0(){for(;Nt!==null;)Wg(Nt)}function w0(t,n){var s=ne;ne|=2;var l=$g(),c=Jg();Zt!==t||Lt!==n?(au=null,ru=nn()+500,ra(t,n)):ia=Fi(t,n);t:do try{if($t!==0&&Nt!==null){n=Nt;var f=dn;e:switch($t){case 1:$t=0,dn=null,aa(t,n,f,1);break;case 2:if(um(f)){$t=0,dn=null,tp(n);break}n=function(){$t===2&&Zt===t&&($t=7),ii(t)},f.then(n,n);break t;case 3:$t=7;break t;case 4:$t=5;break t;case 7:um(f)?($t=0,dn=null,tp(n)):($t=0,dn=null,aa(t,n,f,7));break;case 5:var y=null;switch(Nt.tag){case 26:y=Nt.memoizedState;case 5:case 27:var E=Nt;if(!y||Vp(y)){$t=0,dn=null;var R=E.sibling;if(R!==null)Nt=R;else{var M=E.return;M!==null?(Nt=M,uu(M)):Nt=null}break e}}$t=0,dn=null,aa(t,n,f,5);break;case 6:$t=0,dn=null,aa(t,n,f,6);break;case 8:Qh(),ue=6;break t;default:throw Error(a(462))}}C0();break}catch(G){Zg(t,G)}while(!0);return Ci=or=null,A.H=l,A.A=c,ne=s,Nt!==null?0:(Zt=null,Lt=0,Oo(),ue)}function C0(){for(;Nt!==null&&!Tc();)Wg(Nt)}function Wg(t){var n=Tg(t.alternate,t,xi);t.memoizedProps=t.pendingProps,n===null?uu(t):Nt=n}function tp(t){var n=t,s=n.alternate;switch(n.tag){case 15:case 0:n=gg(s,n,n.pendingProps,n.type,void 0,Lt);break;case 11:n=gg(s,n,n.pendingProps,n.type.render,n.ref,Lt);break;case 5:$c(n);default:Fg(s,n),n=Nt=Hg(n,xi),n=Tg(s,n,xi)}t.memoizedProps=t.pendingProps,n===null?uu(t):Nt=n}function aa(t,n,s,l){Ci=or=null,$c(n),Kr=null,al=0;var c=n.return;try{if(g0(t,c,n,s,Lt)){ue=1,Jo(t,Rn(s,t.current)),Nt=null;return}}catch(f){if(c!==null)throw Nt=c,f;ue=1,Jo(t,Rn(s,t.current)),Nt=null;return}n.flags&32768?(jt||l===1?t=!0:ia||(Lt&536870912)!==0?t=!1:(Mi=t=!0,(l===2||l===3||l===6)&&(l=Dn.current,l!==null&&l.tag===13&&(l.flags|=16384))),ep(n,t)):uu(n)}function uu(t){var n=t;do{if((n.flags&32768)!==0){ep(n,Mi);return}t=n.return;var s=E0(n.alternate,n,xi);if(s!==null){Nt=s;return}if(n=n.sibling,n!==null){Nt=n;return}Nt=n=t}while(n!==null);ue===0&&(ue=5)}function ep(t,n){do{var s=T0(t.alternate,t);if(s!==null){s.flags&=32767,Nt=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(t=t.sibling,t!==null)){Nt=t;return}Nt=t=s}while(t!==null);ue=6,Nt=null}function np(t,n,s,l,c,f,y,E,R,M){var G=A.T,K=it.p;try{it.p=2,A.T=null,D0(t,n,s,l,K,c,f,y,E,R,M)}finally{A.T=G,it.p=K}}function D0(t,n,s,l,c,f,y,E){do la();while(dr!==null);if((ne&6)!==0)throw Error(a(327));var R=t.finishedWork;if(l=t.finishedLanes,R===null)return null;if(t.finishedWork=null,t.finishedLanes=0,R===t.current)throw Error(a(177));t.callbackNode=null,t.callbackPriority=0,t.cancelPendingCommit=null;var M=R.lanes|R.childLanes;if(M|=Lc,co(t,l,M,f,y,E),t===Zt&&(Nt=Zt=null,Lt=0),(R.subtreeFlags&10256)===0&&(R.flags&10256)===0||lu||(lu=!0,jh=M,qh=s,O0(fi,function(){return la(),null})),s=(R.flags&15990)!==0,(R.subtreeFlags&15990)!==0||s?(s=A.T,A.T=null,f=it.p,it.p=2,y=ne,ne|=4,y0(t,R),Lg(R,t),Jv(af,t.containerInfo),Tu=!!rf,af=rf=null,t.current=R,Og(t,R.alternate,R),Ma(),ne=y,it.p=f,A.T=s):t.current=R,lu?(lu=!1,dr=t,bl=l):ip(t,M),M=t.pendingLanes,M===0&&(vs=null),Ua(R.stateNode),ii(t),n!==null)for(c=t.onRecoverableError,R=0;R<n.length;R++)M=n[R],c(M.value,{componentStack:M.stack});return(bl&3)!==0&&la(),M=t.pendingLanes,(l&4194218)!==0&&(M&42)!==0?t===Hh?Rl++:(Rl=0,Hh=t):Rl=0,wl(0),null}function ip(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,ol(n)))}function la(){if(dr!==null){var t=dr,n=jh;jh=0;var s=ho(bl),l=A.T,c=it.p;try{if(it.p=32>s?32:s,A.T=null,dr===null)var f=!1;else{s=qh,qh=null;var y=dr,E=bl;if(dr=null,bl=0,(ne&6)!==0)throw Error(a(331));var R=ne;if(ne|=4,jg(y.current),Bg(y,y.current,E,s),ne=R,wl(0,!1),He&&typeof He.onPostCommitFiberRoot=="function")try{He.onPostCommitFiberRoot(Gi,y)}catch{}f=!0}return f}finally{it.p=c,A.T=l,ip(t,n)}}return!1}function sp(t,n,s){n=Rn(s,n),n=hh(t.stateNode,n,2),t=ds(t,n,2),t!==null&&(fe(t,2),ii(t))}function Xt(t,n,s){if(t.tag===3)sp(t,t,s);else for(;n!==null;){if(n.tag===3){sp(n,t,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(vs===null||!vs.has(l))){t=Rn(s,t),s=lg(2),l=ds(n,s,2),l!==null&&(og(s,l,n,t),fe(l,2),ii(l));break}}n=n.return}}function Yh(t,n,s){var l=t.pingCache;if(l===null){l=t.pingCache=new S0;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(s)||(zh=!0,c.add(s),t=V0.bind(null,t,n,s),n.then(t,t))}function V0(t,n,s){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,Zt===t&&(Lt&s)===s&&(ue===4||ue===3&&(Lt&62914560)===Lt&&300>nn()-kh?(ne&2)===0&&ra(t,0):Bh|=s,sa===Lt&&(sa=0)),ii(t)}function rp(t,n){n===0&&(n=Ki()),t=rs(t,n),t!==null&&(fe(t,n),ii(t))}function N0(t){var n=t.memoizedState,s=0;n!==null&&(s=n.retryLane),rp(t,s)}function I0(t,n){var s=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(s=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),rp(t,s)}function O0(t,n){return zs(t,n)}var cu=null,oa=null,Xh=!1,hu=!1,Zh=!1,mr=0;function ii(t){t!==oa&&t.next===null&&(oa===null?cu=oa=t:oa=oa.next=t),hu=!0,Xh||(Xh=!0,x0(M0))}function wl(t,n){if(!Zh&&hu){Zh=!0;do for(var s=!1,l=cu;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var y=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-$e(42|t)+1)-1,f&=c&~(y&~E),f=f&201326677?f&201326677|1:f?f|2:0}f!==0&&(s=!0,op(l,f))}else f=Lt,f=_n(l,l===Zt?f:0),(f&3)===0||Fi(l,f)||(s=!0,op(l,f));l=l.next}while(s);Zh=!1}}function M0(){hu=Xh=!1;var t=0;mr!==0&&(q0()&&(t=mr),mr=0);for(var n=nn(),s=null,l=cu;l!==null;){var c=l.next,f=ap(l,n);f===0?(l.next=null,s===null?cu=c:s.next=c,c===null&&(oa=s)):(s=l,(t!==0||(f&3)!==0)&&(hu=!0)),l=c}wl(t)}function ap(t,n){for(var s=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var y=31-$e(f),E=1<<y,R=c[y];R===-1?((E&s)===0||(E&l)!==0)&&(c[y]=wr(E,n)):R<=n&&(t.expiredLanes|=E),f&=~E}if(n=Zt,s=Lt,s=_n(t,t===n?s:0),l=t.callbackNode,s===0||t===n&&$t===2||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Rr(l),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||Fi(t,s)){if(n=s&-s,n===t.callbackPriority)return n;switch(l!==null&&Rr(l),ho(s)){case 2:case 8:s=De;break;case 32:s=fi;break;case 268435456:s=xa;break;default:s=fi}return l=lp.bind(null,t),s=zs(s,l),t.callbackPriority=n,t.callbackNode=s,n}return l!==null&&l!==null&&Rr(l),t.callbackPriority=2,t.callbackNode=null,2}function lp(t,n){var s=t.callbackNode;if(la()&&t.callbackNode!==s)return null;var l=Lt;return l=_n(t,t===Zt?l:0),l===0?null:(Yg(t,l,n),ap(t,nn()),t.callbackNode!=null&&t.callbackNode===s?lp.bind(null,t):null)}function op(t,n){if(la())return null;Yg(t,n,!0)}function x0(t){G0(function(){(ne&6)!==0?zs(ve,t):t()})}function $h(){return mr===0&&(mr=za()),mr}function up(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Fn(""+t)}function cp(t,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,t.id&&s.setAttribute("form",t.id),n.parentNode.insertBefore(s,n),t=new FormData(t),s.parentNode.removeChild(s),t}function U0(t,n,s,l,c){if(n==="submit"&&s&&s.stateNode===c){var f=up((c[Ee]||null).action),y=l.submitter;y&&(n=(n=y[Ee]||null)?up(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var E=new Mr("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(mr!==0){var R=y?cp(c,y):new FormData(c);ah(s,{pending:!0,data:R,method:c.method,action:f},null,R)}}else typeof f=="function"&&(E.preventDefault(),R=y?cp(c,y):new FormData(c),ah(s,{pending:!0,data:R,method:c.method,action:f},f,R))},currentTarget:c}]})}}for(var Jh=0;Jh<nm.length;Jh++){var Wh=nm[Jh],L0=Wh.toLowerCase(),z0=Wh[0].toUpperCase()+Wh.slice(1);zn(L0,"on"+z0)}zn($d,"onAnimationEnd"),zn(Jd,"onAnimationIteration"),zn(Wd,"onAnimationStart"),zn("dblclick","onDoubleClick"),zn("focusin","onFocus"),zn("focusout","onBlur"),zn(t0,"onTransitionRun"),zn(e0,"onTransitionStart"),zn(n0,"onTransitionCancel"),zn(tm,"onTransitionEnd"),sn("onMouseEnter",["mouseout","mouseover"]),sn("onMouseLeave",["mouseout","mouseover"]),sn("onPointerEnter",["pointerout","pointerover"]),sn("onPointerLeave",["pointerout","pointerover"]),on("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),on("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),on("onBeforeInput",["compositionend","keypress","textInput","paste"]),on("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),on("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),on("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),B0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Cl));function hp(t,n){n=(n&4)!==0;for(var s=0;s<t.length;s++){var l=t[s],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var y=l.length-1;0<=y;y--){var E=l[y],R=E.instance,M=E.currentTarget;if(E=E.listener,R!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=M;try{f(c)}catch(G){$o(G)}c.currentTarget=null,f=R}else for(y=0;y<l.length;y++){if(E=l[y],R=E.instance,M=E.currentTarget,E=E.listener,R!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=M;try{f(c)}catch(G){$o(G)}c.currentTarget=null,f=R}}}}function Ot(t,n){var s=n[Ps];s===void 0&&(s=n[Ps]=new Set);var l=t+"__bubble";s.has(l)||(fp(n,t,2,!1),s.add(l))}function tf(t,n,s){var l=0;n&&(l|=4),fp(s,t,l,n)}var fu="_reactListening"+Math.random().toString(36).slice(2);function ef(t){if(!t[fu]){t[fu]=!0,Pa.forEach(function(s){s!=="selectionchange"&&(B0.has(s)||tf(s,!1,t),tf(s,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[fu]||(n[fu]=!0,tf("selectionchange",!1,n))}}function fp(t,n,s,l){switch(Up(n)){case 2:var c=cE;break;case 8:c=hE;break;default:c=gf}s=c.bind(null,n,s,t),c=void 0,!An||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,s,{capture:!0,passive:c}):t.addEventListener(n,s,!0):c!==void 0?t.addEventListener(n,s,{passive:c}):t.addEventListener(n,s,!1)}function nf(t,n,s,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var E=l.stateNode.containerInfo;if(E===c||E.nodeType===8&&E.parentNode===c)break;if(y===4)for(y=l.return;y!==null;){var R=y.tag;if((R===3||R===4)&&(R=y.stateNode.containerInfo,R===c||R.nodeType===8&&R.parentNode===c))return;y=y.return}for(;E!==null;){if(y=Ln(E),y===null)return;if(R=y.tag,R===5||R===6||R===26||R===27){l=f=y;continue t}E=E.parentNode}}l=l.return}yo(function(){var M=f,G=Or(s),K=[];t:{var j=em.get(t);if(j!==void 0){var H=Mr,ht=t;switch(t){case"keypress":if(Yn(s)===0)break t;case"keydown":case"keyup":H=Pr;break;case"focusin":ht="focus",H=Lr;break;case"focusout":ht="blur",H=Lr;break;case"beforeblur":case"afterblur":H=Lr;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Sn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Dc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=Ro;break;case $d:case Jd:case Wd:H=zr;break;case tm:H=Co;break;case"scroll":case"scrollend":H=_o;break;case"wheel":H=kr;break;case"copy":case"cut":case"paste":H=Br;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=$a;break;case"toggle":case"beforetoggle":H=Vo}var At=(n&4)!==0,ce=!At&&(t==="scroll"||t==="scrollend"),U=At?j!==null?j+"Capture":null:j;At=[];for(var O=M,B;O!==null;){var Q=O;if(B=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||B===null||U===null||(Q=Gs(O,U),Q!=null&&At.push(Dl(O,Q,B))),ce)break;O=O.return}0<At.length&&(j=new H(j,ht,null,s,G),K.push({event:j,listeners:At}))}}if((n&7)===0){t:{if(j=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",j&&s!==Tn&&(ht=s.relatedTarget||s.fromElement)&&(Ln(ht)||ht[di]))break t;if((H||j)&&(j=G.window===G?G:(j=G.ownerDocument)?j.defaultView||j.parentWindow:window,H?(ht=s.relatedTarget||s.toElement,H=M,ht=ht?Ln(ht):null,ht!==null&&(ce=ot(ht),At=ht.tag,ht!==ce||At!==5&&At!==27&&At!==6)&&(ht=null)):(H=null,ht=M),H!==ht)){if(At=Sn,Q="onMouseLeave",U="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(At=$a,Q="onPointerLeave",U="onPointerEnter",O="pointer"),ce=H==null?j:Ji(H),B=ht==null?j:Ji(ht),j=new At(Q,O+"leave",H,s,G),j.target=ce,j.relatedTarget=B,Q=null,Ln(G)===M&&(At=new At(U,O+"enter",ht,s,G),At.target=B,At.relatedTarget=ce,Q=At),ce=Q,H&&ht)e:{for(At=H,U=ht,O=0,B=At;B;B=ua(B))O++;for(B=0,Q=U;Q;Q=ua(Q))B++;for(;0<O-B;)At=ua(At),O--;for(;0<B-O;)U=ua(U),B--;for(;O--;){if(At===U||U!==null&&At===U.alternate)break e;At=ua(At),U=ua(U)}At=null}else At=null;H!==null&&dp(K,j,H,At,!1),ht!==null&&ce!==null&&dp(K,ce,ht,At,!0)}}t:{if(j=M?Ji(M):window,H=j.nodeName&&j.nodeName.toLowerCase(),H==="select"||H==="input"&&j.type==="file")var at=kd;else if(Ae(j))if(jd)at=Zv;else{at=Yv;var Vt=Kv}else H=j.nodeName,!H||H.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?M&&Ga(M.elementType)&&(at=kd):at=Xv;if(at&&(at=at(t,M))){Ti(K,at,s,G);break t}Vt&&Vt(t,j,M),t==="focusout"&&M&&j.type==="number"&&M.memoizedProps.value!=null&&Ir(j,"number",j.value)}switch(Vt=M?Ji(M):window,t){case"focusin":(Ae(Vt)||Vt.contentEditable==="true")&&(jr=Vt,Mc=M,tl=null);break;case"focusout":tl=Mc=jr=null;break;case"mousedown":xc=!0;break;case"contextmenu":case"mouseup":case"dragend":xc=!1,Xd(K,s,G);break;case"selectionchange":if(Wv)break;case"keydown":case"keyup":Xd(K,s,G)}var ft;if($n)t:{switch(t){case"compositionstart":var vt="onCompositionStart";break t;case"compositionend":vt="onCompositionEnd";break t;case"compositionupdate":vt="onCompositionUpdate";break t}vt=void 0}else xt?q(t,s)&&(vt="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(vt="onCompositionStart");vt&&(p&&s.locale!=="ko"&&(xt||vt!=="onCompositionStart"?vt==="onCompositionEnd"&&xt&&(ft=Fa()):(Kn=G,ss="value"in Kn?Kn.value:Kn.textContent,xt=!0)),Vt=du(M,vt),0<Vt.length&&(vt=new Xa(vt,t,null,s,G),K.push({event:vt,listeners:Vt}),ft?vt.data=ft:(ft=tt(s),ft!==null&&(vt.data=ft)))),(ft=m?Te(t,s):Ut(t,s))&&(vt=du(M,"onBeforeInput"),0<vt.length&&(Vt=new Xa("onBeforeInput","beforeinput",null,s,G),K.push({event:Vt,listeners:vt}),Vt.data=ft)),U0(K,t,M,s,G)}hp(K,n)})}function Dl(t,n,s){return{instance:t,listener:n,currentTarget:s}}function du(t,n){for(var s=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=Gs(t,s),c!=null&&l.unshift(Dl(t,c,f)),c=Gs(t,n),c!=null&&l.push(Dl(t,c,f))),t=t.return}return l}function ua(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function dp(t,n,s,l,c){for(var f=n._reactName,y=[];s!==null&&s!==l;){var E=s,R=E.alternate,M=E.stateNode;if(E=E.tag,R!==null&&R===l)break;E!==5&&E!==26&&E!==27||M===null||(R=M,c?(M=Gs(s,f),M!=null&&y.unshift(Dl(s,M,R))):c||(M=Gs(s,f),M!=null&&y.push(Dl(s,M,R)))),s=s.return}y.length!==0&&t.push({event:n,listeners:y})}var P0=/\r\n?/g,k0=/\u0000|\uFFFD/g;function mp(t){return(typeof t=="string"?t:""+t).replace(P0,`
`).replace(k0,"")}function gp(t,n){return n=mp(n),mp(t)===n}function mu(){}function Kt(t,n,s,l,c,f){switch(s){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||En(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&En(t,""+l);break;case"className":es(t,"class",l);break;case"tabIndex":es(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":es(t,s,l);break;case"style":po(t,l,f);break;case"data":if(n!=="object"){es(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||s!=="href")){t.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=Fn(""+l),t.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&Kt(t,n,"name",c.name,c,null),Kt(t,n,"formEncType",c.formEncType,c,null),Kt(t,n,"formMethod",c.formMethod,c,null),Kt(t,n,"formTarget",c.formTarget,c,null)):(Kt(t,n,"encType",c.encType,c,null),Kt(t,n,"method",c.method,c,null),Kt(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=Fn(""+l),t.setAttribute(s,l);break;case"onClick":l!=null&&(t.onclick=mu);break;case"onScroll":l!=null&&Ot("scroll",t);break;case"onScrollEnd":l!=null&&Ot("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}s=Fn(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""+l):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":l===!0?t.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,l):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(s,l):t.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(s):t.setAttribute(s,l);break;case"popover":Ot("beforetoggle",t),Ot("toggle",t),ts(t,"popover",l);break;case"xlinkActuate":vn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":vn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":vn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":vn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":vn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":vn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":vn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":vn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":vn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ts(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=wc.get(s)||s,ts(t,s,l))}}function sf(t,n,s,l,c,f){switch(s){case"style":po(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"children":typeof l=="string"?En(t,l):(typeof l=="number"||typeof l=="bigint")&&En(t,""+l);break;case"onScroll":l!=null&&Ot("scroll",t);break;case"onScrollEnd":l!=null&&Ot("scrollend",t);break;case"onClick":l!=null&&(t.onclick=mu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Vr.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(c=s.endsWith("Capture"),n=s.slice(2,c?s.length-7:void 0),f=t[Ee]||null,f=f!=null?f[s]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(n,l,c);break t}s in t?t[s]=l:l===!0?t.setAttribute(s,""):ts(t,s,l)}}}function Pe(t,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ot("error",t),Ot("load",t);var l=!1,c=!1,f;for(f in s)if(s.hasOwnProperty(f)){var y=s[f];if(y!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Kt(t,n,f,y,s,null)}}c&&Kt(t,n,"srcSet",s.srcSet,s,null),l&&Kt(t,n,"src",s.src,s,null);return;case"input":Ot("invalid",t);var E=f=y=c=null,R=null,M=null;for(l in s)if(s.hasOwnProperty(l)){var G=s[l];if(G!=null)switch(l){case"name":c=G;break;case"type":y=G;break;case"checked":R=G;break;case"defaultChecked":M=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,n));break;default:Kt(t,n,l,G,s,null)}}qs(t,f,E,R,M,y,c,!1),js(t);return;case"select":Ot("invalid",t),l=y=f=null;for(c in s)if(s.hasOwnProperty(c)&&(E=s[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":y=E;break;case"multiple":l=E;default:Kt(t,n,c,E,s,null)}n=f,s=y,t.multiple=!!l,n!=null?kt(t,!!l,n,!1):s!=null&&kt(t,!!l,s,!0);return;case"textarea":Ot("invalid",t),f=c=l=null;for(y in s)if(s.hasOwnProperty(y)&&(E=s[y],E!=null))switch(y){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:Kt(t,n,y,E,s,null)}is(t,l,c,f),js(t);return;case"option":for(R in s)if(s.hasOwnProperty(R)&&(l=s[R],l!=null))switch(R){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Kt(t,n,R,l,s,null)}return;case"dialog":Ot("cancel",t),Ot("close",t);break;case"iframe":case"object":Ot("load",t);break;case"video":case"audio":for(l=0;l<Cl.length;l++)Ot(Cl[l],t);break;case"image":Ot("error",t),Ot("load",t);break;case"details":Ot("toggle",t);break;case"embed":case"source":case"link":Ot("error",t),Ot("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(M in s)if(s.hasOwnProperty(M)&&(l=s[M],l!=null))switch(M){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Kt(t,n,M,l,s,null)}return;default:if(Ga(n)){for(G in s)s.hasOwnProperty(G)&&(l=s[G],l!==void 0&&sf(t,n,G,l,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(l=s[E],l!=null&&Kt(t,n,E,l,s,null))}function j0(t,n,s,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,y=null,E=null,R=null,M=null,G=null;for(H in s){var K=s[H];if(s.hasOwnProperty(H)&&K!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":R=K;default:l.hasOwnProperty(H)||Kt(t,n,H,null,l,K)}}for(var j in l){var H=l[j];if(K=s[j],l.hasOwnProperty(j)&&(H!=null||K!=null))switch(j){case"type":f=H;break;case"name":c=H;break;case"checked":M=H;break;case"defaultChecked":G=H;break;case"value":y=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:H!==K&&Kt(t,n,j,H,l,K)}}ns(t,y,E,R,M,G,f,c);return;case"select":H=y=E=j=null;for(f in s)if(R=s[f],s.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":H=R;default:l.hasOwnProperty(f)||Kt(t,n,f,null,l,R)}for(c in l)if(f=l[c],R=s[c],l.hasOwnProperty(c)&&(f!=null||R!=null))switch(c){case"value":j=f;break;case"defaultValue":E=f;break;case"multiple":y=f;default:f!==R&&Kt(t,n,c,f,l,R)}n=E,s=y,l=H,j!=null?kt(t,!!s,j,!1):!!l!=!!s&&(n!=null?kt(t,!!s,n,!0):kt(t,!!s,s?[]:"",!1));return;case"textarea":H=j=null;for(E in s)if(c=s[E],s.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Kt(t,n,E,null,l,c)}for(y in l)if(c=l[y],f=s[y],l.hasOwnProperty(y)&&(c!=null||f!=null))switch(y){case"value":j=c;break;case"defaultValue":H=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(a(91));break;default:c!==f&&Kt(t,n,y,c,l,f)}Hs(t,j,H);return;case"option":for(var ht in s)if(j=s[ht],s.hasOwnProperty(ht)&&j!=null&&!l.hasOwnProperty(ht))switch(ht){case"selected":t.selected=!1;break;default:Kt(t,n,ht,null,l,j)}for(R in l)if(j=l[R],H=s[R],l.hasOwnProperty(R)&&j!==H&&(j!=null||H!=null))switch(R){case"selected":t.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:Kt(t,n,R,j,l,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var At in s)j=s[At],s.hasOwnProperty(At)&&j!=null&&!l.hasOwnProperty(At)&&Kt(t,n,At,null,l,j);for(M in l)if(j=l[M],H=s[M],l.hasOwnProperty(M)&&j!==H&&(j!=null||H!=null))switch(M){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(a(137,n));break;default:Kt(t,n,M,j,l,H)}return;default:if(Ga(n)){for(var ce in s)j=s[ce],s.hasOwnProperty(ce)&&j!==void 0&&!l.hasOwnProperty(ce)&&sf(t,n,ce,void 0,l,j);for(G in l)j=l[G],H=s[G],!l.hasOwnProperty(G)||j===H||j===void 0&&H===void 0||sf(t,n,G,j,l,H);return}}for(var U in s)j=s[U],s.hasOwnProperty(U)&&j!=null&&!l.hasOwnProperty(U)&&Kt(t,n,U,null,l,j);for(K in l)j=l[K],H=s[K],!l.hasOwnProperty(K)||j===H||j==null&&H==null||Kt(t,n,K,j,l,H)}var rf=null,af=null;function gu(t){return t.nodeType===9?t:t.ownerDocument}function pp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function yp(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function lf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var of=null;function q0(){var t=window.event;return t&&t.type==="popstate"?t===of?!1:(of=t,!0):(of=null,!1)}var _p=typeof setTimeout=="function"?setTimeout:void 0,H0=typeof clearTimeout=="function"?clearTimeout:void 0,vp=typeof Promise=="function"?Promise:void 0,G0=typeof queueMicrotask=="function"?queueMicrotask:typeof vp<"u"?function(t){return vp.resolve(null).then(t).catch(Q0)}:_p;function Q0(t){setTimeout(function(){throw t})}function uf(t,n){var s=n,l=0;do{var c=s.nextSibling;if(t.removeChild(s),c&&c.nodeType===8)if(s=c.data,s==="/$"){if(l===0){t.removeChild(c),Ll(n);return}l--}else s!=="$"&&s!=="$?"&&s!=="$!"||l++;s=c}while(s);Ll(n)}function cf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":cf(s),ks(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function F0(t,n,s,l){for(;t.nodeType===1;){var c=s;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[$i])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=kn(t.nextSibling),t===null)break}return null}function K0(t,n,s){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=kn(t.nextSibling),t===null))return null;return t}function kn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}function Ep(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(n===0)return t;n--}else s==="/$"&&n++}t=t.previousSibling}return null}function Tp(t,n,s){switch(n=gu(s),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}var Mn=new Map,Ap=new Set;function pu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.ownerDocument}var Li=it.d;it.d={f:Y0,r:X0,D:Z0,C:$0,L:J0,m:W0,X:eE,S:tE,M:nE};function Y0(){var t=Li.f(),n=ou();return t||n}function X0(t){var n=mi(t);n!==null&&n.tag===5&&n.type==="form"?Xm(n):Li.r(t)}var ca=typeof document>"u"?null:document;function Sp(t,n,s){var l=ca;if(l&&typeof n=="string"&&n){var c=le(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof s=="string"&&(c+='[crossorigin="'+s+'"]'),Ap.has(c)||(Ap.add(c),t={rel:t,crossOrigin:s,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),Pe(n,"link",t),te(n),l.head.appendChild(n)))}}function Z0(t){Li.D(t),Sp("dns-prefetch",t,null)}function $0(t,n){Li.C(t,n),Sp("preconnect",t,n)}function J0(t,n,s){Li.L(t,n,s);var l=ca;if(l&&t&&n){var c='link[rel="preload"][as="'+le(n)+'"]';n==="image"&&s&&s.imageSrcSet?(c+='[imagesrcset="'+le(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(c+='[imagesizes="'+le(s.imageSizes)+'"]')):c+='[href="'+le(t)+'"]';var f=c;switch(n){case"style":f=ha(t);break;case"script":f=fa(t)}Mn.has(f)||(t=w({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:t,as:n},s),Mn.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Vl(f))||n==="script"&&l.querySelector(Nl(f))||(n=l.createElement("link"),Pe(n,"link",t),te(n),l.head.appendChild(n)))}}function W0(t,n){Li.m(t,n);var s=ca;if(s&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+le(l)+'"][href="'+le(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=fa(t)}if(!Mn.has(f)&&(t=w({rel:"modulepreload",href:t},n),Mn.set(f,t),s.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Nl(f)))return}l=s.createElement("link"),Pe(l,"link",t),te(l),s.head.appendChild(l)}}}function tE(t,n,s){Li.S(t,n,s);var l=ca;if(l&&t){var c=Wi(l).hoistableStyles,f=ha(t);n=n||"default";var y=c.get(f);if(!y){var E={loading:0,preload:null};if(y=l.querySelector(Vl(f)))E.loading=5;else{t=w({rel:"stylesheet",href:t,"data-precedence":n},s),(s=Mn.get(f))&&hf(t,s);var R=y=l.createElement("link");te(R),Pe(R,"link",t),R._p=new Promise(function(M,G){R.onload=M,R.onerror=G}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,yu(y,n,l)}y={type:"stylesheet",instance:y,count:1,state:E},c.set(f,y)}}}function eE(t,n){Li.X(t,n);var s=ca;if(s&&t){var l=Wi(s).hoistableScripts,c=fa(t),f=l.get(c);f||(f=s.querySelector(Nl(c)),f||(t=w({src:t,async:!0},n),(n=Mn.get(c))&&ff(t,n),f=s.createElement("script"),te(f),Pe(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function nE(t,n){Li.M(t,n);var s=ca;if(s&&t){var l=Wi(s).hoistableScripts,c=fa(t),f=l.get(c);f||(f=s.querySelector(Nl(c)),f||(t=w({src:t,async:!0,type:"module"},n),(n=Mn.get(c))&&ff(t,n),f=s.createElement("script"),te(f),Pe(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function bp(t,n,s,l){var c=(c=yn.current)?pu(c):null;if(!c)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=ha(s.href),s=Wi(c).hoistableStyles,l=s.get(n),l||(l={type:"style",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=ha(s.href);var f=Wi(c).hoistableStyles,y=f.get(t);if(y||(c=c.ownerDocument||c,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,y),(f=c.querySelector(Vl(t)))&&!f._p&&(y.instance=f,y.state.loading=5),Mn.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Mn.set(t,s),f||iE(c,t,s,y.state))),n&&l===null)throw Error(a(528,""));return y}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=fa(s),s=Wi(c).hoistableScripts,l=s.get(n),l||(l={type:"script",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function ha(t){return'href="'+le(t)+'"'}function Vl(t){return'link[rel="stylesheet"]['+t+"]"}function Rp(t){return w({},t,{"data-precedence":t.precedence,precedence:null})}function iE(t,n,s,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Pe(n,"link",s),te(n),t.head.appendChild(n))}function fa(t){return'[src="'+le(t)+'"]'}function Nl(t){return"script[async]"+t}function wp(t,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+le(s.href)+'"]');if(l)return n.instance=l,te(l),l;var c=w({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),te(l),Pe(l,"style",c),yu(l,s.precedence,t),n.instance=l;case"stylesheet":c=ha(s.href);var f=t.querySelector(Vl(c));if(f)return n.state.loading|=4,n.instance=f,te(f),f;l=Rp(s),(c=Mn.get(c))&&hf(l,c),f=(t.ownerDocument||t).createElement("link"),te(f);var y=f;return y._p=new Promise(function(E,R){y.onload=E,y.onerror=R}),Pe(f,"link",l),n.state.loading|=4,yu(f,s.precedence,t),n.instance=f;case"script":return f=fa(s.src),(c=t.querySelector(Nl(f)))?(n.instance=c,te(c),c):(l=s,(c=Mn.get(f))&&(l=w({},s),ff(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),te(c),Pe(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,yu(l,s.precedence,t));return n.instance}function yu(t,n,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,y=0;y<l.length;y++){var E=l[y];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(t,n.firstChild))}function hf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function ff(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var _u=null;function Cp(t,n,s){if(_u===null){var l=new Map,c=_u=new Map;c.set(s,l)}else c=_u,l=c.get(s),l||(l=new Map,c.set(s,l));if(l.has(t))return l;for(l.set(t,null),s=s.getElementsByTagName(t),c=0;c<s.length;c++){var f=s[c];if(!(f[$i]||f[Ve]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=t+y;var E=l.get(y);E?E.push(f):l.set(y,[f])}}return l}function Dp(t,n,s){t=t.ownerDocument||t,t.head.insertBefore(s,n==="title"?t.querySelector("head > title"):null)}function sE(t,n,s){if(s===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Vp(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Il=null;function rE(){}function aE(t,n,s){if(Il===null)throw Error(a(475));var l=Il;if(n.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=ha(s.href),f=t.querySelector(Vl(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=vu.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,te(f);return}f=t.ownerDocument||t,s=Rp(s),(c=Mn.get(c))&&hf(s,c),f=f.createElement("link"),te(f);var y=f;y._p=new Promise(function(E,R){y.onload=E,y.onerror=R}),Pe(f,"link",s),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=vu.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function lE(){if(Il===null)throw Error(a(475));var t=Il;return t.stylesheets&&t.count===0&&df(t,t.stylesheets),0<t.count?function(n){var s=setTimeout(function(){if(t.stylesheets&&df(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(s)}}:null}function vu(){if(this.count--,this.count===0){if(this.stylesheets)df(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Eu=null;function df(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Eu=new Map,n.forEach(oE,t),Eu=null,vu.call(t))}function oE(t,n){if(!(n.state.loading&4)){var s=Eu.get(t);if(s)var l=s.get(null);else{s=new Map,Eu.set(t,s);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var y=c[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(s.set(y.dataset.precedence,y),l=y)}l&&s.set(null,l)}c=n.instance,y=c.getAttribute("data-precedence"),f=s.get(y)||l,f===l&&s.set(null,c),s.set(y,c),this.count++,l=vu.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Ol={$$typeof:k,Provider:null,Consumer:null,_currentValue:ct,_currentValue2:ct,_threadCount:0};function uE(t,n,s,l,c,f,y,E){this.tag=1,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Cr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cr(0),this.hiddenUpdates=Cr(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function Np(t,n,s,l,c,f,y,E,R,M,G,K){return t=new uE(t,n,s,y,E,R,M,K),n=1,f===!0&&(n|=24),f=In(3,null,null,n),t.current=f,f.stateNode=t,n=Gc(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:s,cache:n},bh(f),t}function Ip(t){return t?(t=Gr,t):Gr}function Op(t,n,s,l,c,f){c=Ip(c),l.context===null?l.context=c:l.pendingContext=c,l=fs(n),l.payload={element:s},f=f===void 0?null:f,f!==null&&(l.callback=f),s=ds(t,l,n),s!==null&&(en(s,t,n),gl(s,t,n))}function Mp(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<n?s:n}}function mf(t,n){Mp(t,n),(t=t.alternate)&&Mp(t,n)}function xp(t){if(t.tag===13){var n=rs(t,67108864);n!==null&&en(n,t,67108864),mf(t,67108864)}}var Tu=!0;function cE(t,n,s,l){var c=A.T;A.T=null;var f=it.p;try{it.p=2,gf(t,n,s,l)}finally{it.p=f,A.T=c}}function hE(t,n,s,l){var c=A.T;A.T=null;var f=it.p;try{it.p=8,gf(t,n,s,l)}finally{it.p=f,A.T=c}}function gf(t,n,s,l){if(Tu){var c=pf(l);if(c===null)nf(t,n,l,Au,s),Lp(t,l);else if(dE(c,t,n,s,l))l.stopPropagation();else if(Lp(t,l),n&4&&-1<fE.indexOf(t)){for(;c!==null;){var f=mi(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=Un(f.pendingLanes);if(y!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var R=1<<31-$e(y);E.entanglements[1]|=R,y&=~R}ii(f),(ne&6)===0&&(ru=nn()+500,wl(0))}}break;case 13:E=rs(f,2),E!==null&&en(E,f,2),ou(),mf(f,2)}if(f=pf(l),f===null&&nf(t,n,l,Au,s),f===c)break;c=f}c!==null&&l.stopPropagation()}else nf(t,n,l,null,s)}}function pf(t){return t=Or(t),yf(t)}var Au=null;function yf(t){if(Au=null,t=Ln(t),t!==null){var n=ot(t);if(n===null)t=null;else{var s=n.tag;if(s===13){if(t=Mt(n),t!==null)return t;t=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Au=t,null}function Up(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ao()){case ve:return 2;case De:return 8;case fi:case lo:return 32;case xa:return 268435456;default:return 32}default:return 32}}var _f=!1,Es=null,Ts=null,As=null,Ml=new Map,xl=new Map,Ss=[],fE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Lp(t,n){switch(t){case"focusin":case"focusout":Es=null;break;case"dragenter":case"dragleave":Ts=null;break;case"mouseover":case"mouseout":As=null;break;case"pointerover":case"pointerout":Ml.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":xl.delete(n.pointerId)}}function Ul(t,n,s,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=mi(n),n!==null&&xp(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function dE(t,n,s,l,c){switch(n){case"focusin":return Es=Ul(Es,t,n,s,l,c),!0;case"dragenter":return Ts=Ul(Ts,t,n,s,l,c),!0;case"mouseover":return As=Ul(As,t,n,s,l,c),!0;case"pointerover":var f=c.pointerId;return Ml.set(f,Ul(Ml.get(f)||null,t,n,s,l,c)),!0;case"gotpointercapture":return f=c.pointerId,xl.set(f,Ul(xl.get(f)||null,t,n,s,l,c)),!0}return!1}function zp(t){var n=Ln(t.target);if(n!==null){var s=ot(n);if(s!==null){if(n=s.tag,n===13){if(n=Mt(s),n!==null){t.blockedOn=n,Zi(t.priority,function(){if(s.tag===13){var l=mn(),c=rs(s,l);c!==null&&en(c,s,l),mf(s,l)}});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Su(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var s=pf(t.nativeEvent);if(s===null){s=t.nativeEvent;var l=new s.constructor(s.type,s);Tn=l,s.target.dispatchEvent(l),Tn=null}else return n=mi(s),n!==null&&xp(n),t.blockedOn=s,!1;n.shift()}return!0}function Bp(t,n,s){Su(t)&&s.delete(n)}function mE(){_f=!1,Es!==null&&Su(Es)&&(Es=null),Ts!==null&&Su(Ts)&&(Ts=null),As!==null&&Su(As)&&(As=null),Ml.forEach(Bp),xl.forEach(Bp)}function bu(t,n){t.blockedOn===n&&(t.blockedOn=null,_f||(_f=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,mE)))}var Ru=null;function Pp(t){Ru!==t&&(Ru=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Ru===t&&(Ru=null);for(var n=0;n<t.length;n+=3){var s=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(yf(l||s)===null)continue;break}var f=mi(s);f!==null&&(t.splice(n,3),n-=3,ah(f,{pending:!0,data:c,method:s.method,action:l},l,c))}}))}function Ll(t){function n(R){return bu(R,t)}Es!==null&&bu(Es,t),Ts!==null&&bu(Ts,t),As!==null&&bu(As,t),Ml.forEach(n),xl.forEach(n);for(var s=0;s<Ss.length;s++){var l=Ss[s];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Ss.length&&(s=Ss[0],s.blockedOn===null);)zp(s),s.blockedOn===null&&Ss.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var c=s[l],f=s[l+1],y=c[Ee]||null;if(typeof f=="function")y||Pp(s);else if(y){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,y=f[Ee]||null)E=y.formAction;else if(yf(c)!==null)continue}else E=y.action;typeof E=="function"?s[l+1]=E:(s.splice(l,3),l-=3),Pp(s)}}}function vf(t){this._internalRoot=t}wu.prototype.render=vf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,l=mn();Op(s,l,t,n,null,null)},wu.prototype.unmount=vf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;t.tag===0&&la(),Op(t.current,2,null,t,null,null),ou(),n[di]=null}};function wu(t){this._internalRoot=t}wu.prototype.unstable_scheduleHydration=function(t){if(t){var n=fo();t={blockedOn:null,target:t,priority:n};for(var s=0;s<Ss.length&&n!==0&&n<Ss[s].priority;s++);Ss.splice(s,0,t),s===0&&zp(t)}};var kp=e.version;if(kp!=="19.0.0")throw Error(a(527,kp,"19.0.0"));it.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=Y(n),t=t!==null?ut(t):null,t=t===null?null:t.stateNode,t};var gE={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:A,findFiberByHostInstance:Ln,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cu.isDisabled&&Cu.supportsFiber)try{Gi=Cu.inject(gE),He=Cu}catch{}}return Bl.createRoot=function(t,n){if(!o(t))throw Error(a(299));var s=!1,l="",c=ig,f=sg,y=rg,E=null;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=Np(t,1,!1,null,null,s,l,c,f,y,E,null),t[di]=n.current,ef(t.nodeType===8?t.parentNode:t),new vf(n)},Bl.hydrateRoot=function(t,n,s){if(!o(t))throw Error(a(299));var l=!1,c="",f=ig,y=sg,E=rg,R=null,M=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(y=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(R=s.unstable_transitionCallbacks),s.formState!==void 0&&(M=s.formState)),n=Np(t,1,!0,n,s??null,l,c,f,y,E,R,M),n.context=Ip(null),s=n.current,l=mn(),c=fs(l),c.callback=null,ds(s,c,l),n.current.lanes=l,fe(n,l),ii(n),t[di]=n.current,ef(t),new wu(n)},Bl.version="19.0.0",Bl}var Zp;function wE(){if(Zp)return Af.exports;Zp=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Af.exports=RE(),Af.exports}var CE=wE();const DE="/knight_vs_ghost/assets/background-SwIuGYpL.jpg",s_="/knight_vs_ghost/assets/hero-prjbBoBF.gif";function id(r,e){const i=r.position[0]-r.width/2,a=r.position[0]+r.width/2,o=r.position[1]-r.height/2,h=r.position[1]+r.height/2,d=e.position[0]-e.width/2,g=e.position[0]+e.width/2,_=e.position[1]-e.height/2,v=e.position[1]+e.height/2;return(h>_&&o<v||v>o&&_<h)&&(i<g&&a>d||d<a&&g>i)}function r_(r,e){let i=e.position[1]-e.height/2,a=e.position[1]+e.height/2,o=e.position[0]-e.width/2,h=e.position[0]+e.width/2;return i>0&&o>0&&a<r.height-6&&h<r.width-6}const ku=(r,e)=>(r=Math.ceil(r),e=Math.floor(e),Math.floor(Math.random()*(e-r+1))+r);function sd(r,e,i){for(;;){let a=ku(e.width,r.width-6-e.width),o=ku(e.height,r.height-6-e.height);if(!id(i,{height:e.height,width:e.width,position:[a,o]}))return[a,o]}}function VE(r,e,i,a){let o=null;return r&&i?o=Math.PI*3/4:r&&a?o=Math.PI/4:e&&i?o=Math.PI*5/4:e&&a?o=Math.PI*7/4:r&&!e?o=Math.PI/2:e&&!r?o=Math.PI*3/2:i&&!a?o=Math.PI:a&&!i&&(o=Math.PI*2),o}const NE="/knight_vs_ghost/assets/blip-Bx4MDOU_.mp3",IE="/knight_vs_ghost/assets/hit-OEw8NPUl.mp3",OE="/knight_vs_ghost/assets/death-C5zd0wRI.mp3",ME="/knight_vs_ghost/assets/dash-_Wm9CQur.mp3",xE="/knight_vs_ghost/assets/hability_up-uZ019EgV.mp3",UE="modulepreload",LE=function(r){return"/knight_vs_ghost/"+r},$p={},zE=function(e,i,a){let o=Promise.resolve();if(i&&i.length>0){document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),g=(d==null?void 0:d.nonce)||(d==null?void 0:d.getAttribute("nonce"));o=Promise.allSettled(i.map(_=>{if(_=LE(_),_ in $p)return;$p[_]=!0;const v=_.endsWith(".css"),S=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${_}"]${S}`))return;const N=document.createElement("link");if(N.rel=v?"stylesheet":UE,v||(N.as="script"),N.crossOrigin="",N.href=_,g&&N.setAttribute("nonce",g),document.head.appendChild(N),v)return new Promise((x,k)=>{N.addEventListener("load",x),N.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${_}`)))})}))}function h(d){const g=new Event("vite:preloadError",{cancelable:!0});if(g.payload=d,window.dispatchEvent(g),!g.defaultPrevented)throw d}return o.then(d=>{for(const g of d||[])g.status==="rejected"&&h(g.reason);return e().catch(h)})};function ju(){return ju=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var a in i)({}).hasOwnProperty.call(i,a)&&(r[a]=i[a])}return r},ju.apply(null,arguments)}function BE(r,e){if(r==null)return{};var i={};for(var a in r)if({}.hasOwnProperty.call(r,a)){if(e.indexOf(a)!==-1)continue;i[a]=r[a]}return i}function PE(r){W.useEffect(r,[])}var kE=["id","volume","playbackRate","soundEnabled","interrupt","onload"];function ri(r,e){var i=e===void 0?{}:e,a=i.volume,o=a===void 0?1:a,h=i.playbackRate,d=h===void 0?1:h,g=i.soundEnabled,_=g===void 0?!0:g,v=i.interrupt,S=v===void 0?!1:v,N=i.onload,x=BE(i,kE),k=zi.useRef(null),X=zi.useRef(!1),J=zi.useState(null),Z=J[0],gt=J[1],dt=zi.useState(null),rt=dt[0],Rt=dt[1],mt=function(){typeof N=="function"&&N.call(this),X.current&&gt(this.duration()*1e3),Rt(this)};PE(function(){return zE(()=>import("./howler-C7W9ZQQO.js").then(w=>w.h),[]).then(function(w){if(!X.current){var V;k.current=(V=w.Howl)!==null&&V!==void 0?V:w.default.Howl,X.current=!0,new k.current(ju({src:Array.isArray(r)?r:[r],volume:o,rate:d,onload:mt},x))}}),function(){X.current=!1}}),zi.useEffect(function(){k.current&&rt&&Rt(new k.current(ju({src:Array.isArray(r)?r:[r],volume:o,onload:mt},x)))},[JSON.stringify(r)]),zi.useEffect(function(){rt&&(rt.volume(o),x.sprite||rt.rate(d))},[rt,o,d]);var lt=zi.useCallback(function(w){typeof w>"u"&&(w={}),!(!rt||!_&&!w.forceSoundEnabled)&&(S&&rt.stop(),w.playbackRate&&rt.rate(w.playbackRate),rt.play(w.id))},[rt,_,S]),I=zi.useCallback(function(w){rt&&rt.stop(w)},[rt]),b=zi.useCallback(function(w){rt&&rt.pause(w)},[rt]),A=[lt,{sound:rt,stop:I,pause:b,duration:Z}];return A}const an={MOVE:"move",COLECT_COIN:"colect-coin",TAKE_DAMAGE:"take-damage",TOGGLE_INVULNERABILITY:"toggle-invulnerability",RESET:"reset",DASH:"dash"},Xe={height:40,width:30,stepSize:20,dashSize:70},Du={dash:{coolDown:4e3,duration:100}};function jE(r,e){switch(e.type){case an.MOVE:const i=[r.position[0]+e.payload.magnitude*Math.cos(e.payload.direction),r.position[1]-e.payload.magnitude*Math.sin(e.payload.direction)];return r_(ie,{height:Xe.height,width:Xe.width,position:i})?{...r,position:i}:{...r};case an.COLECT_COIN:return{...r,coinCount:r.coinCount+1};case an.TAKE_DAMAGE:return{...r,liveCount:r.liveCount-1};case an.TOGGLE_INVULNERABILITY:return{...r,invulnerability:!r.invulnerability};case an.RESET:return{...r,liveCount:3,coinCount:0,position:[(ie.width-6)/2,(ie.height-6)/2],invulnerability:!1};case an.DASH:return{...r};default:return r}}function qE({userInput:r,handleDisplayStats:e,handleNotifyPosition:i,coinColectionNotification:a,heroIsHitNotification:o,handleHeroIsHitAnimation:h,handleSetFinalScore:d,gameState:g,soundEffectsEnabled:_,handleDisplayCooldowns:v}){const[S,N]=W.useState(!1);W.useEffect(()=>{g===Yt.RUNNING?N(!0):N(!1)},[g]);const[x,k]=W.useReducer(jE,{liveCount:3,coinCount:0,position:[(ie.width-6)/2,(ie.height-6)/2],invulnerability:!1}),[X,J]=W.useState(!1),[Z,gt]=W.useState(!1),[dt,rt]=W.useState(!1),[Rt,mt]=W.useState(!1),[lt,I]=W.useState(!1),[b,A]=W.useState(!1),[w,V]=W.useState(!1),L=()=>{gt(!1),rt(!1),mt(!1),I(!1)};W.useEffect(()=>{g===Yt.RUNNING&&setTimeout(()=>{J(!X)},50)},[g,X]),W.useEffect(()=>{if(S&&(Z||dt||Rt||lt)){const D=VE(Z,dt,Rt,lt);D&&k({type:an.MOVE,payload:{direction:D,magnitude:b?Xe.dashSize:Xe.stepSize}});return}},[X]),W.useEffect(()=>{if(S)switch(r.value.toLowerCase()){case"w":case"arrowup":r.pressed?gt(!0):gt(!1);break;case"s":case"arrowdown":r.pressed?rt(!0):rt(!1);break;case"a":case"arrowleft":r.pressed?mt(!0):mt(!1);break;case"d":case"arrowright":r.pressed?I(!0):I(!1);break;case" ":r.pressed&&(w||(A(!0),_&&ot(),setTimeout(()=>{A(!1)},Du.dash.duration),x.invulnerability||(k({type:an.TOGGLE_INVULNERABILITY}),setTimeout(()=>{k({type:an.TOGGLE_INVULNERABILITY})},Du.dash.duration*1.5))));break;case"escape":L();break}},[r]),W.useEffect(()=>{b&&(V(!0),setTimeout(()=>{V(!1),_&&Mt()},Du.dash.coolDown))},[b]),W.useEffect(()=>{w&&v("dash",Du.dash.coolDown)},[w]),W.useEffect(()=>{e(x.liveCount,x.coinCount)},[x.coinCount,x.liveCount]),W.useEffect(()=>{i(x.position)},[x.position]),W.useEffect(()=>{S&&k({type:an.COLECT_COIN})},[a]),W.useEffect(()=>{!x.invulnerability&&S&&(k({type:an.TAKE_DAMAGE}),h(),x.liveCount===1?(d(x.coinCount),k({type:an.RESET}),L()):(k({type:an.TOGGLE_INVULNERABILITY}),setTimeout(()=>{k({type:an.TOGGLE_INVULNERABILITY})},3e3)))},[o]);const[C,Jt]=W.useState(!0);W.useEffect(()=>{Rt&&!lt?Jt(!1):lt&&!Rt&&Jt(!0)},[lt,Rt]);const[Wt]=ri(IE,{volume:.5}),[et]=ri(NE,{volume:.5}),[pt]=ri(OE,{volume:.5}),[ot]=ri(ME,{volume:.5}),[Mt]=ri(xE,{volume:.5});return W.useEffect(()=>{_&&(S&&x.liveCount!==3&&Wt(),g===Yt.RESTART&&pt())},[x.liveCount]),W.useEffect(()=>{_&&S&&x.coinCount!==0&&et()},[x.coinCount]),P.jsx(P.Fragment,{children:P.jsx("div",{className:"hero",style:{height:Xe.height,width:Xe.width,top:x.position[1],left:x.position[0]},children:P.jsx("img",{src:s_,style:{height:"140%",transform:C?"scaleX(1)":"scaleX(-1)",opacity:x.invulnerability?.6:1}})})})}const a_="/knight_vs_ghost/assets/coin-XU6I3y5z.gif",ql={COLECT:"colect",REPOSITION:"reposition"},da={height:45,width:45};function HE(r,e){switch(e.type){case ql.COLECT:return{...r,colected:!r.colected};case ql.REPOSITION:return{...r,position:sd(ie,da,{height:Xe.height*10,width:Xe.width*10,position:e.payload.heroPosition})};default:return r}}function Vu({heroPosition:r,handleCoinColection:e}){const[i,a]=W.useReducer(HE,{position:sd(ie,da,{height:Xe.height,width:Xe.width,position:r}),colected:!1});W.useEffect(()=>{i.colected||id({height:Xe.height,width:Xe.width,position:r},{height:da.height,width:da.width,position:i.position})&&(d(),e(),a({type:ql.COLECT}),setTimeout(()=>{a({type:ql.REPOSITION,payload:{heroPosition:r}})},1e3),setTimeout(()=>{a({type:ql.COLECT})},2e3))},[r,i.position]);const[o,h]=W.useState({top:5,opacity:1}),d=()=>{h({top:-20,opacity:0}),setTimeout(()=>{h({top:5,opacity:1})},1800)};return P.jsx(P.Fragment,{children:P.jsx("div",{className:"coin",style:{height:da.height,width:da.width,top:i.position[1],left:i.position[0]},children:P.jsx("img",{src:a_,style:{position:"absolute",top:o.top,height:"80%",opacity:o.opacity,transition:i.colected?"top 0.5s, left 0.5s, opacity 0.5s":"opacity 0.2s"}})})})}const GE="/knight_vs_ghost/assets/enemy-B_GNAtY7.gif",qu={ENABLE:"enable",MOVE:"move"},gn={height:40,width:30,stepSize:25,refreshRate:200};function QE(r,e){switch(e.type){case qu.ENABLE:return{...r,enable:e.payload.value};case qu.MOVE:const i=[r.position[0]+gn.stepSize*Math.cos(r.direction),r.position[1]+gn.stepSize*Math.sin(r.direction)];return r_(ie,{height:gn.height,width:gn.width,position:i})?{...r,position:i}:{...r,direction:ku(0,2*Math.PI)};default:return r}}function FE({heroPosition:r,handleHeroIsHit:e,coinCount:i,gameState:a}){const[o,h]=W.useReducer(QE,{position:sd(ie,gn,{height:Xe.height*5,width:Xe.width*5,position:r}),enable:!1,direction:ku(0,2*Math.PI)}),[d,g]=W.useState(!1);W.useEffect(()=>{o.enable&&a===Yt.RUNNING&&(h({type:qu.MOVE}),setTimeout(()=>g(!d),gn.refreshRate-i*gn.refreshRate/150))},[o.enable,d,a]),W.useEffect(()=>{o.enable&&id({height:Xe.height,width:Xe.width,position:r},{height:gn.height,width:gn.width,position:o.position})&&e()},[r,o.position]);const[_,v]=W.useState(!0);W.useEffect(()=>{o.direction<3*Math.PI/2&&o.direction>Math.PI/2?v(!1):v(!0)},[o.direction]);const[S,N]=W.useState({opacity:0});return W.useEffect(()=>{setTimeout(()=>{N({opacity:1})},100),setTimeout(()=>{h({type:qu.ENABLE,payload:{value:!0}})},1e3)},[]),P.jsx(P.Fragment,{children:P.jsx("div",{className:"enemy",style:{top:o.position[1],left:o.position[0],height:gn.height,width:gn.width,transition:`
          top ${(gn.refreshRate-i)/1e3}s, 
          left ${(gn.refreshRate-i)/1e3}s
          `},children:P.jsx("img",{className:"enemy-image",src:GE,style:{height:"210%",opacity:S.opacity,transform:_?"scaleX(1)":"scaleX(-1)"}})})})}const l_="/knight_vs_ghost/assets/plains-D4RWmQ45.gif",KE="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIEAAABfCAYAAADPlKQPAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAACxMAAAsTAQCanBgAAAL3SURBVHhe7d3bbeMwEIXhUZ5dhguw+i/CLsBl6F15CQNaGPEq0Rry/4AFNtlkM6aPDmUhkKd1XQVjm3oLwTRNTR7Quq7T9nNW/Ww/gfF00wSuAR6Px/afTvF6vf7/br0VaALYb4LaBng+nx8fz/P88XEK1wpWG4EmwJhNsD3696S2gvUmMBkC/2VgzpPvHB0Cx2oY2A4wThOkHv2a1EagCWDWECGoaQH5+373p0dDhABhhAD9nhieXd3aySInhjCLEKDf7SAkdavQKj+E7QBmEQIQAhACEAIIIYAQAgghgBACCCGAEAIIIYAQAgghgBACSA8hWJZFlmXZfrqpK8xQw/wvldzvdxERud1u/pc05QLwfr9F+KWS72l9NLqf1/JnnqWbEKAcIYDNcwKfOz9w5wbfYPVcwKEJQAjQwXbgtN4W3BYghrcBhyZAP03gcFvbfDQB+msC5KMJQAiQsB1YO9GyNq80mDk2K00AvQlqbwJRovYGDyX3OK5R+34HLdc4NitNAEKAzXbQulI1serautLMsXlbbgF7tPWlCTBmExx99zLrTTCt61q0kC1oA8sBi3l0CJy9MFx9fYu3A//O36mLinPUPgfFIUA/CAHyQ1BbPThP6facHQL0JzkEJQnD9+Q8X8khQL8IAcIXi1Lr5AjahZkRLhalzlJLeyzVF4vQDzUEOScVsCH0nKohwFgIAQgBCAF6fol49uyheXmJCHOCTeCLJVZLWq2aJvDFZs8RepwlTXCE0ONLmZcmQHoI5nkOpgrXkvN8JYfAstTF2OMWtPb/uaohQoCw7BBYPSJKjubcr/+2kscoJSFAfwgBPq8TXOm9AyRww0j/OkHtzNvX2LlVKgnvd7BdX6mYt5a2vjQB9CbwtUqs9uYROU3gXGHelCbwnT2zNqvQBPARAuj3J9irrRb2toA9V5o5Nm9oG2tFW1+aAPFb2LVKbOrRtKd1I2hHVI6WaxyblSaA3gQ+P7Fn0hJawtq80mDm2Kw0AQgBRH4BpJgzWi2CGwIAAAAASUVORK5CYII=",YE="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAABeCAYAAADrChyUAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAACxMAAAsTAQCanBgAAANbSURBVHhe7Z3hjaswEISXV0sKCCXQEoXQkksgBaQM/uf9co7z2cDG2PEy80mRTg6IAY1nMUF73ev1kqvQdV3xk3m9Xl04Zpl/4QDBorOeAOtZf7/ff39ZgMfj8f77CmnABADHbAL4mV9j1qfwaWA5CZgA4NAA4JgrAS1Ef4jlUsAEAIcGAIcGAIcGAIcGAIcGAOeSy8B5nsMhERHp+z4c+sU0TTIMQzgszjkZxzEcfsNlIDELDQAODQAOrAGmaZJpmsJhOGANMAxD9IYPDUgDrFcJ8zwnVw0IQBqA/ABlgK3ZPs8zZEmAMgD5C6wBnHPinAuH4YA1wDiOm493UYA0wPo3gb7vd38juDKQBiA/QBlga7b3fQ95TwBlAPKXS74PUBu+D0DMYtYAy7LIsizhcFVa0JCLWQOQc6ABwDFvAB/DtaK49vFKY94AJA8aABxzzwE8/nnA7XYLv6rG8/kUMbr+9zABwDGbAJ51l7AaaeBnvRif+R4mADg0ADjmS8AatorVwwQA51IJQPQwAcDZTYDSdfXMmlpaqxjUKzuamQDg0ADgREtAzR78uf33a2oVg3pl551FJgA4NAA47xLwjWgK0cRrC6+Hb0VrSKt6mQDgdCLydWfGiLlVGplJISmt0rheYQIQGgAcGgAcGgAcGgCcy68CUm3hjpJqKLEmpVWUej/VutfOPiRrFeB77Wk/pE0OGyC3uXLu/lqQjDcMw8fnetgAuc2Vc/cnZTh8D5ByWKpGarcPSdXVozU1dXxRaDhKSqso9IpC89Z2cuD8su4ByPc5s8spDWCQM7ucQhogXKHEPihkGyC8cK1cwK2mkEdo5TxKk20AYpvLrgK05OhNaRWl3pQGSehIbR/bdg1XAcY586EaDWCQMx+qXbYEpI6v5YjelFZR6JUTNB/RKiwBZA0NkCB3GVkT59zHWi9bAmqS0iqN6xWNAWqTuqgtX9BQqzSuV1gCCA0AztsALXTB1mg4ul1JNBo025YipoEJAA4NAE7UAJooziX3WLn7a8k9Xu7+n7B1vKgBCA7RBhE1um7H0HTi9nq/pVWU/y+gVb1MAHB2u4SVdqxm1seoqVUM6pXEzPcwAcChAcCJloA168gqQSyWPqW0VjGoV3Y0MwHA2U0Acm3+AwzSnNIMqjRyAAAAAElFTkSuQmCC",XE="/knight_vs_ghost/assets/Spacebar_Pixel-Cslts1Nn.png",ZE="/knight_vs_ghost/assets/escapeKey_Pixel-C18JEYSo.png";function $E({handleControlsCoverClose:r}){return P.jsx(P.Fragment,{children:P.jsxs("div",{className:"controls-game-cover",style:{width:ie.width,height:ie.height},children:[P.jsxs("div",{className:"header",children:["Controls",P.jsx("button",{className:"close-button",onClick:r,children:"X"})]}),P.jsx("div",{className:"control-options-title",children:"Move"}),P.jsxs("div",{className:"control-options",children:[P.jsx("div",{className:"control-option",children:P.jsx("img",{style:{height:"150px",marginLeft:20},src:YE})}),P.jsx("div",{className:"control-option",children:"OR"}),P.jsx("div",{className:"control-option",children:P.jsx("img",{style:{height:"150px",marginRight:20},src:KE})})]}),P.jsxs("div",{className:"control-options",children:[P.jsxs("div",{style:{margin:"0xp 5px"},children:[P.jsx("div",{className:"control-options-title",children:"Dash"}),P.jsx("div",{style:{fontSize:15,opacity:.5,textAlign:"center"},children:"Dashing makes you invulnerable for the entire duration of the dash"}),P.jsx("div",{className:"control-options",children:P.jsx("div",{className:"control-option",children:P.jsx("img",{style:{height:"40px"},src:XE})})})]}),P.jsxs("div",{className:"sub-control-options",children:[P.jsx("div",{className:"control-options-title",children:"Pause"}),P.jsx("div",{style:{fontSize:15,opacity:.5,textAlign:"center"},children:"Whilst in the midle of playing a round feel free to stop and chill"}),P.jsx("div",{className:"control-options",children:P.jsx("div",{className:"control-option",children:P.jsx("img",{style:{height:"40px"},src:ZE})})})]})]})]})})}const JE=()=>{};var Jp={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o_=function(r){const e=[];let i=0;for(let a=0;a<r.length;a++){let o=r.charCodeAt(a);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++a)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},WE=function(r){const e=[];let i=0,a=0;for(;i<r.length;){const o=r[i++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const h=r[i++];e[a++]=String.fromCharCode((o&31)<<6|h&63)}else if(o>239&&o<365){const h=r[i++],d=r[i++],g=r[i++],_=((o&7)<<18|(h&63)<<12|(d&63)<<6|g&63)-65536;e[a++]=String.fromCharCode(55296+(_>>10)),e[a++]=String.fromCharCode(56320+(_&1023))}else{const h=r[i++],d=r[i++];e[a++]=String.fromCharCode((o&15)<<12|(h&63)<<6|d&63)}}return e.join("")},u_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<r.length;o+=3){const h=r[o],d=o+1<r.length,g=d?r[o+1]:0,_=o+2<r.length,v=_?r[o+2]:0,S=h>>2,N=(h&3)<<4|g>>4;let x=(g&15)<<2|v>>6,k=v&63;_||(k=64,d||(x=64)),a.push(i[S],i[N],i[x],i[k])}return a.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(o_(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):WE(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<r.length;){const h=i[r.charAt(o++)],g=o<r.length?i[r.charAt(o)]:0;++o;const v=o<r.length?i[r.charAt(o)]:64;++o;const N=o<r.length?i[r.charAt(o)]:64;if(++o,h==null||g==null||v==null||N==null)throw new tT;const x=h<<2|g>>4;if(a.push(x),v!==64){const k=g<<4&240|v>>2;if(a.push(k),N!==64){const X=v<<6&192|N;a.push(X)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class tT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const eT=function(r){const e=o_(r);return u_.encodeByteArray(e,!0)},Hu=function(r){return eT(r).replace(/\./g,"")},nT=function(r){try{return u_.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sT=()=>iT().__FIREBASE_DEFAULTS__,rT=()=>{if(typeof process>"u"||typeof Jp>"u")return;const r=Jp.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},aT=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&nT(r[1]);return e&&JSON.parse(e)},rd=()=>{try{return JE()||sT()||rT()||aT()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},lT=r=>{var e,i;return(i=(e=rd())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[r]},oT=r=>{const e=lT(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},c_=()=>{var r;return(r=rd())===null||r===void 0?void 0:r.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cT(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",o=r.iat||0,h=r.sub||r.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Hu(JSON.stringify(i)),Hu(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hT(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function fT(){var r;const e=(r=rd())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function dT(){return!fT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function mT(){try{return typeof indexedDB=="object"}catch{return!1}}function gT(){return new Promise((r,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var h;e(((h=o.error)===null||h===void 0?void 0:h.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pT="FirebaseError";class Ca extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=pT,Object.setPrototypeOf(this,Ca.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,h_.prototype.create)}}class h_{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},o=`${this.service}/${e}`,h=this.errors[e],d=h?yT(h,a):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new Ca(o,g,a)}}function yT(r,e){return r.replace(_T,(i,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const _T=/\{\$([^}]+)}/g;function Gu(r,e){if(r===e)return!0;const i=Object.keys(r),a=Object.keys(e);for(const o of i){if(!a.includes(o))return!1;const h=r[o],d=e[o];if(Wp(h)&&Wp(d)){if(!Gu(h,d))return!1}else if(h!==d)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function Wp(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yr(r){return r&&r._delegate?r._delegate:r}class Kl{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new uT;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const a=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(i=e==null?void 0:e.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(h){if(o)return null;throw h}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(TT(e))try{this.getOrInitializeService({instanceIdentifier:gr})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:o});a.resolve(h)}catch{}}}}clearInstance(e=gr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=gr){return this.instances.has(e)}getOptions(e=gr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[h,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(h);a===g&&d.resolve(o)}return o}onInit(e,i){var a;const o=this.normalizeInstanceIdentifier(i),h=(a=this.onInitCallbacks.get(o))!==null&&a!==void 0?a:new Set;h.add(e),this.onInitCallbacks.set(o,h);const d=this.instances.get(o);return d&&e(d,o),()=>{h.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:ET(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=gr){return this.component?this.component.multipleInstances?e:gr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ET(r){return r===gr?void 0:r}function TT(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new vT(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Bt||(Bt={}));const ST={debug:Bt.DEBUG,verbose:Bt.VERBOSE,info:Bt.INFO,warn:Bt.WARN,error:Bt.ERROR,silent:Bt.SILENT},bT=Bt.INFO,RT={[Bt.DEBUG]:"log",[Bt.VERBOSE]:"log",[Bt.INFO]:"info",[Bt.WARN]:"warn",[Bt.ERROR]:"error"},wT=(r,e,...i)=>{if(e<r.logLevel)return;const a=new Date().toISOString(),o=RT[e];if(o)console[o](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class f_{constructor(e){this.name=e,this._logLevel=bT,this._logHandler=wT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Bt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ST[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Bt.DEBUG,...e),this._logHandler(this,Bt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Bt.VERBOSE,...e),this._logHandler(this,Bt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Bt.INFO,...e),this._logHandler(this,Bt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Bt.WARN,...e),this._logHandler(this,Bt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Bt.ERROR,...e),this._logHandler(this,Bt.ERROR,...e)}}const CT=(r,e)=>e.some(i=>r instanceof i);let ty,ey;function DT(){return ty||(ty=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function VT(){return ey||(ey=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const d_=new WeakMap,Uf=new WeakMap,m_=new WeakMap,wf=new WeakMap,ad=new WeakMap;function NT(r){const e=new Promise((i,a)=>{const o=()=>{r.removeEventListener("success",h),r.removeEventListener("error",d)},h=()=>{i(ws(r.result)),o()},d=()=>{a(r.error),o()};r.addEventListener("success",h),r.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&d_.set(i,r)}).catch(()=>{}),ad.set(e,r),e}function IT(r){if(Uf.has(r))return;const e=new Promise((i,a)=>{const o=()=>{r.removeEventListener("complete",h),r.removeEventListener("error",d),r.removeEventListener("abort",d)},h=()=>{i(),o()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",h),r.addEventListener("error",d),r.addEventListener("abort",d)});Uf.set(r,e)}let Lf={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return Uf.get(r);if(e==="objectStoreNames")return r.objectStoreNames||m_.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return ws(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function OT(r){Lf=r(Lf)}function MT(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=r.call(Cf(this),e,...i);return m_.set(a,e.sort?e.sort():[e]),ws(a)}:VT().includes(r)?function(...e){return r.apply(Cf(this),e),ws(d_.get(this))}:function(...e){return ws(r.apply(Cf(this),e))}}function xT(r){return typeof r=="function"?MT(r):(r instanceof IDBTransaction&&IT(r),CT(r,DT())?new Proxy(r,Lf):r)}function ws(r){if(r instanceof IDBRequest)return NT(r);if(wf.has(r))return wf.get(r);const e=xT(r);return e!==r&&(wf.set(r,e),ad.set(e,r)),e}const Cf=r=>ad.get(r);function UT(r,e,{blocked:i,upgrade:a,blocking:o,terminated:h}={}){const d=indexedDB.open(r,e),g=ws(d);return a&&d.addEventListener("upgradeneeded",_=>{a(ws(d.result),_.oldVersion,_.newVersion,ws(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),g.then(_=>{h&&_.addEventListener("close",()=>h()),o&&_.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),g}const LT=["get","getKey","getAll","getAllKeys","count"],zT=["put","add","delete","clear"],Df=new Map;function ny(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Df.get(e))return Df.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,o=zT.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||LT.includes(i)))return;const h=async function(d,...g){const _=this.transaction(d,o?"readwrite":"readonly");let v=_.store;return a&&(v=v.index(g.shift())),(await Promise.all([v[i](...g),o&&_.done]))[0]};return Df.set(e,h),h}OT(r=>({...r,get:(e,i,a)=>ny(e,i)||r.get(e,i,a),has:(e,i)=>!!ny(e,i)||r.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(PT(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function PT(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const zf="@firebase/app",iy="0.11.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pi=new f_("@firebase/app"),kT="@firebase/app-compat",jT="@firebase/analytics-compat",qT="@firebase/analytics",HT="@firebase/app-check-compat",GT="@firebase/app-check",QT="@firebase/auth",FT="@firebase/auth-compat",KT="@firebase/database",YT="@firebase/data-connect",XT="@firebase/database-compat",ZT="@firebase/functions",$T="@firebase/functions-compat",JT="@firebase/installations",WT="@firebase/installations-compat",tA="@firebase/messaging",eA="@firebase/messaging-compat",nA="@firebase/performance",iA="@firebase/performance-compat",sA="@firebase/remote-config",rA="@firebase/remote-config-compat",aA="@firebase/storage",lA="@firebase/storage-compat",oA="@firebase/firestore",uA="@firebase/vertexai",cA="@firebase/firestore-compat",hA="firebase",fA="11.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bf="[DEFAULT]",dA={[zf]:"fire-core",[kT]:"fire-core-compat",[qT]:"fire-analytics",[jT]:"fire-analytics-compat",[GT]:"fire-app-check",[HT]:"fire-app-check-compat",[QT]:"fire-auth",[FT]:"fire-auth-compat",[KT]:"fire-rtdb",[YT]:"fire-data-connect",[XT]:"fire-rtdb-compat",[ZT]:"fire-fn",[$T]:"fire-fn-compat",[JT]:"fire-iid",[WT]:"fire-iid-compat",[tA]:"fire-fcm",[eA]:"fire-fcm-compat",[nA]:"fire-perf",[iA]:"fire-perf-compat",[sA]:"fire-rc",[rA]:"fire-rc-compat",[aA]:"fire-gcs",[lA]:"fire-gcs-compat",[oA]:"fire-fst",[cA]:"fire-fst-compat",[uA]:"fire-vertex","fire-js":"fire-js",[hA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qu=new Map,mA=new Map,Pf=new Map;function sy(r,e){try{r.container.addComponent(e)}catch(i){Pi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function Fu(r){const e=r.name;if(Pf.has(e))return Pi.debug(`There were multiple attempts to register component ${e}.`),!1;Pf.set(e,r);for(const i of Qu.values())sy(i,r);for(const i of mA.values())sy(i,r);return!0}function gA(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function pA(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Cs=new h_("app","Firebase",yA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{constructor(e,i,a){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Kl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Cs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vA=fA;function g_(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const a=Object.assign({name:Bf,automaticDataCollectionEnabled:!1},e),o=a.name;if(typeof o!="string"||!o)throw Cs.create("bad-app-name",{appName:String(o)});if(i||(i=c_()),!i)throw Cs.create("no-options");const h=Qu.get(o);if(h){if(Gu(i,h.options)&&Gu(a,h.config))return h;throw Cs.create("duplicate-app",{appName:o})}const d=new AT(o);for(const _ of Pf.values())d.addComponent(_);const g=new _A(i,a,d);return Qu.set(o,g),g}function EA(r=Bf){const e=Qu.get(r);if(!e&&r===Bf&&c_())return g_();if(!e)throw Cs.create("no-app",{appName:r});return e}function _a(r,e,i){var a;let o=(a=dA[r])!==null&&a!==void 0?a:r;i&&(o+=`-${i}`);const h=o.match(/\s|\//),d=e.match(/\s|\//);if(h||d){const g=[`Unable to register library "${o}" with version "${e}":`];h&&g.push(`library name "${o}" contains illegal characters (whitespace or "/")`),h&&d&&g.push("and"),d&&g.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Pi.warn(g.join(" "));return}Fu(new Kl(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TA="firebase-heartbeat-database",AA=1,Yl="firebase-heartbeat-store";let Vf=null;function p_(){return Vf||(Vf=UT(TA,AA,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Yl)}catch(i){console.warn(i)}}}}).catch(r=>{throw Cs.create("idb-open",{originalErrorMessage:r.message})})),Vf}async function SA(r){try{const i=(await p_()).transaction(Yl),a=await i.objectStore(Yl).get(y_(r));return await i.done,a}catch(e){if(e instanceof Ca)Pi.warn(e.message);else{const i=Cs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Pi.warn(i.message)}}}async function ry(r,e){try{const a=(await p_()).transaction(Yl,"readwrite");await a.objectStore(Yl).put(e,y_(r)),await a.done}catch(i){if(i instanceof Ca)Pi.warn(i.message);else{const a=Cs.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Pi.warn(a.message)}}}function y_(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bA=1024,RA=30;class wA{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new DA(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var e,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),h=ay();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===h||this._heartbeatsCache.heartbeats.some(d=>d.date===h))return;if(this._heartbeatsCache.heartbeats.push({date:h,agent:o}),this._heartbeatsCache.heartbeats.length>RA){const d=VA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){Pi.warn(a)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=ay(),{heartbeatsToSend:a,unsentEntries:o}=CA(this._heartbeatsCache.heartbeats),h=Hu(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),h}catch(i){return Pi.warn(i),""}}}function ay(){return new Date().toISOString().substring(0,10)}function CA(r,e=bA){const i=[];let a=r.slice();for(const o of r){const h=i.find(d=>d.agent===o.agent);if(h){if(h.dates.push(o.date),ly(i)>e){h.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),ly(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class DA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return mT()?gT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await SA(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return ry(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return ry(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function ly(r){return Hu(JSON.stringify({version:2,heartbeats:r})).length}function VA(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NA(r){Fu(new Kl("platform-logger",e=>new BT(e),"PRIVATE")),Fu(new Kl("heartbeat",e=>new wA(e),"PRIVATE")),_a(zf,iy,r),_a(zf,iy,"esm2017"),_a("fire-js","")}NA("");var IA="firebase",OA="11.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_a(IA,OA,"app");var oy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ds,__;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,b){function A(){}A.prototype=b.prototype,I.D=b.prototype,I.prototype=new A,I.prototype.constructor=I,I.C=function(w,V,L){for(var C=Array(arguments.length-2),Jt=2;Jt<arguments.length;Jt++)C[Jt-2]=arguments[Jt];return b.prototype[V].apply(w,C)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(a,i),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,b,A){A||(A=0);var w=Array(16);if(typeof b=="string")for(var V=0;16>V;++V)w[V]=b.charCodeAt(A++)|b.charCodeAt(A++)<<8|b.charCodeAt(A++)<<16|b.charCodeAt(A++)<<24;else for(V=0;16>V;++V)w[V]=b[A++]|b[A++]<<8|b[A++]<<16|b[A++]<<24;b=I.g[0],A=I.g[1],V=I.g[2];var L=I.g[3],C=b+(L^A&(V^L))+w[0]+3614090360&4294967295;b=A+(C<<7&4294967295|C>>>25),C=L+(V^b&(A^V))+w[1]+3905402710&4294967295,L=b+(C<<12&4294967295|C>>>20),C=V+(A^L&(b^A))+w[2]+606105819&4294967295,V=L+(C<<17&4294967295|C>>>15),C=A+(b^V&(L^b))+w[3]+3250441966&4294967295,A=V+(C<<22&4294967295|C>>>10),C=b+(L^A&(V^L))+w[4]+4118548399&4294967295,b=A+(C<<7&4294967295|C>>>25),C=L+(V^b&(A^V))+w[5]+1200080426&4294967295,L=b+(C<<12&4294967295|C>>>20),C=V+(A^L&(b^A))+w[6]+2821735955&4294967295,V=L+(C<<17&4294967295|C>>>15),C=A+(b^V&(L^b))+w[7]+4249261313&4294967295,A=V+(C<<22&4294967295|C>>>10),C=b+(L^A&(V^L))+w[8]+1770035416&4294967295,b=A+(C<<7&4294967295|C>>>25),C=L+(V^b&(A^V))+w[9]+2336552879&4294967295,L=b+(C<<12&4294967295|C>>>20),C=V+(A^L&(b^A))+w[10]+4294925233&4294967295,V=L+(C<<17&4294967295|C>>>15),C=A+(b^V&(L^b))+w[11]+2304563134&4294967295,A=V+(C<<22&4294967295|C>>>10),C=b+(L^A&(V^L))+w[12]+1804603682&4294967295,b=A+(C<<7&4294967295|C>>>25),C=L+(V^b&(A^V))+w[13]+4254626195&4294967295,L=b+(C<<12&4294967295|C>>>20),C=V+(A^L&(b^A))+w[14]+2792965006&4294967295,V=L+(C<<17&4294967295|C>>>15),C=A+(b^V&(L^b))+w[15]+1236535329&4294967295,A=V+(C<<22&4294967295|C>>>10),C=b+(V^L&(A^V))+w[1]+4129170786&4294967295,b=A+(C<<5&4294967295|C>>>27),C=L+(A^V&(b^A))+w[6]+3225465664&4294967295,L=b+(C<<9&4294967295|C>>>23),C=V+(b^A&(L^b))+w[11]+643717713&4294967295,V=L+(C<<14&4294967295|C>>>18),C=A+(L^b&(V^L))+w[0]+3921069994&4294967295,A=V+(C<<20&4294967295|C>>>12),C=b+(V^L&(A^V))+w[5]+3593408605&4294967295,b=A+(C<<5&4294967295|C>>>27),C=L+(A^V&(b^A))+w[10]+38016083&4294967295,L=b+(C<<9&4294967295|C>>>23),C=V+(b^A&(L^b))+w[15]+3634488961&4294967295,V=L+(C<<14&4294967295|C>>>18),C=A+(L^b&(V^L))+w[4]+3889429448&4294967295,A=V+(C<<20&4294967295|C>>>12),C=b+(V^L&(A^V))+w[9]+568446438&4294967295,b=A+(C<<5&4294967295|C>>>27),C=L+(A^V&(b^A))+w[14]+3275163606&4294967295,L=b+(C<<9&4294967295|C>>>23),C=V+(b^A&(L^b))+w[3]+4107603335&4294967295,V=L+(C<<14&4294967295|C>>>18),C=A+(L^b&(V^L))+w[8]+1163531501&4294967295,A=V+(C<<20&4294967295|C>>>12),C=b+(V^L&(A^V))+w[13]+2850285829&4294967295,b=A+(C<<5&4294967295|C>>>27),C=L+(A^V&(b^A))+w[2]+4243563512&4294967295,L=b+(C<<9&4294967295|C>>>23),C=V+(b^A&(L^b))+w[7]+1735328473&4294967295,V=L+(C<<14&4294967295|C>>>18),C=A+(L^b&(V^L))+w[12]+2368359562&4294967295,A=V+(C<<20&4294967295|C>>>12),C=b+(A^V^L)+w[5]+4294588738&4294967295,b=A+(C<<4&4294967295|C>>>28),C=L+(b^A^V)+w[8]+2272392833&4294967295,L=b+(C<<11&4294967295|C>>>21),C=V+(L^b^A)+w[11]+1839030562&4294967295,V=L+(C<<16&4294967295|C>>>16),C=A+(V^L^b)+w[14]+4259657740&4294967295,A=V+(C<<23&4294967295|C>>>9),C=b+(A^V^L)+w[1]+2763975236&4294967295,b=A+(C<<4&4294967295|C>>>28),C=L+(b^A^V)+w[4]+1272893353&4294967295,L=b+(C<<11&4294967295|C>>>21),C=V+(L^b^A)+w[7]+4139469664&4294967295,V=L+(C<<16&4294967295|C>>>16),C=A+(V^L^b)+w[10]+3200236656&4294967295,A=V+(C<<23&4294967295|C>>>9),C=b+(A^V^L)+w[13]+681279174&4294967295,b=A+(C<<4&4294967295|C>>>28),C=L+(b^A^V)+w[0]+3936430074&4294967295,L=b+(C<<11&4294967295|C>>>21),C=V+(L^b^A)+w[3]+3572445317&4294967295,V=L+(C<<16&4294967295|C>>>16),C=A+(V^L^b)+w[6]+76029189&4294967295,A=V+(C<<23&4294967295|C>>>9),C=b+(A^V^L)+w[9]+3654602809&4294967295,b=A+(C<<4&4294967295|C>>>28),C=L+(b^A^V)+w[12]+3873151461&4294967295,L=b+(C<<11&4294967295|C>>>21),C=V+(L^b^A)+w[15]+530742520&4294967295,V=L+(C<<16&4294967295|C>>>16),C=A+(V^L^b)+w[2]+3299628645&4294967295,A=V+(C<<23&4294967295|C>>>9),C=b+(V^(A|~L))+w[0]+4096336452&4294967295,b=A+(C<<6&4294967295|C>>>26),C=L+(A^(b|~V))+w[7]+1126891415&4294967295,L=b+(C<<10&4294967295|C>>>22),C=V+(b^(L|~A))+w[14]+2878612391&4294967295,V=L+(C<<15&4294967295|C>>>17),C=A+(L^(V|~b))+w[5]+4237533241&4294967295,A=V+(C<<21&4294967295|C>>>11),C=b+(V^(A|~L))+w[12]+1700485571&4294967295,b=A+(C<<6&4294967295|C>>>26),C=L+(A^(b|~V))+w[3]+2399980690&4294967295,L=b+(C<<10&4294967295|C>>>22),C=V+(b^(L|~A))+w[10]+4293915773&4294967295,V=L+(C<<15&4294967295|C>>>17),C=A+(L^(V|~b))+w[1]+2240044497&4294967295,A=V+(C<<21&4294967295|C>>>11),C=b+(V^(A|~L))+w[8]+1873313359&4294967295,b=A+(C<<6&4294967295|C>>>26),C=L+(A^(b|~V))+w[15]+4264355552&4294967295,L=b+(C<<10&4294967295|C>>>22),C=V+(b^(L|~A))+w[6]+2734768916&4294967295,V=L+(C<<15&4294967295|C>>>17),C=A+(L^(V|~b))+w[13]+1309151649&4294967295,A=V+(C<<21&4294967295|C>>>11),C=b+(V^(A|~L))+w[4]+4149444226&4294967295,b=A+(C<<6&4294967295|C>>>26),C=L+(A^(b|~V))+w[11]+3174756917&4294967295,L=b+(C<<10&4294967295|C>>>22),C=V+(b^(L|~A))+w[2]+718787259&4294967295,V=L+(C<<15&4294967295|C>>>17),C=A+(L^(V|~b))+w[9]+3951481745&4294967295,I.g[0]=I.g[0]+b&4294967295,I.g[1]=I.g[1]+(V+(C<<21&4294967295|C>>>11))&4294967295,I.g[2]=I.g[2]+V&4294967295,I.g[3]=I.g[3]+L&4294967295}a.prototype.u=function(I,b){b===void 0&&(b=I.length);for(var A=b-this.blockSize,w=this.B,V=this.h,L=0;L<b;){if(V==0)for(;L<=A;)o(this,I,L),L+=this.blockSize;if(typeof I=="string"){for(;L<b;)if(w[V++]=I.charCodeAt(L++),V==this.blockSize){o(this,w),V=0;break}}else for(;L<b;)if(w[V++]=I[L++],V==this.blockSize){o(this,w),V=0;break}}this.h=V,this.o+=b},a.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var b=1;b<I.length-8;++b)I[b]=0;var A=8*this.o;for(b=I.length-8;b<I.length;++b)I[b]=A&255,A/=256;for(this.u(I),I=Array(16),b=A=0;4>b;++b)for(var w=0;32>w;w+=8)I[A++]=this.g[b]>>>w&255;return I};function h(I,b){var A=g;return Object.prototype.hasOwnProperty.call(A,I)?A[I]:A[I]=b(I)}function d(I,b){this.h=b;for(var A=[],w=!0,V=I.length-1;0<=V;V--){var L=I[V]|0;w&&L==b||(A[V]=L,w=!1)}this.g=A}var g={};function _(I){return-128<=I&&128>I?h(I,function(b){return new d([b|0],0>b?-1:0)}):new d([I|0],0>I?-1:0)}function v(I){if(isNaN(I)||!isFinite(I))return N;if(0>I)return Z(v(-I));for(var b=[],A=1,w=0;I>=A;w++)b[w]=I/A|0,A*=4294967296;return new d(b,0)}function S(I,b){if(I.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(I.charAt(0)=="-")return Z(S(I.substring(1),b));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=v(Math.pow(b,8)),w=N,V=0;V<I.length;V+=8){var L=Math.min(8,I.length-V),C=parseInt(I.substring(V,V+L),b);8>L?(L=v(Math.pow(b,L)),w=w.j(L).add(v(C))):(w=w.j(A),w=w.add(v(C)))}return w}var N=_(0),x=_(1),k=_(16777216);r=d.prototype,r.m=function(){if(J(this))return-Z(this).m();for(var I=0,b=1,A=0;A<this.g.length;A++){var w=this.i(A);I+=(0<=w?w:4294967296+w)*b,b*=4294967296}return I},r.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(X(this))return"0";if(J(this))return"-"+Z(this).toString(I);for(var b=v(Math.pow(I,6)),A=this,w="";;){var V=Rt(A,b).g;A=gt(A,V.j(b));var L=((0<A.g.length?A.g[0]:A.h)>>>0).toString(I);if(A=V,X(A))return L+w;for(;6>L.length;)L="0"+L;w=L+w}},r.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function X(I){if(I.h!=0)return!1;for(var b=0;b<I.g.length;b++)if(I.g[b]!=0)return!1;return!0}function J(I){return I.h==-1}r.l=function(I){return I=gt(this,I),J(I)?-1:X(I)?0:1};function Z(I){for(var b=I.g.length,A=[],w=0;w<b;w++)A[w]=~I.g[w];return new d(A,~I.h).add(x)}r.abs=function(){return J(this)?Z(this):this},r.add=function(I){for(var b=Math.max(this.g.length,I.g.length),A=[],w=0,V=0;V<=b;V++){var L=w+(this.i(V)&65535)+(I.i(V)&65535),C=(L>>>16)+(this.i(V)>>>16)+(I.i(V)>>>16);w=C>>>16,L&=65535,C&=65535,A[V]=C<<16|L}return new d(A,A[A.length-1]&-2147483648?-1:0)};function gt(I,b){return I.add(Z(b))}r.j=function(I){if(X(this)||X(I))return N;if(J(this))return J(I)?Z(this).j(Z(I)):Z(Z(this).j(I));if(J(I))return Z(this.j(Z(I)));if(0>this.l(k)&&0>I.l(k))return v(this.m()*I.m());for(var b=this.g.length+I.g.length,A=[],w=0;w<2*b;w++)A[w]=0;for(w=0;w<this.g.length;w++)for(var V=0;V<I.g.length;V++){var L=this.i(w)>>>16,C=this.i(w)&65535,Jt=I.i(V)>>>16,Wt=I.i(V)&65535;A[2*w+2*V]+=C*Wt,dt(A,2*w+2*V),A[2*w+2*V+1]+=L*Wt,dt(A,2*w+2*V+1),A[2*w+2*V+1]+=C*Jt,dt(A,2*w+2*V+1),A[2*w+2*V+2]+=L*Jt,dt(A,2*w+2*V+2)}for(w=0;w<b;w++)A[w]=A[2*w+1]<<16|A[2*w];for(w=b;w<2*b;w++)A[w]=0;return new d(A,0)};function dt(I,b){for(;(I[b]&65535)!=I[b];)I[b+1]+=I[b]>>>16,I[b]&=65535,b++}function rt(I,b){this.g=I,this.h=b}function Rt(I,b){if(X(b))throw Error("division by zero");if(X(I))return new rt(N,N);if(J(I))return b=Rt(Z(I),b),new rt(Z(b.g),Z(b.h));if(J(b))return b=Rt(I,Z(b)),new rt(Z(b.g),b.h);if(30<I.g.length){if(J(I)||J(b))throw Error("slowDivide_ only works with positive integers.");for(var A=x,w=b;0>=w.l(I);)A=mt(A),w=mt(w);var V=lt(A,1),L=lt(w,1);for(w=lt(w,2),A=lt(A,2);!X(w);){var C=L.add(w);0>=C.l(I)&&(V=V.add(A),L=C),w=lt(w,1),A=lt(A,1)}return b=gt(I,V.j(b)),new rt(V,b)}for(V=N;0<=I.l(b);){for(A=Math.max(1,Math.floor(I.m()/b.m())),w=Math.ceil(Math.log(A)/Math.LN2),w=48>=w?1:Math.pow(2,w-48),L=v(A),C=L.j(b);J(C)||0<C.l(I);)A-=w,L=v(A),C=L.j(b);X(L)&&(L=x),V=V.add(L),I=gt(I,C)}return new rt(V,I)}r.A=function(I){return Rt(this,I).h},r.and=function(I){for(var b=Math.max(this.g.length,I.g.length),A=[],w=0;w<b;w++)A[w]=this.i(w)&I.i(w);return new d(A,this.h&I.h)},r.or=function(I){for(var b=Math.max(this.g.length,I.g.length),A=[],w=0;w<b;w++)A[w]=this.i(w)|I.i(w);return new d(A,this.h|I.h)},r.xor=function(I){for(var b=Math.max(this.g.length,I.g.length),A=[],w=0;w<b;w++)A[w]=this.i(w)^I.i(w);return new d(A,this.h^I.h)};function mt(I){for(var b=I.g.length+1,A=[],w=0;w<b;w++)A[w]=I.i(w)<<1|I.i(w-1)>>>31;return new d(A,I.h)}function lt(I,b){var A=b>>5;b%=32;for(var w=I.g.length-A,V=[],L=0;L<w;L++)V[L]=0<b?I.i(L+A)>>>b|I.i(L+A+1)<<32-b:I.i(L+A);return new d(V,I.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,__=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=S,Ds=d}).apply(typeof oy<"u"?oy:typeof self<"u"?self:typeof window<"u"?window:{});var Nu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var v_,Pl,E_,Uu,kf,T_,A_,S_;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,p){return u==Array.prototype||u==Object.prototype||(u[m]=p.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Nu=="object"&&Nu];for(var m=0;m<u.length;++m){var p=u[m];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var a=i(this);function o(u,m){if(m)t:{var p=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var z=u[T];if(!(z in p))break t;p=p[z]}u=u[u.length-1],T=p[u],m=m(T),m!=T&&m!=null&&e(p,u,{configurable:!0,writable:!0,value:m})}}function h(u,m){u instanceof String&&(u+="");var p=0,T=!1,z={next:function(){if(!T&&p<u.length){var q=p++;return{value:m(q,u[q]),done:!1}}return T=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}o("Array.prototype.values",function(u){return u||function(){return h(this,function(m,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function _(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function v(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function S(u,m,p){return u.call.apply(u.bind,arguments)}function N(u,m,p){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,T),u.apply(m,z)}}return function(){return u.apply(m,arguments)}}function x(u,m,p){return x=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?S:N,x.apply(null,arguments)}function k(u,m){var p=Array.prototype.slice.call(arguments,1);return function(){var T=p.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function X(u,m){function p(){}p.prototype=m.prototype,u.aa=m.prototype,u.prototype=new p,u.prototype.constructor=u,u.Qb=function(T,z,q){for(var tt=Array(arguments.length-2),xt=2;xt<arguments.length;xt++)tt[xt-2]=arguments[xt];return m.prototype[z].apply(T,tt)}}function J(u){const m=u.length;if(0<m){const p=Array(m);for(let T=0;T<m;T++)p[T]=u[T];return p}return[]}function Z(u,m){for(let p=1;p<arguments.length;p++){const T=arguments[p];if(_(T)){const z=u.length||0,q=T.length||0;u.length=z+q;for(let tt=0;tt<q;tt++)u[z+tt]=T[tt]}else u.push(T)}}class gt{constructor(m,p){this.i=m,this.j=p,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function dt(u){return/^[\s\xa0]*$/.test(u)}function rt(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function Rt(u){return Rt[" "](u),u}Rt[" "]=function(){};var mt=rt().indexOf("Gecko")!=-1&&!(rt().toLowerCase().indexOf("webkit")!=-1&&rt().indexOf("Edge")==-1)&&!(rt().indexOf("Trident")!=-1||rt().indexOf("MSIE")!=-1)&&rt().indexOf("Edge")==-1;function lt(u,m,p){for(const T in u)m.call(p,u[T],T,u)}function I(u,m){for(const p in u)m.call(void 0,u[p],p,u)}function b(u){const m={};for(const p in u)m[p]=u[p];return m}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(u,m){let p,T;for(let z=1;z<arguments.length;z++){T=arguments[z];for(p in T)u[p]=T[p];for(let q=0;q<A.length;q++)p=A[q],Object.prototype.hasOwnProperty.call(T,p)&&(u[p]=T[p])}}function V(u){var m=1;u=u.split(":");const p=[];for(;0<m&&u.length;)p.push(u.shift()),m--;return u.length&&p.push(u.join(":")),p}function L(u){g.setTimeout(()=>{throw u},0)}function C(){var u=Mt;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Jt{constructor(){this.h=this.g=null}add(m,p){const T=Wt.get();T.set(m,p),this.h?this.h.next=T:this.g=T,this.h=T}}var Wt=new gt(()=>new et,u=>u.reset());class et{constructor(){this.next=this.g=this.h=null}set(m,p){this.h=m,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let pt,ot=!1,Mt=new Jt,D=()=>{const u=g.Promise.resolve(void 0);pt=()=>{u.then(Y)}};var Y=()=>{for(var u;u=C();){try{u.h.call(u.g)}catch(p){L(p)}var m=Wt;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}ot=!1};function ut(){this.s=this.s,this.C=this.C}ut.prototype.s=!1,ut.prototype.ma=function(){this.s||(this.s=!0,this.N())},ut.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function nt(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}nt.prototype.h=function(){this.defaultPrevented=!0};var it=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const p=()=>{};g.addEventListener("test",p,m),g.removeEventListener("test",p,m)}catch{}return u}();function ct(u,m){if(nt.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var p=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(mt){t:{try{Rt(m.nodeName);var z=!0;break t}catch{}z=!1}z||(m=null)}}else p=="mouseover"?m=u.fromElement:p=="mouseout"&&(m=u.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:bt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&ct.aa.h.call(this)}}X(ct,nt);var bt={2:"touch",3:"pen",4:"mouse"};ct.prototype.h=function(){ct.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var re="closure_listenable_"+(1e6*Math.random()|0),Pt=0;function ae(u,m,p,T,z){this.listener=u,this.proxy=null,this.src=m,this.type=p,this.capture=!!T,this.ha=z,this.key=++Pt,this.da=this.fa=!1}function Qt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ze(u){this.src=u,this.g={},this.h=0}Ze.prototype.add=function(u,m,p,T,z){var q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);var tt=yn(u,m,T,z);return-1<tt?(m=u[tt],p||(m.fa=!1)):(m=new ae(m,this.src,q,!!T,z),m.fa=p,u.push(m)),m};function ci(u,m){var p=m.type;if(p in u.g){var T=u.g[p],z=Array.prototype.indexOf.call(T,m,void 0),q;(q=0<=z)&&Array.prototype.splice.call(T,z,1),q&&(Qt(m),u.g[p].length==0&&(delete u.g[p],u.h--))}}function yn(u,m,p,T){for(var z=0;z<u.length;++z){var q=u[z];if(!q.da&&q.listener==m&&q.capture==!!p&&q.ha==T)return z}return-1}var qi="closure_lm_"+(1e6*Math.random()|0),Hi={};function hi(u,m,p,T,z){if(Array.isArray(m)){for(var q=0;q<m.length;q++)hi(u,m[q],p,T,z);return null}return p=ao(p),u&&u[re]?u.K(m,p,v(T)?!!T.capture:!1,z):Oa(u,m,p,!1,T,z)}function Oa(u,m,p,T,z,q){if(!m)throw Error("Invalid event type");var tt=v(z)?!!z.capture:!!z,xt=Ma(u);if(xt||(u[qi]=xt=new Ze(u)),p=xt.add(m,p,T,tt,q),p.proxy)return p;if(T=Sr(),p.proxy=T,T.src=u,T.listener=p,u.addEventListener)it||(z=tt),z===void 0&&(z=!1),u.addEventListener(m.toString(),T,z);else if(u.attachEvent)u.attachEvent(Rr(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return p}function Sr(){function u(p){return m.call(u.src,u.listener,p)}const m=Tc;return u}function br(u,m,p,T,z){if(Array.isArray(m))for(var q=0;q<m.length;q++)br(u,m[q],p,T,z);else T=v(T)?!!T.capture:!!T,p=ao(p),u&&u[re]?(u=u.i,m=String(m).toString(),m in u.g&&(q=u.g[m],p=yn(q,p,T,z),-1<p&&(Qt(q[p]),Array.prototype.splice.call(q,p,1),q.length==0&&(delete u.g[m],u.h--)))):u&&(u=Ma(u))&&(m=u.g[m.toString()],u=-1,m&&(u=yn(m,p,T,z)),(p=-1<u?m[u]:null)&&zs(p))}function zs(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[re])ci(m.i,u);else{var p=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(p,T,u.capture):m.detachEvent?m.detachEvent(Rr(p),T):m.addListener&&m.removeListener&&m.removeListener(T),(p=Ma(m))?(ci(p,u),p.h==0&&(p.src=null,m[qi]=null)):Qt(u)}}}function Rr(u){return u in Hi?Hi[u]:Hi[u]="on"+u}function Tc(u,m){if(u.da)u=!0;else{m=new ct(m,this);var p=u.listener,T=u.ha||u.src;u.fa&&zs(u),u=p.call(T,m)}return u}function Ma(u){return u=u[qi],u instanceof Ze?u:null}var nn="__closure_events_fn_"+(1e9*Math.random()>>>0);function ao(u){return typeof u=="function"?u:(u[nn]||(u[nn]=function(m){return u.handleEvent(m)}),u[nn])}function ve(){ut.call(this),this.i=new Ze(this),this.M=this,this.F=null}X(ve,ut),ve.prototype[re]=!0,ve.prototype.removeEventListener=function(u,m,p,T){br(this,u,m,p,T)};function De(u,m){var p,T=u.F;if(T)for(p=[];T;T=T.F)p.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new nt(m,u);else if(m instanceof nt)m.target=m.target||u;else{var z=m;m=new nt(T,u),w(m,z)}if(z=!0,p)for(var q=p.length-1;0<=q;q--){var tt=m.g=p[q];z=fi(tt,T,!0,m)&&z}if(tt=m.g=u,z=fi(tt,T,!0,m)&&z,z=fi(tt,T,!1,m)&&z,p)for(q=0;q<p.length;q++)tt=m.g=p[q],z=fi(tt,T,!1,m)&&z}ve.prototype.N=function(){if(ve.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var p=u.g[m],T=0;T<p.length;T++)Qt(p[T]);delete u.g[m],u.h--}}this.F=null},ve.prototype.K=function(u,m,p,T){return this.i.add(String(u),m,!1,p,T)},ve.prototype.L=function(u,m,p,T){return this.i.add(String(u),m,!0,p,T)};function fi(u,m,p,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var z=!0,q=0;q<m.length;++q){var tt=m[q];if(tt&&!tt.da&&tt.capture==p){var xt=tt.listener,Te=tt.ha||tt.src;tt.fa&&ci(u.i,tt),z=xt.call(Te,T)!==!1&&z}}return z&&!T.defaultPrevented}function lo(u,m,p){if(typeof u=="function")p&&(u=x(u,p));else if(u&&typeof u.handleEvent=="function")u=x(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(u,m||0)}function xa(u){u.g=lo(()=>{u.g=null,u.i&&(u.i=!1,xa(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Ac extends ut{constructor(m,p){super(),this.m=m,this.l=p,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:xa(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Bs(u){ut.call(this),this.h=u,this.g={}}X(Bs,ut);var Gi=[];function He(u){lt(u.g,function(m,p){this.g.hasOwnProperty(p)&&zs(m)},u),u.g={}}Bs.prototype.N=function(){Bs.aa.N.call(this),He(this)},Bs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ua=g.JSON.stringify,qn=g.JSON.parse,$e=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function La(){}La.prototype.h=null;function oo(u){return u.h||(u.h=u.i())}function uo(){}var Hn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Qi(){nt.call(this,"d")}X(Qi,nt);function Un(){nt.call(this,"c")}X(Un,nt);var _n={},Fi=null;function wr(){return Fi=Fi||new ve}_n.La="serverreachability";function za(u){nt.call(this,_n.La,u)}X(za,nt);function Ki(u){const m=wr();De(m,new za(m))}_n.STAT_EVENT="statevent";function Cr(u,m){nt.call(this,_n.STAT_EVENT,u),this.stat=m}X(Cr,nt);function fe(u){const m=wr();De(m,new Cr(m,u))}_n.Ma="timingevent";function co(u,m){nt.call(this,_n.Ma,u),this.size=m}X(co,nt);function Yi(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},m)}function Xi(){this.g=!0}Xi.prototype.xa=function(){this.g=!1};function ho(u,m,p,T,z,q){u.info(function(){if(u.g)if(q)for(var tt="",xt=q.split("&"),Te=0;Te<xt.length;Te++){var Ut=xt[Te].split("=");if(1<Ut.length){var Ie=Ut[0];Ut=Ut[1];var Ae=Ie.split("_");tt=2<=Ae.length&&Ae[1]=="type"?tt+(Ie+"="+Ut+"&"):tt+(Ie+"=redacted&")}}else tt=null;else tt=q;return"XMLHTTP REQ ("+T+") [attempt "+z+"]: "+m+`
`+p+`
`+tt})}function fo(u,m,p,T,z,q,tt){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+z+"]: "+m+`
`+p+`
`+q+" "+tt})}function Zi(u,m,p,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Ve(u,p)+(T?" "+T:"")})}function Gn(u,m){u.info(function(){return"TIMEOUT: "+m})}Xi.prototype.info=function(){};function Ve(u,m){if(!u.g)return m;if(!m)return null;try{var p=JSON.parse(m);if(p){for(u=0;u<p.length;u++)if(Array.isArray(p[u])){var T=p[u];if(!(2>T.length)){var z=T[1];if(Array.isArray(z)&&!(1>z.length)){var q=z[0];if(q!="noop"&&q!="stop"&&q!="close")for(var tt=1;tt<z.length;tt++)z[tt]=""}}}}return Ua(p)}catch{return m}}var Ee={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},di={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ps;function Dr(){}X(Dr,La),Dr.prototype.g=function(){return new XMLHttpRequest},Dr.prototype.i=function(){return{}},Ps=new Dr;function Qn(u,m,p,T){this.j=u,this.i=m,this.l=p,this.R=T||1,this.U=new Bs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ba}function Ba(){this.i=null,this.g="",this.h=!1}var $i={},ks={};function Ln(u,m,p){u.L=1,u.v=Hs(le(m)),u.m=p,u.P=!0,mi(u,null)}function mi(u,m){u.F=Date.now(),te(u),u.A=le(u.v);var p=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),yi(p.i,"t",T),u.C=0,p=u.j.J,u.h=new Ba,u.g=Co(u.j,p?m:null,!u.m),0<u.O&&(u.M=new Ac(x(u.Y,u,u.g),u.O)),m=u.U,p=u.g,T=u.ca;var z="readystatechange";Array.isArray(z)||(z&&(Gi[0]=z.toString()),z=Gi);for(var q=0;q<z.length;q++){var tt=hi(p,z[q],T||m.handleEvent,!1,m.h||m);if(!tt)break;m.g[tt.key]=tt}m=u.H?b(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),Ki(),ho(u.i,u.u,u.A,u.l,u.R,u.m)}Qn.prototype.ca=function(u){u=u.target;const m=this.M;m&&Sn(u)==3?m.j():this.Y(u)},Qn.prototype.Y=function(u){try{if(u==this.g)t:{const Ae=Sn(this.g);var m=this.g.Ba();const Ti=this.g.Z();if(!(3>Ae)&&(Ae!=3||this.g&&(this.h.h||this.g.oa()||vo(this.g)))){this.J||Ae!=4||m==7||(m==8||0>=Ti?Ki(3):Ki(2)),Vr(this);var p=this.g.Z();this.X=p;e:if(Ji(this)){var T=vo(this.g);u="";var z=T.length,q=Sn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){sn(this),on(this);var tt="";break e}this.h.i=new g.TextDecoder}for(m=0;m<z;m++)this.h.h=!0,u+=this.h.i.decode(T[m],{stream:!(q&&m==z-1)});T.length=0,this.h.g+=u,this.C=0,tt=this.h.g}else tt=this.g.oa();if(this.o=p==200,fo(this.i,this.u,this.A,this.l,this.R,Ae,p),this.o){if(this.T&&!this.K){e:{if(this.g){var xt,Te=this.g;if((xt=Te.g?Te.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!dt(xt)){var Ut=xt;break e}}Ut=null}if(p=Ut)Zi(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,un(this,p);else{this.o=!1,this.s=3,fe(12),sn(this),on(this);break t}}if(this.P){p=!0;let Le;for(;!this.J&&this.C<tt.length;)if(Le=Wi(this,tt),Le==ks){Ae==4&&(this.s=4,fe(14),p=!1),Zi(this.i,this.l,null,"[Incomplete Response]");break}else if(Le==$i){this.s=4,fe(15),Zi(this.i,this.l,tt,"[Invalid Chunk]"),p=!1;break}else Zi(this.i,this.l,Le,null),un(this,Le);if(Ji(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ae!=4||tt.length!=0||this.h.h||(this.s=1,fe(16),p=!1),this.o=this.o&&p,!p)Zi(this.i,this.l,tt,"[Invalid Chunked Response]"),sn(this),on(this);else if(0<tt.length&&!this.W){this.W=!0;var Ie=this.j;Ie.g==this&&Ie.ba&&!Ie.M&&(Ie.j.info("Great, no buffering proxy detected. Bytes received: "+tt.length),Zs(Ie),Ie.M=!0,fe(11))}}else Zi(this.i,this.l,tt,null),un(this,tt);Ae==4&&sn(this),this.o&&!this.J&&(Ae==4?bo(this.j,this):(this.o=!1,te(this)))}else Dc(this.g),p==400&&0<tt.indexOf("Unknown SID")?(this.s=3,fe(12)):(this.s=0,fe(13)),sn(this),on(this)}}}catch{}finally{}};function Ji(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Wi(u,m){var p=u.C,T=m.indexOf(`
`,p);return T==-1?ks:(p=Number(m.substring(p,T)),isNaN(p)?$i:(T+=1,T+p>m.length?ks:(m=m.slice(T,T+p),u.C=T+p,m)))}Qn.prototype.cancel=function(){this.J=!0,sn(this)};function te(u){u.S=Date.now()+u.I,Pa(u,u.I)}function Pa(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Yi(x(u.ba,u),m)}function Vr(u){u.B&&(g.clearTimeout(u.B),u.B=null)}Qn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Gn(this.i,this.A),this.L!=2&&(Ki(),fe(17)),sn(this),this.s=2,on(this)):Pa(this,this.S-u)};function on(u){u.j.G==0||u.J||bo(u.j,u)}function sn(u){Vr(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,He(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function un(u,m){try{var p=u.j;if(p.G!=0&&(p.g==u||ts(p.h,u))){if(!u.K&&ts(p.h,u)&&p.G==3){try{var T=p.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var z=T;if(z[0]==0){t:if(!p.u){if(p.g)if(p.g.F+3e3<u.F)Pr(p),zr(p);else break t;Za(p),fe(18)}}else p.za=z[1],0<p.za-p.T&&37500>z[2]&&p.F&&p.v==0&&!p.C&&(p.C=Yi(x(p.Za,p),6e3));if(1>=mo(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else Ei(p,11)}else if((u.K||p.g==u)&&Pr(p),!dt(m))for(z=p.Da.g.parse(m),m=0;m<z.length;m++){let Ut=z[m];if(p.T=Ut[0],Ut=Ut[1],p.G==2)if(Ut[0]=="c"){p.K=Ut[1],p.ia=Ut[2];const Ie=Ut[3];Ie!=null&&(p.la=Ie,p.j.info("VER="+p.la));const Ae=Ut[4];Ae!=null&&(p.Aa=Ae,p.j.info("SVER="+p.Aa));const Ti=Ut[5];Ti!=null&&typeof Ti=="number"&&0<Ti&&(T=1.5*Ti,p.L=T,p.j.info("backChannelRequestTimeoutMs_="+T)),T=p;const Le=u.g;if(Le){const Jn=Le.g?Le.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Jn){var q=T.h;q.g||Jn.indexOf("spdy")==-1&&Jn.indexOf("quic")==-1&&Jn.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(es(q,q.h),q.h=null))}if(T.D){const Ja=Le.g?Le.g.getResponseHeader("X-HTTP-Session-Id"):null;Ja&&(T.ya=Ja,kt(T.I,T.D,Ja))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-u.F,p.j.info("Handshake RTT: "+p.R+"ms")),T=p;var tt=u;if(T.qa=wo(T,T.J?T.ia:null,T.W),tt.K){vn(T.h,tt);var xt=tt,Te=T.L;Te&&(xt.I=Te),xt.B&&(Vr(xt),te(xt)),T.g=tt}else Ao(T);0<p.i.length&&Br(p)}else Ut[0]!="stop"&&Ut[0]!="close"||Ei(p,7);else p.G==3&&(Ut[0]=="stop"||Ut[0]=="close"?Ut[0]=="stop"?Ei(p,7):Ya(p):Ut[0]!="noop"&&p.l&&p.l.ta(Ut),p.v=0)}}Ki(4)}catch{}}var Sc=class{constructor(u,m){this.g=u,this.map=m}};function ka(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ja(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function mo(u){return u.h?1:u.g?u.g.size:0}function ts(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function es(u,m){u.g?u.g.add(m):u.h=m}function vn(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}ka.prototype.cancel=function(){if(this.i=Je(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Je(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const p of u.g.values())m=m.concat(p.D);return m}return J(u.i)}function go(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(_(u)){for(var m=[],p=u.length,T=0;T<p;T++)m.push(u[T]);return m}m=[],p=0;for(T in u)m[p++]=u[T];return m}function bc(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(_(u)||typeof u=="string"){var m=[];u=u.length;for(var p=0;p<u;p++)m.push(p);return m}m=[],p=0;for(const T in u)m[p++]=T;return m}}}function js(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(_(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var p=bc(u),T=go(u),z=T.length,q=0;q<z;q++)m.call(void 0,T[q],p&&p[q],u)}var qa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Nr(u,m){if(u){u=u.split("&");for(var p=0;p<u.length;p++){var T=u[p].indexOf("="),z=null;if(0<=T){var q=u[p].substring(0,T);z=u[p].substring(T+1)}else q=u[p];m(q,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function gi(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof gi){this.h=u.h,ns(this,u.j),this.o=u.o,this.g=u.g,qs(this,u.s),this.l=u.l;var m=u.i,p=new Fn;p.i=m.i,m.g&&(p.g=new Map(m.g),p.h=m.h),Ir(this,p),this.m=u.m}else u&&(m=String(u).match(qa))?(this.h=!1,ns(this,m[1]||"",!0),this.o=is(m[2]||""),this.g=is(m[3]||"",!0),qs(this,m[4]),this.l=is(m[5]||"",!0),Ir(this,m[6]||"",!0),this.m=is(m[7]||"")):(this.h=!1,this.i=new Fn(null,this.h))}gi.prototype.toString=function(){var u=[],m=this.j;m&&u.push(En(m,Ha,!0),":");var p=this.g;return(p||m=="file")&&(u.push("//"),(m=this.o)&&u.push(En(m,Ha,!0),"@"),u.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&u.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&u.push("/"),u.push(En(p,p.charAt(0)=="/"?Ga:po,!0))),(p=this.i.toString())&&u.push("?",p),(p=this.m)&&u.push("#",En(p,Cc)),u.join("")};function le(u){return new gi(u)}function ns(u,m,p){u.j=p?is(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function qs(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function Ir(u,m,p){m instanceof Fn?(u.i=m,Qa(u.i,u.h)):(p||(m=En(m,wc)),u.i=new Fn(m,u.h))}function kt(u,m,p){u.i.set(m,p)}function Hs(u){return kt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function is(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function En(u,m,p){return typeof u=="string"?(u=encodeURI(u).replace(m,Rc),p&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Rc(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Ha=/[#\/\?@]/g,po=/[#\?:]/g,Ga=/[#\?]/g,wc=/[#\?@]/g,Cc=/#/g;function Fn(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Tn(u){u.g||(u.g=new Map,u.h=0,u.i&&Nr(u.i,function(m,p){u.add(decodeURIComponent(m.replace(/\+/g," ")),p)}))}r=Fn.prototype,r.add=function(u,m){Tn(this),this.i=null,u=_i(this,u);var p=this.g.get(u);return p||this.g.set(u,p=[]),p.push(m),this.h+=1,this};function Or(u,m){Tn(u),m=_i(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function pi(u,m){return Tn(u),m=_i(u,m),u.g.has(m)}r.forEach=function(u,m){Tn(this),this.g.forEach(function(p,T){p.forEach(function(z){u.call(m,z,T,this)},this)},this)},r.na=function(){Tn(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),p=[];for(let T=0;T<m.length;T++){const z=u[T];for(let q=0;q<z.length;q++)p.push(m[T])}return p},r.V=function(u){Tn(this);let m=[];if(typeof u=="string")pi(this,u)&&(m=m.concat(this.g.get(_i(this,u))));else{u=Array.from(this.g.values());for(let p=0;p<u.length;p++)m=m.concat(u[p])}return m},r.set=function(u,m){return Tn(this),this.i=null,u=_i(this,u),pi(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function yi(u,m,p){Or(u,m),0<p.length&&(u.i=null,u.g.set(_i(u,m),J(p)),u.h+=p.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var p=0;p<m.length;p++){var T=m[p];const q=encodeURIComponent(String(T)),tt=this.V(T);for(T=0;T<tt.length;T++){var z=q;tt[T]!==""&&(z+="="+encodeURIComponent(String(tt[T]))),u.push(z)}}return this.i=u.join("&")};function _i(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Qa(u,m){m&&!u.j&&(Tn(u),u.i=null,u.g.forEach(function(p,T){var z=T.toLowerCase();T!=z&&(Or(this,T),yi(this,z,p))},u)),u.j=m}function yo(u,m){const p=new Xi;if(g.Image){const T=new Image;T.onload=k(An,p,"TestLoadImage: loaded",!0,m,T),T.onerror=k(An,p,"TestLoadImage: error",!1,m,T),T.onabort=k(An,p,"TestLoadImage: abort",!1,m,T),T.ontimeout=k(An,p,"TestLoadImage: timeout",!1,m,T),g.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Gs(u,m){const p=new Xi,T=new AbortController,z=setTimeout(()=>{T.abort(),An(p,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(q=>{clearTimeout(z),q.ok?An(p,"TestPingServer: ok",!0,m):An(p,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(z),An(p,"TestPingServer: error",!1,m)})}function An(u,m,p,T,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),T(p)}catch{}}function Qs(){this.g=new $e}function Kn(u,m,p){const T=p||"";try{js(u,function(z,q){let tt=z;v(z)&&(tt=Ua(z)),m.push(T+q+"="+encodeURIComponent(tt))})}catch(z){throw m.push(T+"type="+encodeURIComponent("_badmap")),z}}function ss(u){this.l=u.Ub||null,this.j=u.eb||!1}X(ss,La),ss.prototype.g=function(){return new vi(this.l,this.j)},ss.prototype.i=function(u){return function(){return u}}({});function vi(u,m){ve.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}X(vi,ve),r=vi.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Xn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Yn(this)),this.readyState=0},r.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Xn(this)),this.g&&(this.readyState=3,Xn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Fa(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Fa(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}r.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Yn(this):Xn(this),this.readyState==3&&Fa(this)}},r.Ra=function(u){this.g&&(this.response=this.responseText=u,Yn(this))},r.Qa=function(u){this.g&&(this.response=u,Yn(this))},r.ga=function(){this.g&&Yn(this)};function Yn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Xn(u)}r.setRequestHeader=function(u,m){this.u.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var p=m.next();!p.done;)p=p.value,u.push(p[0]+": "+p[1]),p=m.next();return u.join(`\r
`)};function Xn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(vi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Ka(u){let m="";return lt(u,function(p,T){m+=T,m+=":",m+=p,m+=`\r
`}),m}function Ne(u,m,p){t:{for(T in p){var T=!1;break t}T=!0}T||(p=Ka(p),typeof u=="string"?p!=null&&encodeURIComponent(String(p)):kt(u,m,p))}function Ht(u){ve.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}X(Ht,ve);var Mr=/^https?$/i,Fs=["POST","PUT"];r=Ht.prototype,r.Ha=function(u){this.J=u},r.ea=function(u,m,p,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ps.g(),this.v=this.o?oo(this.o):oo(Ps),this.g.onreadystatechange=x(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){_o(this,q);return}if(u=p||"",p=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var z in T)p.set(z,T[z]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())p.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(p.keys()).find(q=>q.toLowerCase()=="content-type"),z=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call(Fs,m,void 0))||T||z||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,tt]of p)this.g.setRequestHeader(q,tt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ks(this),this.u=!0,this.g.send(u),this.u=!1}catch(q){_o(this,q)}};function _o(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,xr(u),Zn(u)}function xr(u){u.A||(u.A=!0,De(u,"complete"),De(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,De(this,"complete"),De(this,"abort"),Zn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Zn(this,!0)),Ht.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Ur(this):this.bb())},r.bb=function(){Ur(this)};function Ur(u){if(u.h&&typeof d<"u"&&(!u.v[1]||Sn(u)!=4||u.Z()!=2)){if(u.u&&Sn(u)==4)lo(u.Ea,0,u);else if(De(u,"readystatechange"),Sn(u)==4){u.h=!1;try{const tt=u.Z();t:switch(tt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var p;if(!(p=m)){var T;if(T=tt===0){var z=String(u.D).match(qa)[1]||null;!z&&g.self&&g.self.location&&(z=g.self.location.protocol.slice(0,-1)),T=!Mr.test(z?z.toLowerCase():"")}p=T}if(p)De(u,"complete"),De(u,"success");else{u.m=6;try{var q=2<Sn(u)?u.g.statusText:""}catch{q=""}u.l=q+" ["+u.Z()+"]",xr(u)}}finally{Zn(u)}}}}function Zn(u,m){if(u.g){Ks(u);const p=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||De(u,"ready");try{p.onreadystatechange=T}catch{}}}function Ks(u){u.I&&(g.clearTimeout(u.I),u.I=null)}r.isActive=function(){return!!this.g};function Sn(u){return u.g?u.g.readyState:0}r.Z=function(){try{return 2<Sn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),qn(m)}};function vo(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Dc(u){const m={};u=(u.g&&2<=Sn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(dt(u[T]))continue;var p=V(u[T]);const z=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const q=m[z]||[];m[z]=q,q.push(p)}I(m,function(T){return T.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ys(u,m,p){return p&&p.internalChannelParams&&p.internalChannelParams[u]||m}function Lr(u){this.Aa=0,this.i=[],this.j=new Xi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ys("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ys("baseRetryDelayMs",5e3,u),this.cb=Ys("retryDelaySeedMs",1e4,u),this.Wa=Ys("forwardChannelMaxRetries",2,u),this.wa=Ys("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new ka(u&&u.concurrentRequestLimit),this.Da=new Qs,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Lr.prototype,r.la=8,r.G=1,r.connect=function(u,m,p,T){fe(0),this.W=u,this.H=m||{},p&&T!==void 0&&(this.H.OSID=p,this.H.OAID=T),this.F=this.X,this.I=wo(this,null,this.W),Br(this)};function Ya(u){if(Eo(u),u.G==3){var m=u.U++,p=le(u.I);if(kt(p,"SID",u.K),kt(p,"RID",m),kt(p,"TYPE","terminate"),Xs(u,p),m=new Qn(u,u.j,m),m.L=2,m.v=Hs(le(p)),p=!1,g.navigator&&g.navigator.sendBeacon)try{p=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!p&&g.Image&&(new Image().src=m.v,p=!0),p||(m.g=Co(m.j,null),m.g.ea(m.v)),m.F=Date.now(),te(m)}Ro(u)}function zr(u){u.g&&(Zs(u),u.g.cancel(),u.g=null)}function Eo(u){zr(u),u.u&&(g.clearTimeout(u.u),u.u=null),Pr(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function Br(u){if(!ja(u.h)&&!u.s){u.s=!0;var m=u.Ga;pt||D(),ot||(pt(),ot=!0),Mt.add(m,u),u.B=0}}function Vc(u,m){return mo(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Yi(x(u.Ga,u,m),$a(u,u.B)),u.B++,!0)}r.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const z=new Qn(this,this.j,u);let q=this.o;if(this.S&&(q?(q=b(q),w(q,this.S)):q=this.S),this.m!==null||this.O||(z.H=q,q=null),this.P)t:{for(var m=0,p=0;p<this.i.length;p++){e:{var T=this.i[p];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=p;break t}if(m===4096||p===this.i.length-1){m=p+1;break t}}m=1e3}else m=1e3;m=To(this,z,m),p=le(this.I),kt(p,"RID",u),kt(p,"CVER",22),this.D&&kt(p,"X-HTTP-Session-Id",this.D),Xs(this,p),q&&(this.O?m="headers="+encodeURIComponent(String(Ka(q)))+"&"+m:this.m&&Ne(p,this.m,q)),es(this.h,z),this.Ua&&kt(p,"TYPE","init"),this.P?(kt(p,"$req",m),kt(p,"SID","null"),z.T=!0,Ln(z,p,null)):Ln(z,p,m),this.G=2}}else this.G==3&&(u?Xa(this,u):this.i.length==0||ja(this.h)||Xa(this))};function Xa(u,m){var p;m?p=m.l:p=u.U++;const T=le(u.I);kt(T,"SID",u.K),kt(T,"RID",p),kt(T,"AID",u.T),Xs(u,T),u.m&&u.o&&Ne(T,u.m,u.o),p=new Qn(u,u.j,p,u.B+1),u.m===null&&(p.H=u.o),m&&(u.i=m.D.concat(u.i)),m=To(u,p,1e3),p.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),es(u.h,p),Ln(p,T,m)}function Xs(u,m){u.H&&lt(u.H,function(p,T){kt(m,T,p)}),u.l&&js({},function(p,T){kt(m,T,p)})}function To(u,m,p){p=Math.min(u.i.length,p);var T=u.l?x(u.l.Na,u.l,u):null;t:{var z=u.i;let q=-1;for(;;){const tt=["count="+p];q==-1?0<p?(q=z[0].g,tt.push("ofs="+q)):q=0:tt.push("ofs="+q);let xt=!0;for(let Te=0;Te<p;Te++){let Ut=z[Te].g;const Ie=z[Te].map;if(Ut-=q,0>Ut)q=Math.max(0,z[Te].g-100),xt=!1;else try{Kn(Ie,tt,"req"+Ut+"_")}catch{T&&T(Ie)}}if(xt){T=tt.join("&");break t}}}return u=u.i.splice(0,p),m.D=u,T}function Ao(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;pt||D(),ot||(pt(),ot=!0),Mt.add(m,u),u.v=0}}function Za(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Yi(x(u.Fa,u),$a(u,u.v)),u.v++,!0)}r.Fa=function(){if(this.u=null,So(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Yi(x(this.ab,this),u)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,fe(10),zr(this),So(this))};function Zs(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function So(u){u.g=new Qn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=le(u.qa);kt(m,"RID","rpc"),kt(m,"SID",u.K),kt(m,"AID",u.T),kt(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&kt(m,"TO",u.ja),kt(m,"TYPE","xmlhttp"),Xs(u,m),u.m&&u.o&&Ne(m,u.m,u.o),u.L&&(u.g.I=u.L);var p=u.g;u=u.ia,p.L=1,p.v=Hs(le(m)),p.m=null,p.P=!0,mi(p,u)}r.Za=function(){this.C!=null&&(this.C=null,zr(this),Za(this),fe(19))};function Pr(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function bo(u,m){var p=null;if(u.g==m){Pr(u),Zs(u),u.g=null;var T=2}else if(ts(u.h,m))p=m.D,vn(u.h,m),T=1;else return;if(u.G!=0){if(m.o)if(T==1){p=m.m?m.m.length:0,m=Date.now()-m.F;var z=u.B;T=wr(),De(T,new co(T,p)),Br(u)}else Ao(u);else if(z=m.s,z==3||z==0&&0<m.X||!(T==1&&Vc(u,m)||T==2&&Za(u)))switch(p&&0<p.length&&(m=u.h,m.i=m.i.concat(p)),z){case 1:Ei(u,5);break;case 4:Ei(u,10);break;case 3:Ei(u,6);break;default:Ei(u,2)}}}function $a(u,m){let p=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(p*=2),p*m}function Ei(u,m){if(u.j.info("Error code "+m),m==2){var p=x(u.fb,u),T=u.Xa;const z=!T;T=new gi(T||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||ns(T,"https"),Hs(T),z?yo(T.toString(),p):Gs(T.toString(),p)}else fe(2);u.G=0,u.l&&u.l.sa(m),Ro(u),Eo(u)}r.fb=function(u){u?(this.j.info("Successfully pinged google.com"),fe(2)):(this.j.info("Failed to ping google.com"),fe(1))};function Ro(u){if(u.G=0,u.ka=[],u.l){const m=Je(u.h);(m.length!=0||u.i.length!=0)&&(Z(u.ka,m),Z(u.ka,u.i),u.h.i.length=0,J(u.i),u.i.length=0),u.l.ra()}}function wo(u,m,p){var T=p instanceof gi?le(p):new gi(p);if(T.g!="")m&&(T.g=m+"."+T.g),qs(T,T.s);else{var z=g.location;T=z.protocol,m=m?m+"."+z.hostname:z.hostname,z=+z.port;var q=new gi(null);T&&ns(q,T),m&&(q.g=m),z&&qs(q,z),p&&(q.l=p),T=q}return p=u.D,m=u.ya,p&&m&&kt(T,p,m),kt(T,"VER",u.la),Xs(u,T),T}function Co(u,m,p){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new Ht(new ss({eb:p})):new Ht(u.pa),m.Ha(u.J),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Do(){}r=Do.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function kr(){}kr.prototype.g=function(u,m){return new We(u,m)};function We(u,m){ve.call(this),this.g=new Lr(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!dt(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!dt(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new $n(this)}X(We,ve),We.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},We.prototype.close=function(){Ya(this.g)},We.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var p={};p.__data__=u,u=p}else this.u&&(p={},p.__data__=Ua(u),u=p);m.i.push(new Sc(m.Ya++,u)),m.G==3&&Br(m)},We.prototype.N=function(){this.g.l=null,delete this.j,Ya(this.g),delete this.g,We.aa.N.call(this)};function Vo(u){Qi.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const p in m){u=p;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}X(Vo,Qi);function No(){Un.call(this),this.status=1}X(No,Un);function $n(u){this.g=u}X($n,Do),$n.prototype.ua=function(){De(this.g,"a")},$n.prototype.ta=function(u){De(this.g,new Vo(u))},$n.prototype.sa=function(u){De(this.g,new No)},$n.prototype.ra=function(){De(this.g,"b")},kr.prototype.createWebChannel=kr.prototype.g,We.prototype.send=We.prototype.o,We.prototype.open=We.prototype.m,We.prototype.close=We.prototype.close,S_=function(){return new kr},A_=function(){return wr()},T_=_n,kf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ee.NO_ERROR=0,Ee.TIMEOUT=8,Ee.HTTP_ERROR=6,Uu=Ee,di.COMPLETE="complete",E_=di,uo.EventType=Hn,Hn.OPEN="a",Hn.CLOSE="b",Hn.ERROR="c",Hn.MESSAGE="d",ve.prototype.listen=ve.prototype.K,Pl=uo,Ht.prototype.listenOnce=Ht.prototype.L,Ht.prototype.getLastError=Ht.prototype.Ka,Ht.prototype.getLastErrorCode=Ht.prototype.Ba,Ht.prototype.getStatus=Ht.prototype.Z,Ht.prototype.getResponseJson=Ht.prototype.Oa,Ht.prototype.getResponseText=Ht.prototype.oa,Ht.prototype.send=Ht.prototype.ea,Ht.prototype.setWithCredentials=Ht.prototype.Ha,v_=Ht}).apply(typeof Nu<"u"?Nu:typeof self<"u"?self:typeof window<"u"?window:{});const uy="@firebase/firestore",cy="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ke.UNAUTHENTICATED=new Ke(null),Ke.GOOGLE_CREDENTIALS=new Ke("google-credentials-uid"),Ke.FIRST_PARTY=new Ke("first-party-uid"),Ke.MOCK_USER=new Ke("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Da="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _r=new f_("@firebase/firestore");function ma(){return _r.logLevel}function st(r,...e){if(_r.logLevel<=Bt.DEBUG){const i=e.map(ld);_r.debug(`Firestore (${Da}): ${r}`,...i)}}function ki(r,...e){if(_r.logLevel<=Bt.ERROR){const i=e.map(ld);_r.error(`Firestore (${Da}): ${r}`,...i)}}function Ea(r,...e){if(_r.logLevel<=Bt.WARN){const i=e.map(ld);_r.warn(`Firestore (${Da}): ${r}`,...i)}}function ld(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(r="Unexpected state"){const e=`FIRESTORE (${Da}) INTERNAL ASSERTION FAILED: `+r;throw ki(e),new Error(e)}function Gt(r,e){r||Et()}function St(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class yt extends Ca{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b_{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class MA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(Ke.UNAUTHENTICATED))}shutdown(){}}class xA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class UA{constructor(e){this.t=e,this.currentUser=Ke.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Gt(this.o===void 0);let a=this.i;const o=_=>this.i!==a?(a=this.i,i(_)):Promise.resolve();let h=new Vs;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Vs,e.enqueueRetryable(()=>o(this.currentUser))};const d=()=>{const _=h;e.enqueueRetryable(async()=>{await _.promise,await o(this.currentUser)})},g=_=>{st("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(_=>g(_)),setTimeout(()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?g(_):(st("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Vs)}},0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(a=>this.i!==e?(st("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Gt(typeof a.accessToken=="string"),new b_(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Gt(e===null||typeof e=="string"),new Ke(e)}}class LA{constructor(e,i,a){this.l=e,this.h=i,this.P=a,this.type="FirstParty",this.user=Ke.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class zA{constructor(e,i,a){this.l=e,this.h=i,this.P=a}getToken(){return Promise.resolve(new LA(this.l,this.h,this.P))}start(e,i){e.enqueueRetryable(()=>i(Ke.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class hy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class BA{constructor(e,i){this.A=i,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,pA(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,i){Gt(this.o===void 0);const a=h=>{h.error!=null&&st("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.R;return this.R=h.token,st("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable(()=>a(h))};const o=h=>{st("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(h=>o(h)),setTimeout(()=>{if(!this.appCheck){const h=this.A.getImmediate({optional:!0});h?o(h):st("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new hy(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(Gt(typeof i.token=="string"),this.R=i.token,new hy(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PA(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R_(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=PA(40);for(let h=0;h<o.length;++h)a.length<20&&o[h]<i&&(a+=e.charAt(o[h]%62))}return a}}function Dt(r,e){return r<e?-1:r>e?1:0}function jf(r,e){let i=0;for(;i<r.length&&i<e.length;){const a=r.codePointAt(i),o=e.codePointAt(i);if(a!==o){if(a<128&&o<128)return Dt(a,o);{const h=R_(),d=kA(h.encode(fy(r,i)),h.encode(fy(e,i)));return d!==0?d:Dt(a,o)}}i+=a>65535?2:1}return Dt(r.length,e.length)}function fy(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function kA(r,e){for(let i=0;i<r.length&&i<e.length;++i)if(r[i]!==e[i])return Dt(r[i],e[i]);return Dt(r.length,e.length)}function Ta(r,e,i){return r.length===e.length&&r.every((a,o)=>i(a,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dy=-62135596800,my=1e6;class we{static now(){return we.fromMillis(Date.now())}static fromDate(e){return we.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*my);return new we(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new yt($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new yt($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<dy)throw new yt($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new yt($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/my}_compareTo(e){return this.seconds===e.seconds?Dt(this.nanoseconds,e.nanoseconds):Dt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-dy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{static fromTimestamp(e){return new Tt(e)}static min(){return new Tt(new we(0,0))}static max(){return new Tt(new we(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gy="__name__";class si{constructor(e,i,a){i===void 0?i=0:i>e.length&&Et(),a===void 0?a=e.length-i:a>e.length-i&&Et(),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return si.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof si?e.forEach(a=>{i.push(a)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let o=0;o<a;o++){const h=si.compareSegments(e.get(o),i.get(o));if(h!==0)return h}return Dt(e.length,i.length)}static compareSegments(e,i){const a=si.isNumericId(e),o=si.isNumericId(i);return a&&!o?-1:!a&&o?1:a&&o?si.extractNumericId(e).compare(si.extractNumericId(i)):jf(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ds.fromString(e.substring(4,e.length-2))}}class he extends si{construct(e,i,a){return new he(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new yt($.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter(o=>o.length>0))}return new he(i)}static emptyPath(){return new he([])}}const jA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class je extends si{construct(e,i,a){return new je(e,i,a)}static isValidIdentifier(e){return jA.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),je.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===gy}static keyField(){return new je([gy])}static fromServerFormat(e){const i=[];let a="",o=0;const h=()=>{if(a.length===0)throw new yt($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;o<e.length;){const g=e[o];if(g==="\\"){if(o+1===e.length)throw new yt($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[o+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new yt($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=_,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(a+=g,o++):(h(),o++)}if(h(),d)throw new yt($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new je(i)}static emptyPath(){return new je([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e){this.path=e}static fromPath(e){return new _t(he.fromString(e))}static fromName(e){return new _t(he.fromString(e).popFirst(5))}static empty(){return new _t(he.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&he.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return he.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _t(new he(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xl=-1;function qA(r,e){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,o=Tt.fromTimestamp(a===1e9?new we(i+1,0):new we(i,a));return new Ns(o,_t.empty(),e)}function HA(r){return new Ns(r.readTime,r.key,Xl)}class Ns{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new Ns(Tt.min(),_t.empty(),Xl)}static max(){return new Ns(Tt.max(),_t.empty(),Xl)}}function GA(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=_t.comparator(r.documentKey,e.documentKey),i!==0?i:Dt(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class FA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Va(r){if(r.code!==$.FAILED_PRECONDITION||r.message!==QA)throw r;st("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Et(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new F((a,o)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(a,o)},this.catchCallback=h=>{this.wrapFailure(i,h).next(a,o)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof F?i:F.resolve(i)}catch(i){return F.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):F.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):F.reject(i)}static resolve(e){return new F((i,a)=>{i(e)})}static reject(e){return new F((i,a)=>{a(e)})}static waitFor(e){return new F((i,a)=>{let o=0,h=0,d=!1;e.forEach(g=>{++o,g.next(()=>{++h,d&&h===o&&i()},_=>a(_))}),d=!0,h===o&&i()})}static or(e){let i=F.resolve(!1);for(const a of e)i=i.next(o=>o?F.resolve(o):a());return i}static forEach(e,i){const a=[];return e.forEach((o,h)=>{a.push(i.call(this,o,h))}),this.waitFor(a)}static mapArray(e,i){return new F((a,o)=>{const h=e.length,d=new Array(h);let g=0;for(let _=0;_<h;_++){const v=_;i(e[v]).next(S=>{d[v]=S,++g,g===h&&a(d)},S=>o(S))}})}static doWhile(e,i){return new F((a,o)=>{const h=()=>{e()===!0?i().next(()=>{h()},o):a()};h()})}}function KA(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Na(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.oe(a),this._e=a=>i.writeSequenceNumber(a))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}rc.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const od=-1;function ac(r){return r==null}function Ku(r){return r===0&&1/r==-1/0}function YA(r){return typeof r=="number"&&Number.isInteger(r)&&!Ku(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C_="";function XA(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=py(e)),e=ZA(r.get(i),e);return py(e)}function ZA(r,e){let i=e;const a=r.length;for(let o=0;o<a;o++){const h=r.charAt(o);switch(h){case"\0":i+="";break;case C_:i+="";break;default:i+=h}}return i}function py(r){return r+C_+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yy(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function Ls(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function D_(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e,i){this.comparator=e,this.root=i||ke.EMPTY}insert(e,i){return new se(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,ke.BLACK,null,null))}remove(e){return new se(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ke.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return i+a.left.size;o<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,a)=>(e(i,a),!1))}toString(){const e=[];return this.inorderTraversal((i,a)=>(e.push(`${i}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Iu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Iu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Iu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Iu(this.root,e,this.comparator,!0)}}class Iu{constructor(e,i,a,o){this.isReverse=o,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?a(e.key,i):1,i&&o&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ke{constructor(e,i,a,o,h){this.key=e,this.value=i,this.color=a??ke.RED,this.left=o??ke.EMPTY,this.right=h??ke.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,o,h){return new ke(e??this.key,i??this.value,a??this.color,o??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let o=this;const h=a(e,o.key);return o=h<0?o.copy(null,null,null,o.left.insert(e,i,a),null):h===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return ke.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return ke.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ke.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ke.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Et();const e=this.left.check();if(e!==this.right.check())throw Et();return e+(this.isRed()?0:1)}}ke.EMPTY=null,ke.RED=!0,ke.BLACK=!1;ke.EMPTY=new class{constructor(){this.size=0}get key(){throw Et()}get value(){throw Et()}get color(){throw Et()}get left(){throw Et()}get right(){throw Et()}copy(e,i,a,o,h){return this}insert(e,i,a){return new ke(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(e){this.comparator=e,this.data=new se(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,a)=>(e(i),!1))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new _y(this.data.getIterator())}getIteratorFrom(e){return new _y(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(a=>{i=i.add(a)}),i}isEqual(e){if(!(e instanceof Ce)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=a.getNext().key;if(this.comparator(o,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new Ce(this.comparator);return i.data=e,i}}class _y{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e){this.fields=e,e.sort(je.comparator)}static empty(){return new jn([])}unionWith(e){let i=new Ce(je.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new jn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Ta(this.fields,e.fields,(i,a)=>i.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(o){try{return atob(o)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new V_("Invalid base64 string: "+h):h}}(e);return new qe(i)}static fromUint8Array(e){const i=function(o){let h="";for(let d=0;d<o.length;++d)h+=String.fromCharCode(o[d]);return h}(e);return new qe(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Dt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}qe.EMPTY_BYTE_STRING=new qe("");const $A=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Is(r){if(Gt(!!r),typeof r=="string"){let e=0;const i=$A.exec(r);if(Gt(!!i),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:me(r.seconds),nanos:me(r.nanos)}}function me(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Os(r){return typeof r=="string"?qe.fromBase64String(r):qe.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N_="server_timestamp",I_="__type__",O_="__previous_value__",M_="__local_write_time__";function ud(r){var e,i;return((i=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[I_])===null||i===void 0?void 0:i.stringValue)===N_}function lc(r){const e=r.mapValue.fields[O_];return ud(e)?lc(e):e}function Zl(r){const e=Is(r.mapValue.fields[M_].timestampValue);return new we(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(e,i,a,o,h,d,g,_,v){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=o,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=_,this.useFetchStreams=v}}const Yu="(default)";class $l{constructor(e,i){this.projectId=e,this.database=i||Yu}static empty(){return new $l("","")}get isDefaultDatabase(){return this.database===Yu}isEqual(e){return e instanceof $l&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x_="__type__",WA="__max__",Ou={mapValue:{}},U_="__vector__",Xu="value";function Ms(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?ud(r)?4:eS(r)?9007199254740991:tS(r)?10:11:Et()}function oi(r,e){if(r===e)return!0;const i=Ms(r);if(i!==Ms(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Zl(r).isEqual(Zl(e));case 3:return function(o,h){if(typeof o.timestampValue=="string"&&typeof h.timestampValue=="string"&&o.timestampValue.length===h.timestampValue.length)return o.timestampValue===h.timestampValue;const d=Is(o.timestampValue),g=Is(h.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,h){return Os(o.bytesValue).isEqual(Os(h.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,h){return me(o.geoPointValue.latitude)===me(h.geoPointValue.latitude)&&me(o.geoPointValue.longitude)===me(h.geoPointValue.longitude)}(r,e);case 2:return function(o,h){if("integerValue"in o&&"integerValue"in h)return me(o.integerValue)===me(h.integerValue);if("doubleValue"in o&&"doubleValue"in h){const d=me(o.doubleValue),g=me(h.doubleValue);return d===g?Ku(d)===Ku(g):isNaN(d)&&isNaN(g)}return!1}(r,e);case 9:return Ta(r.arrayValue.values||[],e.arrayValue.values||[],oi);case 10:case 11:return function(o,h){const d=o.mapValue.fields||{},g=h.mapValue.fields||{};if(yy(d)!==yy(g))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(g[_]===void 0||!oi(d[_],g[_])))return!1;return!0}(r,e);default:return Et()}}function Jl(r,e){return(r.values||[]).find(i=>oi(i,e))!==void 0}function Aa(r,e){if(r===e)return 0;const i=Ms(r),a=Ms(e);if(i!==a)return Dt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Dt(r.booleanValue,e.booleanValue);case 2:return function(h,d){const g=me(h.integerValue||h.doubleValue),_=me(d.integerValue||d.doubleValue);return g<_?-1:g>_?1:g===_?0:isNaN(g)?isNaN(_)?0:-1:1}(r,e);case 3:return vy(r.timestampValue,e.timestampValue);case 4:return vy(Zl(r),Zl(e));case 5:return jf(r.stringValue,e.stringValue);case 6:return function(h,d){const g=Os(h),_=Os(d);return g.compareTo(_)}(r.bytesValue,e.bytesValue);case 7:return function(h,d){const g=h.split("/"),_=d.split("/");for(let v=0;v<g.length&&v<_.length;v++){const S=Dt(g[v],_[v]);if(S!==0)return S}return Dt(g.length,_.length)}(r.referenceValue,e.referenceValue);case 8:return function(h,d){const g=Dt(me(h.latitude),me(d.latitude));return g!==0?g:Dt(me(h.longitude),me(d.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return Ey(r.arrayValue,e.arrayValue);case 10:return function(h,d){var g,_,v,S;const N=h.fields||{},x=d.fields||{},k=(g=N[Xu])===null||g===void 0?void 0:g.arrayValue,X=(_=x[Xu])===null||_===void 0?void 0:_.arrayValue,J=Dt(((v=k==null?void 0:k.values)===null||v===void 0?void 0:v.length)||0,((S=X==null?void 0:X.values)===null||S===void 0?void 0:S.length)||0);return J!==0?J:Ey(k,X)}(r.mapValue,e.mapValue);case 11:return function(h,d){if(h===Ou.mapValue&&d===Ou.mapValue)return 0;if(h===Ou.mapValue)return 1;if(d===Ou.mapValue)return-1;const g=h.fields||{},_=Object.keys(g),v=d.fields||{},S=Object.keys(v);_.sort(),S.sort();for(let N=0;N<_.length&&N<S.length;++N){const x=jf(_[N],S[N]);if(x!==0)return x;const k=Aa(g[_[N]],v[S[N]]);if(k!==0)return k}return Dt(_.length,S.length)}(r.mapValue,e.mapValue);default:throw Et()}}function vy(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Dt(r,e);const i=Is(r),a=Is(e),o=Dt(i.seconds,a.seconds);return o!==0?o:Dt(i.nanos,a.nanos)}function Ey(r,e){const i=r.values||[],a=e.values||[];for(let o=0;o<i.length&&o<a.length;++o){const h=Aa(i[o],a[o]);if(h)return h}return Dt(i.length,a.length)}function Sa(r){return qf(r)}function qf(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(i){const a=Is(i);return`time(${a.seconds},${a.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(i){return Os(i).toBase64()}(r.bytesValue):"referenceValue"in r?function(i){return _t.fromName(i).toString()}(r.referenceValue):"geoPointValue"in r?function(i){return`geo(${i.latitude},${i.longitude})`}(r.geoPointValue):"arrayValue"in r?function(i){let a="[",o=!0;for(const h of i.values||[])o?o=!1:a+=",",a+=qf(h);return a+"]"}(r.arrayValue):"mapValue"in r?function(i){const a=Object.keys(i.fields||{}).sort();let o="{",h=!0;for(const d of a)h?h=!1:o+=",",o+=`${d}:${qf(i.fields[d])}`;return o+"}"}(r.mapValue):Et()}function Lu(r){switch(Ms(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=lc(r);return e?16+Lu(e):16;case 5:return 2*r.stringValue.length;case 6:return Os(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((o,h)=>o+Lu(h),0)}(r.arrayValue);case 10:case 11:return function(a){let o=0;return Ls(a.fields,(h,d)=>{o+=h.length+Lu(d)}),o}(r.mapValue);default:throw Et()}}function Hf(r){return!!r&&"integerValue"in r}function cd(r){return!!r&&"arrayValue"in r}function Ty(r){return!!r&&"nullValue"in r}function Ay(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function zu(r){return!!r&&"mapValue"in r}function tS(r){var e,i;return((i=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[x_])===null||i===void 0?void 0:i.stringValue)===U_}function Hl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Ls(r.mapValue.fields,(i,a)=>e.mapValue.fields[i]=Hl(a)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Hl(r.arrayValue.values[i]);return e}return Object.assign({},r)}function eS(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===WA}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.value=e}static empty(){return new pn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!zu(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Hl(i)}setAll(e){let i=je.emptyPath(),a={},o=[];e.forEach((d,g)=>{if(!i.isImmediateParentOf(g)){const _=this.getFieldsMap(i);this.applyChanges(_,a,o),a={},o=[],i=g.popLast()}d?a[g.lastSegment()]=Hl(d):o.push(g.lastSegment())});const h=this.getFieldsMap(i);this.applyChanges(h,a,o)}delete(e){const i=this.field(e.popLast());zu(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return oi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=i.mapValue.fields[e.get(a)];zu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,a){Ls(i,(o,h)=>e[o]=h);for(const o of a)delete e[o]}clone(){return new pn(Hl(this.value))}}function L_(r){const e=[];return Ls(r.fields,(i,a)=>{const o=new je([i]);if(zu(a)){const h=L_(a.mapValue).fields;if(h.length===0)e.push(o);else for(const d of h)e.push(o.child(d))}else e.push(o)}),new jn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e,i,a,o,h,d,g){this.key=e,this.documentType=i,this.version=a,this.readTime=o,this.createTime=h,this.data=d,this.documentState=g}static newInvalidDocument(e){return new Ye(e,0,Tt.min(),Tt.min(),Tt.min(),pn.empty(),0)}static newFoundDocument(e,i,a,o){return new Ye(e,1,i,Tt.min(),a,o,0)}static newNoDocument(e,i){return new Ye(e,2,i,Tt.min(),Tt.min(),pn.empty(),0)}static newUnknownDocument(e,i){return new Ye(e,3,i,Tt.min(),Tt.min(),pn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=pn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Tt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ye&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ye(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{constructor(e,i){this.position=e,this.inclusive=i}}function Sy(r,e,i){let a=0;for(let o=0;o<r.position.length;o++){const h=e[o],d=r.position[o];if(h.field.isKeyField()?a=_t.comparator(_t.fromName(d.referenceValue),i.key):a=Aa(d,i.data.field(h.field)),h.dir==="desc"&&(a*=-1),a!==0)break}return a}function by(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!oi(r.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u{constructor(e,i="asc"){this.field=e,this.dir=i}}function nS(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_{}class Re extends z_{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new sS(e,i,a):i==="array-contains"?new lS(e,a):i==="in"?new oS(e,a):i==="not-in"?new uS(e,a):i==="array-contains-any"?new cS(e,a):new Re(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new rS(e,a):new aS(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&this.matchesComparison(Aa(i,this.value)):i!==null&&Ms(this.value)===Ms(i)&&this.matchesComparison(Aa(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Et()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ui extends z_{constructor(e,i){super(),this.filters=e,this.op=i,this.ce=null}static create(e,i){return new ui(e,i)}matches(e){return B_(this)?this.filters.find(i=>!i.matches(e))===void 0:this.filters.find(i=>i.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function B_(r){return r.op==="and"}function P_(r){return iS(r)&&B_(r)}function iS(r){for(const e of r.filters)if(e instanceof ui)return!1;return!0}function Gf(r){if(r instanceof Re)return r.field.canonicalString()+r.op.toString()+Sa(r.value);if(P_(r))return r.filters.map(e=>Gf(e)).join(",");{const e=r.filters.map(i=>Gf(i)).join(",");return`${r.op}(${e})`}}function k_(r,e){return r instanceof Re?function(a,o){return o instanceof Re&&a.op===o.op&&a.field.isEqual(o.field)&&oi(a.value,o.value)}(r,e):r instanceof ui?function(a,o){return o instanceof ui&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce((h,d,g)=>h&&k_(d,o.filters[g]),!0):!1}(r,e):void Et()}function j_(r){return r instanceof Re?function(i){return`${i.field.canonicalString()} ${i.op} ${Sa(i.value)}`}(r):r instanceof ui?function(i){return i.op.toString()+" {"+i.getFilters().map(j_).join(" ,")+"}"}(r):"Filter"}class sS extends Re{constructor(e,i,a){super(e,i,a),this.key=_t.fromName(a.referenceValue)}matches(e){const i=_t.comparator(e.key,this.key);return this.matchesComparison(i)}}class rS extends Re{constructor(e,i){super(e,"in",i),this.keys=q_("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class aS extends Re{constructor(e,i){super(e,"not-in",i),this.keys=q_("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function q_(r,e){var i;return(((i=e.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(a=>_t.fromName(a.referenceValue))}class lS extends Re{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return cd(i)&&Jl(i.arrayValue,this.value)}}class oS extends Re{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Jl(this.value.arrayValue,i)}}class uS extends Re{constructor(e,i){super(e,"not-in",i)}matches(e){if(Jl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&!Jl(this.value.arrayValue,i)}}class cS extends Re{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!cd(i)||!i.arrayValue.values)&&i.arrayValue.values.some(a=>Jl(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(e,i=null,a=[],o=[],h=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=o,this.limit=h,this.startAt=d,this.endAt=g,this.le=null}}function Ry(r,e=null,i=[],a=[],o=null,h=null,d=null){return new hS(r,e,i,a,o,h,d)}function hd(r){const e=St(r);if(e.le===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(a=>Gf(a)).join(","),i+="|ob:",i+=e.orderBy.map(a=>function(h){return h.field.canonicalString()+h.dir}(a)).join(","),ac(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(a=>Sa(a)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(a=>Sa(a)).join(",")),e.le=i}return e.le}function fd(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!nS(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!k_(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!by(r.startAt,e.startAt)&&by(r.endAt,e.endAt)}function Qf(r){return _t.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(e,i=null,a=[],o=[],h=null,d="F",g=null,_=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=o,this.limit=h,this.limitType=d,this.startAt=g,this.endAt=_,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function fS(r,e,i,a,o,h,d,g){return new oc(r,e,i,a,o,h,d,g)}function dd(r){return new oc(r)}function wy(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function dS(r){return r.collectionGroup!==null}function Gl(r){const e=St(r);if(e.he===null){e.he=[];const i=new Set;for(const h of e.explicitOrderBy)e.he.push(h),i.add(h.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Ce(je.comparator);return d.filters.forEach(_=>{_.getFlattenedFilters().forEach(v=>{v.isInequality()&&(g=g.add(v.field))})}),g})(e).forEach(h=>{i.has(h.canonicalString())||h.isKeyField()||e.he.push(new $u(h,a))}),i.has(je.keyField().canonicalString())||e.he.push(new $u(je.keyField(),a))}return e.he}function ai(r){const e=St(r);return e.Pe||(e.Pe=mS(e,Gl(r))),e.Pe}function mS(r,e){if(r.limitType==="F")return Ry(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const h=o.dir==="desc"?"asc":"desc";return new $u(o.field,h)});const i=r.endAt?new Zu(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new Zu(r.startAt.position,r.startAt.inclusive):null;return Ry(r.path,r.collectionGroup,e,r.filters,r.limit,i,a)}}function Ff(r,e,i){return new oc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function uc(r,e){return fd(ai(r),ai(e))&&r.limitType===e.limitType}function H_(r){return`${hd(ai(r))}|lt:${r.limitType}`}function ga(r){return`Query(target=${function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map(o=>j_(o)).join(", ")}]`),ac(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map(o=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(o)).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map(o=>Sa(o)).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map(o=>Sa(o)).join(",")),`Target(${a})`}(ai(r))}; limitType=${r.limitType})`}function cc(r,e){return e.isFoundDocument()&&function(a,o){const h=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(h):_t.isDocumentKey(a.path)?a.path.isEqual(h):a.path.isImmediateParentOf(h)}(r,e)&&function(a,o){for(const h of Gl(a))if(!h.field.isKeyField()&&o.data.field(h.field)===null)return!1;return!0}(r,e)&&function(a,o){for(const h of a.filters)if(!h.matches(o))return!1;return!0}(r,e)&&function(a,o){return!(a.startAt&&!function(d,g,_){const v=Sy(d,g,_);return d.inclusive?v<=0:v<0}(a.startAt,Gl(a),o)||a.endAt&&!function(d,g,_){const v=Sy(d,g,_);return d.inclusive?v>=0:v>0}(a.endAt,Gl(a),o))}(r,e)}function gS(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function G_(r){return(e,i)=>{let a=!1;for(const o of Gl(r)){const h=pS(o,e,i);if(h!==0)return h;a=a||o.field.isKeyField()}return 0}}function pS(r,e,i){const a=r.field.isKeyField()?_t.comparator(e.key,i.key):function(h,d,g){const _=d.data.field(h),v=g.data.field(h);return _!==null&&v!==null?Aa(_,v):Et()}(r.field,e,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return Et()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[o,h]of a)if(this.equalsFn(o,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let h=0;h<o.length;h++)if(this.equalsFn(o[h][0],e))return void(o[h]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[i]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ls(this.inner,(i,a)=>{for(const[o,h]of a)e(o,h)})}isEmpty(){return D_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yS=new se(_t.comparator);function ji(){return yS}const Q_=new se(_t.comparator);function kl(...r){let e=Q_;for(const i of r)e=e.insert(i.key,i);return e}function F_(r){let e=Q_;return r.forEach((i,a)=>e=e.insert(i,a.overlayedDocument)),e}function pr(){return Ql()}function K_(){return Ql()}function Ql(){return new Er(r=>r.toString(),(r,e)=>r.isEqual(e))}const _S=new se(_t.comparator),vS=new Ce(_t.comparator);function It(...r){let e=vS;for(const i of r)e=e.add(i);return e}const ES=new Ce(Dt);function TS(){return ES}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function md(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ku(e)?"-0":e}}function Y_(r){return{integerValue:""+r}}function AS(r,e){return YA(e)?Y_(e):md(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(){this._=void 0}}function SS(r,e,i){return r instanceof Ju?function(o,h){const d={fields:{[I_]:{stringValue:N_},[M_]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return h&&ud(h)&&(h=lc(h)),h&&(d.fields[O_]=h),{mapValue:d}}(i,e):r instanceof Wl?Z_(r,e):r instanceof to?$_(r,e):function(o,h){const d=X_(o,h),g=Cy(d)+Cy(o.Ie);return Hf(d)&&Hf(o.Ie)?Y_(g):md(o.serializer,g)}(r,e)}function bS(r,e,i){return r instanceof Wl?Z_(r,e):r instanceof to?$_(r,e):i}function X_(r,e){return r instanceof Wu?function(a){return Hf(a)||function(h){return!!h&&"doubleValue"in h}(a)}(e)?e:{integerValue:0}:null}class Ju extends hc{}class Wl extends hc{constructor(e){super(),this.elements=e}}function Z_(r,e){const i=J_(e);for(const a of r.elements)i.some(o=>oi(o,a))||i.push(a);return{arrayValue:{values:i}}}class to extends hc{constructor(e){super(),this.elements=e}}function $_(r,e){let i=J_(e);for(const a of r.elements)i=i.filter(o=>!oi(o,a));return{arrayValue:{values:i}}}class Wu extends hc{constructor(e,i){super(),this.serializer=e,this.Ie=i}}function Cy(r){return me(r.integerValue||r.doubleValue)}function J_(r){return cd(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function RS(r,e){return r.field.isEqual(e.field)&&function(a,o){return a instanceof Wl&&o instanceof Wl||a instanceof to&&o instanceof to?Ta(a.elements,o.elements,oi):a instanceof Wu&&o instanceof Wu?oi(a.Ie,o.Ie):a instanceof Ju&&o instanceof Ju}(r.transform,e.transform)}class wS{constructor(e,i){this.version=e,this.transformResults=i}}class Bi{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Bi}static exists(e){return new Bi(void 0,e)}static updateTime(e){return new Bi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Bu(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class fc{}function W_(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new ev(r.key,Bi.none()):new dc(r.key,r.data,Bi.none());{const i=r.data,a=pn.empty();let o=new Ce(je.comparator);for(let h of e.fields)if(!o.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?a.delete(h):a.set(h,d),o=o.add(h)}return new Tr(r.key,a,new jn(o.toArray()),Bi.none())}}function CS(r,e,i){r instanceof dc?function(o,h,d){const g=o.value.clone(),_=Vy(o.fieldTransforms,h,d.transformResults);g.setAll(_),h.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(r,e,i):r instanceof Tr?function(o,h,d){if(!Bu(o.precondition,h))return void h.convertToUnknownDocument(d.version);const g=Vy(o.fieldTransforms,h,d.transformResults),_=h.data;_.setAll(tv(o)),_.setAll(g),h.convertToFoundDocument(d.version,_).setHasCommittedMutations()}(r,e,i):function(o,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,i)}function Fl(r,e,i,a){return r instanceof dc?function(h,d,g,_){if(!Bu(h.precondition,d))return g;const v=h.value.clone(),S=Ny(h.fieldTransforms,_,d);return v.setAll(S),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null}(r,e,i,a):r instanceof Tr?function(h,d,g,_){if(!Bu(h.precondition,d))return g;const v=Ny(h.fieldTransforms,_,d),S=d.data;return S.setAll(tv(h)),S.setAll(v),d.convertToFoundDocument(d.version,S).setHasLocalMutations(),g===null?null:g.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(N=>N.field))}(r,e,i,a):function(h,d,g){return Bu(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g}(r,e,i)}function DS(r,e){let i=null;for(const a of r.fieldTransforms){const o=e.data.field(a.field),h=X_(a.transform,o||null);h!=null&&(i===null&&(i=pn.empty()),i.set(a.field,h))}return i||null}function Dy(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&Ta(a,o,(h,d)=>RS(h,d))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class dc extends fc{constructor(e,i,a,o=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Tr extends fc{constructor(e,i,a,o,h=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=o,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function tv(r){const e=new Map;return r.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const a=r.data.field(i);e.set(i,a)}}),e}function Vy(r,e,i){const a=new Map;Gt(r.length===i.length);for(let o=0;o<i.length;o++){const h=r[o],d=h.transform,g=e.data.field(h.field);a.set(h.field,bS(d,g,i[o]))}return a}function Ny(r,e,i){const a=new Map;for(const o of r){const h=o.transform,d=i.data.field(o.field);a.set(o.field,SS(h,d,e))}return a}class ev extends fc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class VS extends fc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(e,i,a,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const h=this.mutations[o];h.key.isEqual(e.key)&&CS(h,e,a[o])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=Fl(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=Fl(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=K_();return this.mutations.forEach(o=>{const h=e.get(o.key),d=h.overlayedDocument;let g=this.applyToLocalView(d,h.mutatedFields);g=i.has(o.key)?null:g;const _=W_(d,g);_!==null&&a.set(o.key,_),d.isValidDocument()||d.convertToNoDocument(Tt.min())}),a}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),It())}isEqual(e){return this.batchId===e.batchId&&Ta(this.mutations,e.mutations,(i,a)=>Dy(i,a))&&Ta(this.baseMutations,e.baseMutations,(i,a)=>Dy(i,a))}}class gd{constructor(e,i,a,o){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=o}static from(e,i,a){Gt(e.mutations.length===a.length);let o=function(){return _S}();const h=e.mutations;for(let d=0;d<h.length;d++)o=o.insert(h[d].key,a[d].version);return new gd(e,i,a,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _e,zt;function MS(r){switch(r){case $.OK:return Et();case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return Et()}}function nv(r){if(r===void 0)return ki("GRPC error has no .code"),$.UNKNOWN;switch(r){case _e.OK:return $.OK;case _e.CANCELLED:return $.CANCELLED;case _e.UNKNOWN:return $.UNKNOWN;case _e.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case _e.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case _e.INTERNAL:return $.INTERNAL;case _e.UNAVAILABLE:return $.UNAVAILABLE;case _e.UNAUTHENTICATED:return $.UNAUTHENTICATED;case _e.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case _e.NOT_FOUND:return $.NOT_FOUND;case _e.ALREADY_EXISTS:return $.ALREADY_EXISTS;case _e.PERMISSION_DENIED:return $.PERMISSION_DENIED;case _e.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case _e.ABORTED:return $.ABORTED;case _e.OUT_OF_RANGE:return $.OUT_OF_RANGE;case _e.UNIMPLEMENTED:return $.UNIMPLEMENTED;case _e.DATA_LOSS:return $.DATA_LOSS;default:return Et()}}(zt=_e||(_e={}))[zt.OK=0]="OK",zt[zt.CANCELLED=1]="CANCELLED",zt[zt.UNKNOWN=2]="UNKNOWN",zt[zt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zt[zt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zt[zt.NOT_FOUND=5]="NOT_FOUND",zt[zt.ALREADY_EXISTS=6]="ALREADY_EXISTS",zt[zt.PERMISSION_DENIED=7]="PERMISSION_DENIED",zt[zt.UNAUTHENTICATED=16]="UNAUTHENTICATED",zt[zt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zt[zt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zt[zt.ABORTED=10]="ABORTED",zt[zt.OUT_OF_RANGE=11]="OUT_OF_RANGE",zt[zt.UNIMPLEMENTED=12]="UNIMPLEMENTED",zt[zt.INTERNAL=13]="INTERNAL",zt[zt.UNAVAILABLE=14]="UNAVAILABLE",zt[zt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xS=new Ds([4294967295,4294967295],0);function Iy(r){const e=R_().encode(r),i=new __;return i.update(e),new Uint8Array(i.digest())}function Oy(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new Ds([i,a],0),new Ds([o,h],0)]}class pd{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new jl(`Invalid padding: ${i}`);if(a<0)throw new jl(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new jl(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new jl(`Invalid padding when bitmap length is 0: ${i}`);this.Ee=8*e.length-i,this.de=Ds.fromNumber(this.Ee)}Ae(e,i,a){let o=e.add(i.multiply(Ds.fromNumber(a)));return o.compare(xS)===1&&(o=new Ds([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const i=Iy(e),[a,o]=Oy(i);for(let h=0;h<this.hashCount;h++){const d=this.Ae(a,o,h);if(!this.Re(d))return!1}return!0}static create(e,i,a){const o=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new pd(h,o,i);return a.forEach(g=>d.insert(g)),d}insert(e){if(this.Ee===0)return;const i=Iy(e),[a,o]=Oy(i);for(let h=0;h<this.hashCount;h++){const d=this.Ae(a,o,h);this.Ve(d)}}Ve(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class jl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(e,i,a,o,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const o=new Map;return o.set(e,io.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new mc(Tt.min(),o,new se(Dt),ji(),It())}}class io{constructor(e,i,a,o,h){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new io(a,i,It(),It(),It())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu{constructor(e,i,a,o){this.me=e,this.removedTargetIds=i,this.key=a,this.fe=o}}class iv{constructor(e,i){this.targetId=e,this.ge=i}}class sv{constructor(e,i,a=qe.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=o}}class My{constructor(){this.pe=0,this.ye=xy(),this.we=qe.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=It(),i=It(),a=It();return this.ye.forEach((o,h)=>{switch(h){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:a=a.add(o);break;default:Et()}}),new io(this.we,this.Se,e,i,a)}Me(){this.be=!1,this.ye=xy()}xe(e,i){this.be=!0,this.ye=this.ye.insert(e,i)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Gt(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class US{constructor(e){this.ke=e,this.qe=new Map,this.Qe=ji(),this.$e=Mu(),this.Ue=Mu(),this.Ke=new se(Dt)}We(e){for(const i of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(i,e.fe):this.ze(i,e.key,e.fe);for(const i of e.removedTargetIds)this.ze(i,e.key,e.fe)}je(e){this.forEachTarget(e,i=>{const a=this.He(i);switch(e.state){case 0:this.Je(i)&&a.Ce(e.resumeToken);break;case 1:a.Be(),a.De||a.Me(),a.Ce(e.resumeToken);break;case 2:a.Be(),a.De||this.removeTarget(i);break;case 3:this.Je(i)&&(a.Le(),a.Ce(e.resumeToken));break;case 4:this.Je(i)&&(this.Ye(i),a.Ce(e.resumeToken));break;default:Et()}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.qe.forEach((a,o)=>{this.Je(o)&&i(o)})}Ze(e){const i=e.targetId,a=e.ge.count,o=this.Xe(i);if(o){const h=o.target;if(Qf(h))if(a===0){const d=new _t(h.path);this.ze(i,d,Ye.newNoDocument(d,Tt.min()))}else Gt(a===1);else{const d=this.et(i);if(d!==a){const g=this.tt(e),_=g?this.nt(g,e,d):1;if(_!==0){this.Ye(i);const v=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(i,v)}}}}}tt(e){const i=e.ge.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:h=0}=i;let d,g;try{d=Os(a).toUint8Array()}catch(_){if(_ instanceof V_)return Ea("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{g=new pd(d,o,h)}catch(_){return Ea(_ instanceof jl?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return g.Ee===0?null:g}nt(e,i,a){return i.ge.count===a-this.st(e,i.targetId)?0:2}st(e,i){const a=this.ke.getRemoteKeysForTarget(i);let o=0;return a.forEach(h=>{const d=this.ke.it(),g=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(g)||(this.ze(i,h,null),o++)}),o}ot(e){const i=new Map;this.qe.forEach((h,d)=>{const g=this.Xe(d);if(g){if(h.current&&Qf(g.target)){const _=new _t(g.target.path);this._t(_).has(d)||this.ut(d,_)||this.ze(d,_,Ye.newNoDocument(_,e))}h.ve&&(i.set(d,h.Fe()),h.Me())}});let a=It();this.Ue.forEach((h,d)=>{let g=!0;d.forEachWhile(_=>{const v=this.Xe(_);return!v||v.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(a=a.add(h))}),this.Qe.forEach((h,d)=>d.setReadTime(e));const o=new mc(e,i,this.Ke,this.Qe,a);return this.Qe=ji(),this.$e=Mu(),this.Ue=Mu(),this.Ke=new se(Dt),o}Ge(e,i){if(!this.Je(e))return;const a=this.ut(e,i.key)?2:0;this.He(e).xe(i.key,a),this.Qe=this.Qe.insert(i.key,i),this.$e=this.$e.insert(i.key,this._t(i.key).add(e)),this.Ue=this.Ue.insert(i.key,this.ct(i.key).add(e))}ze(e,i,a){if(!this.Je(e))return;const o=this.He(e);this.ut(e,i)?o.xe(i,1):o.Oe(i),this.Ue=this.Ue.insert(i,this.ct(i).delete(e)),this.Ue=this.Ue.insert(i,this.ct(i).add(e)),a&&(this.Qe=this.Qe.insert(i,a))}removeTarget(e){this.qe.delete(e)}et(e){const i=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let i=this.qe.get(e);return i||(i=new My,this.qe.set(e,i)),i}ct(e){let i=this.Ue.get(e);return i||(i=new Ce(Dt),this.Ue=this.Ue.insert(e,i)),i}_t(e){let i=this.$e.get(e);return i||(i=new Ce(Dt),this.$e=this.$e.insert(e,i)),i}Je(e){const i=this.Xe(e)!==null;return i||st("WatchChangeAggregator","Detected inactive target",e),i}Xe(e){const i=this.qe.get(e);return i&&i.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new My),this.ke.getRemoteKeysForTarget(e).forEach(i=>{this.ze(e,i,null)})}ut(e,i){return this.ke.getRemoteKeysForTarget(e).has(i)}}function Mu(){return new se(_t.comparator)}function xy(){return new se(_t.comparator)}const LS={asc:"ASCENDING",desc:"DESCENDING"},zS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},BS={and:"AND",or:"OR"};class PS{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Kf(r,e){return r.useProto3Json||ac(e)?e:{value:e}}function tc(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function rv(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function kS(r,e){return tc(r,e.toTimestamp())}function li(r){return Gt(!!r),Tt.fromTimestamp(function(i){const a=Is(i);return new we(a.seconds,a.nanos)}(r))}function yd(r,e){return Yf(r,e).canonicalString()}function Yf(r,e){const i=function(o){return new he(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?i:i.child(e)}function av(r){const e=he.fromString(r);return Gt(hv(e)),e}function Xf(r,e){return yd(r.databaseId,e.path)}function Nf(r,e){const i=av(e);if(i.get(1)!==r.databaseId.projectId)throw new yt($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new yt($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new _t(ov(i))}function lv(r,e){return yd(r.databaseId,e)}function jS(r){const e=av(r);return e.length===4?he.emptyPath():ov(e)}function Zf(r){return new he(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function ov(r){return Gt(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function Uy(r,e,i){return{name:Xf(r,e),fields:i.value.mapValue.fields}}function qS(r,e){let i;if("targetChange"in e){e.targetChange;const a=function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:Et()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],h=function(v,S){return v.useProto3Json?(Gt(S===void 0||typeof S=="string"),qe.fromBase64String(S||"")):(Gt(S===void 0||S instanceof Buffer||S instanceof Uint8Array),qe.fromUint8Array(S||new Uint8Array))}(r,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&function(v){const S=v.code===void 0?$.UNKNOWN:nv(v.code);return new yt(S,v.message||"")}(d);i=new sv(a,o,h,g||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=Nf(r,a.document.name),h=li(a.document.updateTime),d=a.document.createTime?li(a.document.createTime):Tt.min(),g=new pn({mapValue:{fields:a.document.fields}}),_=Ye.newFoundDocument(o,h,d,g),v=a.targetIds||[],S=a.removedTargetIds||[];i=new Pu(v,S,_.key,_)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=Nf(r,a.document),h=a.readTime?li(a.readTime):Tt.min(),d=Ye.newNoDocument(o,h),g=a.removedTargetIds||[];i=new Pu([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=Nf(r,a.document),h=a.removedTargetIds||[];i=new Pu([],h,o,null)}else{if(!("filter"in e))return Et();{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:h}=a,d=new OS(o,h),g=a.targetId;i=new iv(g,d)}}return i}function HS(r,e){let i;if(e instanceof dc)i={update:Uy(r,e.key,e.value)};else if(e instanceof ev)i={delete:Xf(r,e.key)};else if(e instanceof Tr)i={update:Uy(r,e.key,e.data),updateMask:JS(e.fieldMask)};else{if(!(e instanceof VS))return Et();i={verify:Xf(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(a=>function(h,d){const g=d.transform;if(g instanceof Ju)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Wl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof to)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Wu)return{fieldPath:d.field.canonicalString(),increment:g.Ie};throw Et()}(0,a))),e.precondition.isNone||(i.currentDocument=function(o,h){return h.updateTime!==void 0?{updateTime:kS(o,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:Et()}(r,e.precondition)),i}function GS(r,e){return r&&r.length>0?(Gt(e!==void 0),r.map(i=>function(o,h){let d=o.updateTime?li(o.updateTime):li(h);return d.isEqual(Tt.min())&&(d=li(h)),new wS(d,o.transformResults||[])}(i,e))):[]}function QS(r,e){return{documents:[lv(r,e.path)]}}function FS(r,e){const i={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=lv(r,o);const h=function(v){if(v.length!==0)return cv(ui.create(v,"and"))}(e.filters);h&&(i.structuredQuery.where=h);const d=function(v){if(v.length!==0)return v.map(S=>function(x){return{field:pa(x.field),direction:XS(x.dir)}}(S))}(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=Kf(r,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=function(v){return{before:v.inclusive,values:v.position}}(e.startAt)),e.endAt&&(i.structuredQuery.endAt=function(v){return{before:!v.inclusive,values:v.position}}(e.endAt)),{ht:i,parent:o}}function KS(r){let e=jS(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let o=null;if(a>0){Gt(a===1);const S=i.from[0];S.allDescendants?o=S.collectionId:e=e.child(S.collectionId)}let h=[];i.where&&(h=function(N){const x=uv(N);return x instanceof ui&&P_(x)?x.getFilters():[x]}(i.where));let d=[];i.orderBy&&(d=function(N){return N.map(x=>function(X){return new $u(ya(X.field),function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(X.direction))}(x))}(i.orderBy));let g=null;i.limit&&(g=function(N){let x;return x=typeof N=="object"?N.value:N,ac(x)?null:x}(i.limit));let _=null;i.startAt&&(_=function(N){const x=!!N.before,k=N.values||[];return new Zu(k,x)}(i.startAt));let v=null;return i.endAt&&(v=function(N){const x=!N.before,k=N.values||[];return new Zu(k,x)}(i.endAt)),fS(e,o,d,h,g,"F",_,v)}function YS(r,e){const i=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Et()}}(e.purpose);return i==null?null:{"goog-listen-tags":i}}function uv(r){return r.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=ya(i.unaryFilter.field);return Re.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=ya(i.unaryFilter.field);return Re.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=ya(i.unaryFilter.field);return Re.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=ya(i.unaryFilter.field);return Re.create(d,"!=",{nullValue:"NULL_VALUE"});default:return Et()}}(r):r.fieldFilter!==void 0?function(i){return Re.create(ya(i.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Et()}}(i.fieldFilter.op),i.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(i){return ui.create(i.compositeFilter.filters.map(a=>uv(a)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Et()}}(i.compositeFilter.op))}(r):Et()}function XS(r){return LS[r]}function ZS(r){return zS[r]}function $S(r){return BS[r]}function pa(r){return{fieldPath:r.canonicalString()}}function ya(r){return je.fromServerFormat(r.fieldPath)}function cv(r){return r instanceof Re?function(i){if(i.op==="=="){if(Ay(i.value))return{unaryFilter:{field:pa(i.field),op:"IS_NAN"}};if(Ty(i.value))return{unaryFilter:{field:pa(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Ay(i.value))return{unaryFilter:{field:pa(i.field),op:"IS_NOT_NAN"}};if(Ty(i.value))return{unaryFilter:{field:pa(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:pa(i.field),op:ZS(i.op),value:i.value}}}(r):r instanceof ui?function(i){const a=i.getFilters().map(o=>cv(o));return a.length===1?a[0]:{compositeFilter:{op:$S(i.op),filters:a}}}(r):Et()}function JS(r){const e=[];return r.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function hv(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(e,i,a,o,h=Tt.min(),d=Tt.min(),g=qe.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=_}withSequenceNumber(e){return new Rs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Rs(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Rs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Rs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{constructor(e){this.Tt=e}}function t1(r){const e=KS({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Ff(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1{constructor(){this.Tn=new n1}addToCollectionParentIndex(e,i){return this.Tn.add(i),F.resolve()}getCollectionParents(e,i){return F.resolve(this.Tn.getEntries(i))}addFieldIndex(e,i){return F.resolve()}deleteFieldIndex(e,i){return F.resolve()}deleteAllFieldIndexes(e){return F.resolve()}createTargetIndexes(e,i){return F.resolve()}getDocumentsMatchingTarget(e,i){return F.resolve(null)}getIndexType(e,i){return F.resolve(0)}getFieldIndexes(e,i){return F.resolve([])}getNextCollectionGroupToUpdate(e){return F.resolve(null)}getMinOffset(e,i){return F.resolve(Ns.min())}getMinOffsetFromCollectionGroup(e,i){return F.resolve(Ns.min())}updateCollectionGroup(e,i,a){return F.resolve()}updateIndexEntries(e,i){return F.resolve()}}class n1{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i]||new Ce(he.comparator),h=!o.has(a);return this.index[i]=o.add(a),h}has(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i];return o&&o.has(a)}getEntries(e){return(this.index[e]||new Ce(he.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ly={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},fv=41943040;class ln{static withCacheSize(e){return new ln(e,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ln.DEFAULT_COLLECTION_PERCENTILE=10,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ln.DEFAULT=new ln(fv,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ln.DISABLED=new ln(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new ba(0)}static Kn(){return new ba(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zy="LruGarbageCollector",i1=1048576;function By([r,e],[i,a]){const o=Dt(r,i);return o===0?Dt(e,a):o}class s1{constructor(e){this.Hn=e,this.buffer=new Ce(By),this.Jn=0}Yn(){return++this.Jn}Zn(e){const i=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();By(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class r1{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){st(zy,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Na(i)?st(zy,"Ignoring IndexedDB error during garbage collection: ",i):await Va(i)}await this.er(3e5)})}}class a1{constructor(e,i){this.tr=e,this.params=i}calculateTargetCount(e,i){return this.tr.nr(e).next(a=>Math.floor(i/100*a))}nthSequenceNumber(e,i){if(i===0)return F.resolve(rc.ae);const a=new s1(i);return this.tr.forEachTarget(e,o=>a.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>a.Zn(o))).next(()=>a.maxValue)}removeTargets(e,i,a){return this.tr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.tr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(st("LruGarbageCollector","Garbage collection skipped; disabled"),F.resolve(Ly)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(st("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ly):this.ir(e,i))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,i){let a,o,h,d,g,_,v;const S=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(N=>(N>this.params.maximumSequenceNumbersToCollect?(st("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${N}`),o=this.params.maximumSequenceNumbersToCollect):o=N,d=Date.now(),this.nthSequenceNumber(e,o))).next(N=>(a=N,g=Date.now(),this.removeTargets(e,a,i))).next(N=>(h=N,_=Date.now(),this.removeOrphanedDocuments(e,a))).next(N=>(v=Date.now(),ma()<=Bt.DEBUG&&st("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-S}ms
	Determined least recently used ${o} in `+(g-d)+`ms
	Removed ${h} targets in `+(_-g)+`ms
	Removed ${N} documents in `+(v-_)+`ms
Total Duration: ${v-S}ms`),F.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:h,documentsRemoved:N})))}}function l1(r,e){return new a1(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{constructor(){this.changes=new Er(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Ye.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?F.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(e,i,a,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next(o=>(a=o,this.remoteDocumentCache.getEntry(e,i))).next(o=>(a!==null&&Fl(a.mutation,o,jn.empty(),we.now()),o))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(a=>this.getLocalViewOfDocuments(e,a,It()).next(()=>a))}getLocalViewOfDocuments(e,i,a=It()){const o=pr();return this.populateOverlays(e,o,i).next(()=>this.computeViews(e,i,o,a).next(h=>{let d=kl();return h.forEach((g,_)=>{d=d.insert(g,_.overlayedDocument)}),d}))}getOverlayedDocuments(e,i){const a=pr();return this.populateOverlays(e,a,i).next(()=>this.computeViews(e,i,a,It()))}populateOverlays(e,i,a){const o=[];return a.forEach(h=>{i.has(h)||o.push(h)}),this.documentOverlayCache.getOverlays(e,o).next(h=>{h.forEach((d,g)=>{i.set(d,g)})})}computeViews(e,i,a,o){let h=ji();const d=Ql(),g=function(){return Ql()}();return i.forEach((_,v)=>{const S=a.get(v.key);o.has(v.key)&&(S===void 0||S.mutation instanceof Tr)?h=h.insert(v.key,v):S!==void 0?(d.set(v.key,S.mutation.getFieldMask()),Fl(S.mutation,v,S.mutation.getFieldMask(),we.now())):d.set(v.key,jn.empty())}),this.recalculateAndSaveOverlays(e,h).next(_=>(_.forEach((v,S)=>d.set(v,S)),i.forEach((v,S)=>{var N;return g.set(v,new u1(S,(N=d.get(v))!==null&&N!==void 0?N:null))}),g))}recalculateAndSaveOverlays(e,i){const a=Ql();let o=new se((d,g)=>d-g),h=It();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(d=>{for(const g of d)g.keys().forEach(_=>{const v=i.get(_);if(v===null)return;let S=a.get(_)||jn.empty();S=g.applyToLocalView(v,S),a.set(_,S);const N=(o.get(g.batchId)||It()).add(_);o=o.insert(g.batchId,N)})}).next(()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),v=_.key,S=_.value,N=K_();S.forEach(x=>{if(!h.has(x)){const k=W_(i.get(x),a.get(x));k!==null&&N.set(x,k),h=h.add(x)}}),d.push(this.documentOverlayCache.saveOverlays(e,v,N))}return F.waitFor(d)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,i,a,o){return function(d){return _t.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):dS(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,o):this.getDocumentsMatchingCollectionQuery(e,i,a,o)}getNextDocuments(e,i,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,o).next(h=>{const d=o-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,o-h.size):F.resolve(pr());let g=Xl,_=h;return d.next(v=>F.forEach(v,(S,N)=>(g<N.largestBatchId&&(g=N.largestBatchId),h.get(S)?F.resolve():this.remoteDocumentCache.getEntry(e,S).next(x=>{_=_.insert(S,x)}))).next(()=>this.populateOverlays(e,v,h)).next(()=>this.computeViews(e,_,v,It())).next(S=>({batchId:g,changes:F_(S)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new _t(i)).next(a=>{let o=kl();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o})}getDocumentsMatchingCollectionGroupQuery(e,i,a,o){const h=i.collectionGroup;let d=kl();return this.indexManager.getCollectionParents(e,h).next(g=>F.forEach(g,_=>{const v=function(N,x){return new oc(x,null,N.explicitOrderBy.slice(),N.filters.slice(),N.limit,N.limitType,N.startAt,N.endAt)}(i,_.child(h));return this.getDocumentsMatchingCollectionQuery(e,v,a,o).next(S=>{S.forEach((N,x)=>{d=d.insert(N,x)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,i,a,o){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next(d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,h,o))).next(d=>{h.forEach((_,v)=>{const S=v.getKey();d.get(S)===null&&(d=d.insert(S,Ye.newInvalidDocument(S)))});let g=kl();return d.forEach((_,v)=>{const S=h.get(_);S!==void 0&&Fl(S.mutation,v,jn.empty(),we.now()),cc(i,v)&&(g=g.insert(_,v))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,i){return F.resolve(this.dr.get(i))}saveBundleMetadata(e,i){return this.dr.set(i.id,function(o){return{id:o.id,version:o.version,createTime:li(o.createTime)}}(i)),F.resolve()}getNamedQuery(e,i){return F.resolve(this.Ar.get(i))}saveNamedQuery(e,i){return this.Ar.set(i.name,function(o){return{name:o.name,query:t1(o.bundledQuery),readTime:li(o.readTime)}}(i)),F.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(){this.overlays=new se(_t.comparator),this.Rr=new Map}getOverlay(e,i){return F.resolve(this.overlays.get(i))}getOverlays(e,i){const a=pr();return F.forEach(i,o=>this.getOverlay(e,o).next(h=>{h!==null&&a.set(o,h)})).next(()=>a)}saveOverlays(e,i,a){return a.forEach((o,h)=>{this.Et(e,i,h)}),F.resolve()}removeOverlaysForBatchId(e,i,a){const o=this.Rr.get(a);return o!==void 0&&(o.forEach(h=>this.overlays=this.overlays.remove(h)),this.Rr.delete(a)),F.resolve()}getOverlaysForCollection(e,i,a){const o=pr(),h=i.length+1,d=new _t(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const _=g.getNext().value,v=_.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===h&&_.largestBatchId>a&&o.set(_.getKey(),_)}return F.resolve(o)}getOverlaysForCollectionGroup(e,i,a,o){let h=new se((v,S)=>v-S);const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>a){let S=h.get(v.largestBatchId);S===null&&(S=pr(),h=h.insert(v.largestBatchId,S)),S.set(v.getKey(),v)}}const g=pr(),_=h.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((v,S)=>g.set(v,S)),!(g.size()>=o)););return F.resolve(g)}Et(e,i,a){const o=this.overlays.get(a.key);if(o!==null){const d=this.Rr.get(o.largestBatchId).delete(a.key);this.Rr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new IS(i,a));let h=this.Rr.get(i);h===void 0&&(h=It(),this.Rr.set(i,h)),this.Rr.set(i,h.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{constructor(){this.sessionToken=qe.EMPTY_BYTE_STRING}getSessionToken(e){return F.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,F.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d{constructor(){this.Vr=new Ce(Ue.mr),this.gr=new Ce(Ue.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,i){const a=new Ue(e,i);this.Vr=this.Vr.add(a),this.gr=this.gr.add(a)}yr(e,i){e.forEach(a=>this.addReference(a,i))}removeReference(e,i){this.wr(new Ue(e,i))}Sr(e,i){e.forEach(a=>this.removeReference(a,i))}br(e){const i=new _t(new he([])),a=new Ue(i,e),o=new Ue(i,e+1),h=[];return this.gr.forEachInRange([a,o],d=>{this.wr(d),h.push(d.key)}),h}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const i=new _t(new he([])),a=new Ue(i,e),o=new Ue(i,e+1);let h=It();return this.gr.forEachInRange([a,o],d=>{h=h.add(d.key)}),h}containsKey(e){const i=new Ue(e,0),a=this.Vr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class Ue{constructor(e,i){this.key=e,this.Cr=i}static mr(e,i){return _t.comparator(e.key,i.key)||Dt(e.Cr,i.Cr)}static pr(e,i){return Dt(e.Cr,i.Cr)||_t.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Fr=1,this.Mr=new Ce(Ue.mr)}checkEmpty(e){return F.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,o){const h=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new NS(h,i,a,o);this.mutationQueue.push(d);for(const g of o)this.Mr=this.Mr.add(new Ue(g.key,h)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return F.resolve(d)}lookupMutationBatch(e,i){return F.resolve(this.Or(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,o=this.Nr(a),h=o<0?0:o;return F.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return F.resolve(this.mutationQueue.length===0?od:this.Fr-1)}getAllMutationBatches(e){return F.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new Ue(i,0),o=new Ue(i,Number.POSITIVE_INFINITY),h=[];return this.Mr.forEachInRange([a,o],d=>{const g=this.Or(d.Cr);h.push(g)}),F.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new Ce(Dt);return i.forEach(o=>{const h=new Ue(o,0),d=new Ue(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([h,d],g=>{a=a.add(g.Cr)})}),F.resolve(this.Br(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,o=a.length+1;let h=a;_t.isDocumentKey(h)||(h=h.child(""));const d=new Ue(new _t(h),0);let g=new Ce(Dt);return this.Mr.forEachWhile(_=>{const v=_.key.path;return!!a.isPrefixOf(v)&&(v.length===o&&(g=g.add(_.Cr)),!0)},d),F.resolve(this.Br(g))}Br(e){const i=[];return e.forEach(a=>{const o=this.Or(a);o!==null&&i.push(o)}),i}removeMutationBatch(e,i){Gt(this.Lr(i.batchId,"removed")===0),this.mutationQueue.shift();let a=this.Mr;return F.forEach(i.mutations,o=>{const h=new Ue(o.key,i.batchId);return a=a.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=a})}qn(e){}containsKey(e,i){const a=new Ue(i,0),o=this.Mr.firstAfterOrEqual(a);return F.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,F.resolve()}Lr(e,i){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const i=this.Nr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1{constructor(e){this.kr=e,this.docs=function(){return new se(_t.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,o=this.docs.get(a),h=o?o.size:0,d=this.kr(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return F.resolve(a?a.document.mutableCopy():Ye.newInvalidDocument(i))}getEntries(e,i){let a=ji();return i.forEach(o=>{const h=this.docs.get(o);a=a.insert(o,h?h.document.mutableCopy():Ye.newInvalidDocument(o))}),F.resolve(a)}getDocumentsMatchingQuery(e,i,a,o){let h=ji();const d=i.path,g=new _t(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(g);for(;_.hasNext();){const{key:v,value:{document:S}}=_.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||GA(HA(S),a)<=0||(o.has(S.key)||cc(i,S))&&(h=h.insert(S.key,S.mutableCopy()))}return F.resolve(h)}getAllFromCollectionGroup(e,i,a,o){Et()}qr(e,i){return F.forEach(this.docs,a=>i(a))}newChangeBuffer(e){return new p1(this)}getSize(e){return F.resolve(this.size)}}class p1 extends o1{constructor(e){super(),this.Ir=e}applyChanges(e){const i=[];return this.changes.forEach((a,o)=>{o.isValidDocument()?i.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(a)}),F.waitFor(i)}getFromCache(e,i){return this.Ir.getEntry(e,i)}getAllFromCache(e,i){return this.Ir.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(e){this.persistence=e,this.Qr=new Er(i=>hd(i),fd),this.lastRemoteSnapshotVersion=Tt.min(),this.highestTargetId=0,this.$r=0,this.Ur=new _d,this.targetCount=0,this.Kr=ba.Un()}forEachTarget(e,i){return this.Qr.forEach((a,o)=>i(o)),F.resolve()}getLastRemoteSnapshotVersion(e){return F.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return F.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),F.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.$r&&(this.$r=i),F.resolve()}zn(e){this.Qr.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.Kr=new ba(i),this.highestTargetId=i),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,i){return this.zn(i),this.targetCount+=1,F.resolve()}updateTargetData(e,i){return this.zn(i),F.resolve()}removeTargetData(e,i){return this.Qr.delete(i.target),this.Ur.br(i.targetId),this.targetCount-=1,F.resolve()}removeTargets(e,i,a){let o=0;const h=[];return this.Qr.forEach((d,g)=>{g.sequenceNumber<=i&&a.get(g.targetId)===null&&(this.Qr.delete(d),h.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)}),F.waitFor(h).next(()=>o)}getTargetCount(e){return F.resolve(this.targetCount)}getTargetData(e,i){const a=this.Qr.get(i)||null;return F.resolve(a)}addMatchingKeys(e,i,a){return this.Ur.yr(i,a),F.resolve()}removeMatchingKeys(e,i,a){this.Ur.Sr(i,a);const o=this.persistence.referenceDelegate,h=[];return o&&i.forEach(d=>{h.push(o.markPotentiallyOrphaned(e,d))}),F.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this.Ur.br(i),F.resolve()}getMatchingKeysForTargetId(e,i){const a=this.Ur.vr(i);return F.resolve(a)}containsKey(e,i){return F.resolve(this.Ur.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv{constructor(e,i){this.Wr={},this.overlays={},this.Gr=new rc(0),this.zr=!1,this.zr=!0,this.jr=new d1,this.referenceDelegate=e(this),this.Hr=new y1(this),this.indexManager=new e1,this.remoteDocumentCache=function(o){return new g1(o)}(a=>this.referenceDelegate.Jr(a)),this.serializer=new WS(i),this.Yr=new h1(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new f1,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this.Wr[e.toKey()];return a||(a=new m1(i,this.referenceDelegate),this.Wr[e.toKey()]=a),a}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,i,a){st("MemoryPersistence","Starting transaction:",e);const o=new _1(this.Gr.next());return this.referenceDelegate.Zr(),a(o).next(h=>this.referenceDelegate.Xr(o).next(()=>h)).toPromise().then(h=>(o.raiseOnCommittedEvent(),h))}ei(e,i){return F.or(Object.values(this.Wr).map(a=>()=>a.containsKey(e,i)))}}class _1 extends FA{constructor(e){super(),this.currentSequenceNumber=e}}class vd{constructor(e){this.persistence=e,this.ti=new _d,this.ni=null}static ri(e){return new vd(e)}get ii(){if(this.ni)return this.ni;throw Et()}addReference(e,i,a){return this.ti.addReference(a,i),this.ii.delete(a.toString()),F.resolve()}removeReference(e,i,a){return this.ti.removeReference(a,i),this.ii.add(a.toString()),F.resolve()}markPotentiallyOrphaned(e,i){return this.ii.add(i.toString()),F.resolve()}removeTarget(e,i){this.ti.br(i.targetId).forEach(o=>this.ii.add(o.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next(o=>{o.forEach(h=>this.ii.add(h.toString()))}).next(()=>a.removeTargetData(e,i))}Zr(){this.ni=new Set}Xr(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return F.forEach(this.ii,a=>{const o=_t.fromPath(a);return this.si(e,o).next(h=>{h||i.removeEntry(o,Tt.min())})}).next(()=>(this.ni=null,i.apply(e)))}updateLimboDocument(e,i){return this.si(e,i).next(a=>{a?this.ii.delete(i.toString()):this.ii.add(i.toString())})}Jr(e){return 0}si(e,i){return F.or([()=>F.resolve(this.ti.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.ei(e,i)])}}class ec{constructor(e,i){this.persistence=e,this.oi=new Er(a=>XA(a.path),(a,o)=>a.isEqual(o)),this.garbageCollector=l1(this,i)}static ri(e,i){return new ec(e,i)}Zr(){}Xr(e){return F.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}nr(e){const i=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(a=>i.next(o=>a+o))}sr(e){let i=0;return this.rr(e,a=>{i++}).next(()=>i)}rr(e,i){return F.forEach(this.oi,(a,o)=>this.ar(e,a,o).next(h=>h?F.resolve():i(o)))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const o=this.persistence.getRemoteDocumentCache(),h=o.newChangeBuffer();return o.qr(e,d=>this.ar(e,d,i).next(g=>{g||(a++,h.removeEntry(d,Tt.min()))})).next(()=>h.apply(e)).next(()=>a)}markPotentiallyOrphaned(e,i){return this.oi.set(i,e.currentSequenceNumber),F.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.oi.set(a,e.currentSequenceNumber),F.resolve()}removeReference(e,i,a){return this.oi.set(a,e.currentSequenceNumber),F.resolve()}updateLimboDocument(e,i){return this.oi.set(i,e.currentSequenceNumber),F.resolve()}Jr(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Lu(e.data.value)),i}ar(e,i,a){return F.or([()=>this.persistence.ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.oi.get(i);return F.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(e,i,a,o){this.targetId=e,this.fromCache=i,this.Hi=a,this.Ji=o}static Yi(e,i){let a=It(),o=It();for(const h of i.docChanges)switch(h.type){case 0:a=a.add(h.doc.key);break;case 1:o=o.add(h.doc.key)}return new Ed(e,i.fromCache,a,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return dT()?8:KA(hT())>0?6:4}()}initialize(e,i){this.ns=e,this.indexManager=i,this.Zi=!0}getDocumentsMatchingQuery(e,i,a,o){const h={result:null};return this.rs(e,i).next(d=>{h.result=d}).next(()=>{if(!h.result)return this.ss(e,i,o,a).next(d=>{h.result=d})}).next(()=>{if(h.result)return;const d=new v1;return this._s(e,i,d).next(g=>{if(h.result=g,this.Xi)return this.us(e,i,d,g.size)})}).next(()=>h.result)}us(e,i,a,o){return a.documentReadCount<this.es?(ma()<=Bt.DEBUG&&st("QueryEngine","SDK will not create cache indexes for query:",ga(i),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),F.resolve()):(ma()<=Bt.DEBUG&&st("QueryEngine","Query:",ga(i),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.ts*o?(ma()<=Bt.DEBUG&&st("QueryEngine","The SDK decides to create cache indexes for query:",ga(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ai(i))):F.resolve())}rs(e,i){if(wy(i))return F.resolve(null);let a=ai(i);return this.indexManager.getIndexType(e,a).next(o=>o===0?null:(i.limit!==null&&o===1&&(i=Ff(i,null,"F"),a=ai(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next(h=>{const d=It(...h);return this.ns.getDocuments(e,d).next(g=>this.indexManager.getMinOffset(e,a).next(_=>{const v=this.cs(i,g);return this.ls(i,v,d,_.readTime)?this.rs(e,Ff(i,null,"F")):this.hs(e,v,i,_)}))})))}ss(e,i,a,o){return wy(i)||o.isEqual(Tt.min())?F.resolve(null):this.ns.getDocuments(e,a).next(h=>{const d=this.cs(i,h);return this.ls(i,d,a,o)?F.resolve(null):(ma()<=Bt.DEBUG&&st("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ga(i)),this.hs(e,d,i,qA(o,Xl)).next(g=>g))})}cs(e,i){let a=new Ce(G_(e));return i.forEach((o,h)=>{cc(e,h)&&(a=a.add(h))}),a}ls(e,i,a,o){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(o)>0)}_s(e,i,a){return ma()<=Bt.DEBUG&&st("QueryEngine","Using full collection scan to execute query:",ga(i)),this.ns.getDocumentsMatchingQuery(e,i,Ns.min(),a)}hs(e,i,a,o){return this.ns.getDocumentsMatchingQuery(e,a,o).next(h=>(i.forEach(d=>{h=h.insert(d.key,d)}),h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Td="LocalStore",T1=3e8;class A1{constructor(e,i,a,o){this.persistence=e,this.Ps=i,this.serializer=o,this.Ts=new se(Dt),this.Is=new Er(h=>hd(h),fd),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(a)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new c1(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.Ts))}}function S1(r,e,i,a){return new A1(r,e,i,a)}async function mv(r,e){const i=St(r);return await i.persistence.runTransaction("Handle user change","readonly",a=>{let o;return i.mutationQueue.getAllMutationBatches(a).next(h=>(o=h,i.As(e),i.mutationQueue.getAllMutationBatches(a))).next(h=>{const d=[],g=[];let _=It();for(const v of o){d.push(v.batchId);for(const S of v.mutations)_=_.add(S.key)}for(const v of h){g.push(v.batchId);for(const S of v.mutations)_=_.add(S.key)}return i.localDocuments.getDocuments(a,_).next(v=>({Rs:v,removedBatchIds:d,addedBatchIds:g}))})})}function b1(r,e){const i=St(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const o=e.batch.keys(),h=i.ds.newChangeBuffer({trackRemovals:!0});return function(g,_,v,S){const N=v.batch,x=N.keys();let k=F.resolve();return x.forEach(X=>{k=k.next(()=>S.getEntry(_,X)).next(J=>{const Z=v.docVersions.get(X);Gt(Z!==null),J.version.compareTo(Z)<0&&(N.applyToRemoteDocument(J,v),J.isValidDocument()&&(J.setReadTime(v.commitVersion),S.addEntry(J)))})}),k.next(()=>g.mutationQueue.removeMutationBatch(_,N))}(i,a,e,h).next(()=>h.apply(a)).next(()=>i.mutationQueue.performConsistencyCheck(a)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(g){let _=It();for(let v=0;v<g.mutationResults.length;++v)g.mutationResults[v].transformResults.length>0&&(_=_.add(g.batch.mutations[v].key));return _}(e))).next(()=>i.localDocuments.getDocuments(a,o))})}function gv(r){const e=St(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.Hr.getLastRemoteSnapshotVersion(i))}function R1(r,e){const i=St(r),a=e.snapshotVersion;let o=i.Ts;return i.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const d=i.ds.newChangeBuffer({trackRemovals:!0});o=i.Ts;const g=[];e.targetChanges.forEach((S,N)=>{const x=o.get(N);if(!x)return;g.push(i.Hr.removeMatchingKeys(h,S.removedDocuments,N).next(()=>i.Hr.addMatchingKeys(h,S.addedDocuments,N)));let k=x.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(N)!==null?k=k.withResumeToken(qe.EMPTY_BYTE_STRING,Tt.min()).withLastLimboFreeSnapshotVersion(Tt.min()):S.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(S.resumeToken,a)),o=o.insert(N,k),function(J,Z,gt){return J.resumeToken.approximateByteSize()===0||Z.snapshotVersion.toMicroseconds()-J.snapshotVersion.toMicroseconds()>=T1?!0:gt.addedDocuments.size+gt.modifiedDocuments.size+gt.removedDocuments.size>0}(x,k,S)&&g.push(i.Hr.updateTargetData(h,k))});let _=ji(),v=It();if(e.documentUpdates.forEach(S=>{e.resolvedLimboDocuments.has(S)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(h,S))}),g.push(w1(h,d,e.documentUpdates).next(S=>{_=S.Vs,v=S.fs})),!a.isEqual(Tt.min())){const S=i.Hr.getLastRemoteSnapshotVersion(h).next(N=>i.Hr.setTargetsMetadata(h,h.currentSequenceNumber,a));g.push(S)}return F.waitFor(g).next(()=>d.apply(h)).next(()=>i.localDocuments.getLocalViewOfDocuments(h,_,v)).next(()=>_)}).then(h=>(i.Ts=o,h))}function w1(r,e,i){let a=It(),o=It();return i.forEach(h=>a=a.add(h)),e.getEntries(r,a).next(h=>{let d=ji();return i.forEach((g,_)=>{const v=h.get(g);_.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(g)),_.isNoDocument()&&_.version.isEqual(Tt.min())?(e.removeEntry(g,_.readTime),d=d.insert(g,_)):!v.isValidDocument()||_.version.compareTo(v.version)>0||_.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(_),d=d.insert(g,_)):st(Td,"Ignoring outdated watch update for ",g,". Current version:",v.version," Watch version:",_.version)}),{Vs:d,fs:o}})}function C1(r,e){const i=St(r);return i.persistence.runTransaction("Get next mutation batch","readonly",a=>(e===void 0&&(e=od),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}function D1(r,e){const i=St(r);return i.persistence.runTransaction("Allocate target","readwrite",a=>{let o;return i.Hr.getTargetData(a,e).next(h=>h?(o=h,F.resolve(o)):i.Hr.allocateTargetId(a).next(d=>(o=new Rs(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.Hr.addTargetData(a,o).next(()=>o))))}).then(a=>{const o=i.Ts.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ts=i.Ts.insert(a.targetId,a),i.Is.set(e,a.targetId)),a})}async function $f(r,e,i){const a=St(r),o=a.Ts.get(e),h=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",h,d=>a.persistence.referenceDelegate.removeTarget(d,o))}catch(d){if(!Na(d))throw d;st(Td,`Failed to update sequence numbers for target ${e}: ${d}`)}a.Ts=a.Ts.remove(e),a.Is.delete(o.target)}function Py(r,e,i){const a=St(r);let o=Tt.min(),h=It();return a.persistence.runTransaction("Execute query","readwrite",d=>function(_,v,S){const N=St(_),x=N.Is.get(S);return x!==void 0?F.resolve(N.Ts.get(x)):N.Hr.getTargetData(v,S)}(a,d,ai(e)).next(g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,a.Hr.getMatchingKeysForTargetId(d,g.targetId).next(_=>{h=_})}).next(()=>a.Ps.getDocumentsMatchingQuery(d,e,i?o:Tt.min(),i?h:It())).next(g=>(V1(a,gS(e),g),{documents:g,gs:h})))}function V1(r,e,i){let a=r.Es.get(e)||Tt.min();i.forEach((o,h)=>{h.readTime.compareTo(a)>0&&(a=h.readTime)}),r.Es.set(e,a)}class ky{constructor(){this.activeTargetIds=TS()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class N1{constructor(){this.ho=new ky,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,i,a){this.Po[e]=i}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new ky,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jy="ConnectivityMonitor";class qy{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){st(jy,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){st(jy,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xu=null;function Jf(){return xu===null?xu=function(){return 268435456+Math.round(2147483648*Math.random())}():xu++,"0x"+xu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const If="RestConnection",O1={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class M1{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=i+"://"+e.host,this.yo=`projects/${a}/databases/${o}`,this.wo=this.databaseId.database===Yu?`project_id=${a}`:`project_id=${a}&database_id=${o}`}So(e,i,a,o,h){const d=Jf(),g=this.bo(e,i.toUriEncodedString());st(If,`Sending RPC '${e}' ${d}:`,g,a);const _={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(_,o,h),this.vo(e,g,_,a).then(v=>(st(If,`Received RPC '${e}' ${d}: `,v),v),v=>{throw Ea(If,`RPC '${e}' ${d} failed with error: `,v,"url: ",g,"request:",a),v})}Co(e,i,a,o,h,d){return this.So(e,i,a,o,h)}Do(e,i,a){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Da}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,h)=>e[h]=o),a&&a.headers.forEach((o,h)=>e[h]=o)}bo(e,i){const a=O1[e];return`${this.po}/v1/${i}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fe="WebChannelConnection";class U1 extends M1{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,i,a,o){const h=Jf();return new Promise((d,g)=>{const _=new v_;_.setWithCredentials(!0),_.listenOnce(E_.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case Uu.NO_ERROR:const S=_.getResponseJson();st(Fe,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(S)),d(S);break;case Uu.TIMEOUT:st(Fe,`RPC '${e}' ${h} timed out`),g(new yt($.DEADLINE_EXCEEDED,"Request time out"));break;case Uu.HTTP_ERROR:const N=_.getStatus();if(st(Fe,`RPC '${e}' ${h} failed with status:`,N,"response text:",_.getResponseText()),N>0){let x=_.getResponseJson();Array.isArray(x)&&(x=x[0]);const k=x==null?void 0:x.error;if(k&&k.status&&k.message){const X=function(Z){const gt=Z.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(gt)>=0?gt:$.UNKNOWN}(k.status);g(new yt(X,k.message))}else g(new yt($.UNKNOWN,"Server responded with status "+_.getStatus()))}else g(new yt($.UNAVAILABLE,"Connection failed."));break;default:Et()}}finally{st(Fe,`RPC '${e}' ${h} completed.`)}});const v=JSON.stringify(o);st(Fe,`RPC '${e}' ${h} sending request:`,o),_.send(i,"POST",v,a,15)})}Wo(e,i,a){const o=Jf(),h=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=S_(),g=A_(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(_.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(_.useFetchStreams=!0),this.Do(_.initMessageHeaders,i,a),_.encodeInitMessageHeaders=!0;const S=h.join("");st(Fe,`Creating RPC '${e}' stream ${o}: ${S}`,_);const N=d.createWebChannel(S,_);let x=!1,k=!1;const X=new x1({Fo:Z=>{k?st(Fe,`Not sending because RPC '${e}' stream ${o} is closed:`,Z):(x||(st(Fe,`Opening RPC '${e}' stream ${o} transport.`),N.open(),x=!0),st(Fe,`RPC '${e}' stream ${o} sending:`,Z),N.send(Z))},Mo:()=>N.close()}),J=(Z,gt,dt)=>{Z.listen(gt,rt=>{try{dt(rt)}catch(Rt){setTimeout(()=>{throw Rt},0)}})};return J(N,Pl.EventType.OPEN,()=>{k||(st(Fe,`RPC '${e}' stream ${o} transport opened.`),X.Qo())}),J(N,Pl.EventType.CLOSE,()=>{k||(k=!0,st(Fe,`RPC '${e}' stream ${o} transport closed`),X.Uo())}),J(N,Pl.EventType.ERROR,Z=>{k||(k=!0,Ea(Fe,`RPC '${e}' stream ${o} transport errored:`,Z),X.Uo(new yt($.UNAVAILABLE,"The operation could not be completed")))}),J(N,Pl.EventType.MESSAGE,Z=>{var gt;if(!k){const dt=Z.data[0];Gt(!!dt);const rt=dt,Rt=(rt==null?void 0:rt.error)||((gt=rt[0])===null||gt===void 0?void 0:gt.error);if(Rt){st(Fe,`RPC '${e}' stream ${o} received error:`,Rt);const mt=Rt.status;let lt=function(A){const w=_e[A];if(w!==void 0)return nv(w)}(mt),I=Rt.message;lt===void 0&&(lt=$.INTERNAL,I="Unknown error status: "+mt+" with message "+Rt.message),k=!0,X.Uo(new yt(lt,I)),N.close()}else st(Fe,`RPC '${e}' stream ${o} received:`,dt),X.Ko(dt)}}),J(g,T_.STAT_EVENT,Z=>{Z.stat===kf.PROXY?st(Fe,`RPC '${e}' stream ${o} detected buffering proxy`):Z.stat===kf.NOPROXY&&st(Fe,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{X.$o()},0),X}}function Of(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gc(r){return new PS(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pv{constructor(e,i,a=1e3,o=1.5,h=6e4){this.Ti=e,this.timerId=i,this.Go=a,this.zo=o,this.jo=h,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const i=Math.floor(this.Ho+this.e_()),a=Math.max(0,Date.now()-this.Yo),o=Math.max(0,i-a);o>0&&st("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hy="PersistentStream";class yv{constructor(e,i,a,o,h,d,g,_){this.Ti=e,this.n_=a,this.r_=o,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new pv(e,i)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,i){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():i&&i.code===$.RESOURCE_EXHAUSTED?(ki(i.toString()),ki("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):i&&i.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(i)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),i=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,o])=>{this.i_===i&&this.V_(a,o)},a=>{e(()=>{const o=new yt($.UNKNOWN,"Fetching auth token failed: "+a.message);return this.m_(o)})})}V_(e,i){const a=this.R_(this.i_);this.stream=this.f_(e,i),this.stream.xo(()=>{a(()=>this.listener.xo())}),this.stream.No(()=>{a(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{a(()=>this.m_(o))}),this.stream.onMessage(o=>{a(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return st(Hy,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return i=>{this.Ti.enqueueAndForget(()=>this.i_===e?i():(st(Hy,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class L1 extends yv{constructor(e,i,a,o,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,o,d),this.serializer=h}f_(e,i){return this.connection.Wo("Listen",e,i)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const i=qS(this.serializer,e),a=function(h){if(!("targetChange"in h))return Tt.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?Tt.min():d.readTime?li(d.readTime):Tt.min()}(e);return this.listener.p_(i,a)}y_(e){const i={};i.database=Zf(this.serializer),i.addTarget=function(h,d){let g;const _=d.target;if(g=Qf(_)?{documents:QS(h,_)}:{query:FS(h,_).ht},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=rv(h,d.resumeToken);const v=Kf(h,d.expectedCount);v!==null&&(g.expectedCount=v)}else if(d.snapshotVersion.compareTo(Tt.min())>0){g.readTime=tc(h,d.snapshotVersion.toTimestamp());const v=Kf(h,d.expectedCount);v!==null&&(g.expectedCount=v)}return g}(this.serializer,e);const a=YS(this.serializer,e);a&&(i.labels=a),this.I_(i)}w_(e){const i={};i.database=Zf(this.serializer),i.removeTarget=e,this.I_(i)}}class z1 extends yv{constructor(e,i,a,o,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,o,d),this.serializer=h}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,i){return this.connection.Wo("Write",e,i)}g_(e){return Gt(!!e.streamToken),this.lastStreamToken=e.streamToken,Gt(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Gt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const i=GS(e.writeResults,e.commitTime),a=li(e.commitTime);return this.listener.v_(a,i)}C_(){const e={};e.database=Zf(this.serializer),this.I_(e)}b_(e){const i={streamToken:this.lastStreamToken,writes:e.map(a=>HS(this.serializer,a))};this.I_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{}class P1 extends B1{constructor(e,i,a,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new yt($.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,i,a,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.So(e,Yf(i,a),o,h,d)).catch(h=>{throw h.name==="FirebaseError"?(h.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new yt($.UNKNOWN,h.toString())})}Co(e,i,a,o,h){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.Co(e,Yf(i,a),o,d,g,h)).catch(d=>{throw d.name==="FirebaseError"?(d.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new yt($.UNKNOWN,d.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class k1{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(ki(i),this.N_=!1):st("OnlineStateTracker",i)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vr="RemoteStore";class j1{constructor(e,i,a,o,h){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=h,this.z_.To(d=>{a.enqueueAndForget(async()=>{Ar(this)&&(st(vr,"Restarting streams for network reachability change."),await async function(_){const v=St(_);v.W_.add(4),await so(v),v.j_.set("Unknown"),v.W_.delete(4),await pc(v)}(this))})}),this.j_=new k1(a,o)}}async function pc(r){if(Ar(r))for(const e of r.G_)await e(!0)}async function so(r){for(const e of r.G_)await e(!1)}function _v(r,e){const i=St(r);i.K_.has(e.targetId)||(i.K_.set(e.targetId,e),Rd(i)?bd(i):Ia(i).c_()&&Sd(i,e))}function Ad(r,e){const i=St(r),a=Ia(i);i.K_.delete(e),a.c_()&&vv(i,e),i.K_.size===0&&(a.c_()?a.P_():Ar(i)&&i.j_.set("Unknown"))}function Sd(r,e){if(r.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Tt.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Ia(r).y_(e)}function vv(r,e){r.H_.Ne(e),Ia(r).w_(e)}function bd(r){r.H_=new US({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>r.K_.get(e)||null,it:()=>r.datastore.serializer.databaseId}),Ia(r).start(),r.j_.B_()}function Rd(r){return Ar(r)&&!Ia(r).u_()&&r.K_.size>0}function Ar(r){return St(r).W_.size===0}function Ev(r){r.H_=void 0}async function q1(r){r.j_.set("Online")}async function H1(r){r.K_.forEach((e,i)=>{Sd(r,e)})}async function G1(r,e){Ev(r),Rd(r)?(r.j_.q_(e),bd(r)):r.j_.set("Unknown")}async function Q1(r,e,i){if(r.j_.set("Online"),e instanceof sv&&e.state===2&&e.cause)try{await async function(o,h){const d=h.cause;for(const g of h.targetIds)o.K_.has(g)&&(await o.remoteSyncer.rejectListen(g,d),o.K_.delete(g),o.H_.removeTarget(g))}(r,e)}catch(a){st(vr,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await nc(r,a)}else if(e instanceof Pu?r.H_.We(e):e instanceof iv?r.H_.Ze(e):r.H_.je(e),!i.isEqual(Tt.min()))try{const a=await gv(r.localStore);i.compareTo(a)>=0&&await function(h,d){const g=h.H_.ot(d);return g.targetChanges.forEach((_,v)=>{if(_.resumeToken.approximateByteSize()>0){const S=h.K_.get(v);S&&h.K_.set(v,S.withResumeToken(_.resumeToken,d))}}),g.targetMismatches.forEach((_,v)=>{const S=h.K_.get(_);if(!S)return;h.K_.set(_,S.withResumeToken(qe.EMPTY_BYTE_STRING,S.snapshotVersion)),vv(h,_);const N=new Rs(S.target,_,v,S.sequenceNumber);Sd(h,N)}),h.remoteSyncer.applyRemoteEvent(g)}(r,i)}catch(a){st(vr,"Failed to raise snapshot:",a),await nc(r,a)}}async function nc(r,e,i){if(!Na(e))throw e;r.W_.add(1),await so(r),r.j_.set("Offline"),i||(i=()=>gv(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{st(vr,"Retrying IndexedDB access"),await i(),r.W_.delete(1),await pc(r)})}function Tv(r,e){return e().catch(i=>nc(r,i,e))}async function yc(r){const e=St(r),i=xs(e);let a=e.U_.length>0?e.U_[e.U_.length-1].batchId:od;for(;F1(e);)try{const o=await C1(e.localStore,a);if(o===null){e.U_.length===0&&i.P_();break}a=o.batchId,K1(e,o)}catch(o){await nc(e,o)}Av(e)&&Sv(e)}function F1(r){return Ar(r)&&r.U_.length<10}function K1(r,e){r.U_.push(e);const i=xs(r);i.c_()&&i.S_&&i.b_(e.mutations)}function Av(r){return Ar(r)&&!xs(r).u_()&&r.U_.length>0}function Sv(r){xs(r).start()}async function Y1(r){xs(r).C_()}async function X1(r){const e=xs(r);for(const i of r.U_)e.b_(i.mutations)}async function Z1(r,e,i){const a=r.U_.shift(),o=gd.from(a,e,i);await Tv(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await yc(r)}async function $1(r,e){e&&xs(r).S_&&await async function(a,o){if(function(d){return MS(d)&&d!==$.ABORTED}(o.code)){const h=a.U_.shift();xs(a).h_(),await Tv(a,()=>a.remoteSyncer.rejectFailedWrite(h.batchId,o)),await yc(a)}}(r,e),Av(r)&&Sv(r)}async function Gy(r,e){const i=St(r);i.asyncQueue.verifyOperationInProgress(),st(vr,"RemoteStore received new credentials");const a=Ar(i);i.W_.add(3),await so(i),a&&i.j_.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.W_.delete(3),await pc(i)}async function J1(r,e){const i=St(r);e?(i.W_.delete(2),await pc(i)):e||(i.W_.add(2),await so(i),i.j_.set("Unknown"))}function Ia(r){return r.J_||(r.J_=function(i,a,o){const h=St(i);return h.M_(),new L1(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)}(r.datastore,r.asyncQueue,{xo:q1.bind(null,r),No:H1.bind(null,r),Lo:G1.bind(null,r),p_:Q1.bind(null,r)}),r.G_.push(async e=>{e?(r.J_.h_(),Rd(r)?bd(r):r.j_.set("Unknown")):(await r.J_.stop(),Ev(r))})),r.J_}function xs(r){return r.Y_||(r.Y_=function(i,a,o){const h=St(i);return h.M_(),new z1(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)}(r.datastore,r.asyncQueue,{xo:()=>Promise.resolve(),No:Y1.bind(null,r),Lo:$1.bind(null,r),D_:X1.bind(null,r),v_:Z1.bind(null,r)}),r.G_.push(async e=>{e?(r.Y_.h_(),await yc(r)):(await r.Y_.stop(),r.U_.length>0&&(st(vr,`Stopping write stream with ${r.U_.length} pending writes`),r.U_=[]))})),r.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(e,i,a,o,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=o,this.removalCallback=h,this.deferred=new Vs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,o,h){const d=Date.now()+a,g=new wd(e,i,d,o,h);return g.start(a),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new yt($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Cd(r,e){if(ki("AsyncQueue",`${e}: ${r}`),Na(r))return new yt($.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{static emptySet(e){return new va(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||_t.comparator(i.key,a.key):(i,a)=>_t.comparator(i.key,a.key),this.keyedMap=kl(),this.sortedSet=new se(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,a)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof va)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=a.getNext().key;if(!o.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new va;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qy{constructor(){this.Z_=new se(_t.comparator)}track(e){const i=e.doc.key,a=this.Z_.get(i);a?e.type!==0&&a.type===3?this.Z_=this.Z_.insert(i,e):e.type===3&&a.type!==1?this.Z_=this.Z_.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.Z_=this.Z_.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.Z_=this.Z_.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.Z_=this.Z_.remove(i):e.type===1&&a.type===2?this.Z_=this.Z_.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.Z_=this.Z_.insert(i,{type:2,doc:e.doc}):Et():this.Z_=this.Z_.insert(i,e)}X_(){const e=[];return this.Z_.inorderTraversal((i,a)=>{e.push(a)}),e}}class Ra{constructor(e,i,a,o,h,d,g,_,v){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=_,this.hasCachedResults=v}static fromInitialDocuments(e,i,a,o,h){const d=[];return i.forEach(g=>{d.push({type:0,doc:g})}),new Ra(e,i,va.emptySet(i),d,a,o,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&uc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==a[o].type||!i[o].doc.isEqual(a[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class tb{constructor(){this.queries=Fy(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(i,a){const o=St(i),h=o.queries;o.queries=Fy(),h.forEach((d,g)=>{for(const _ of g.ta)_.onError(a)})})(this,new yt($.ABORTED,"Firestore shutting down"))}}function Fy(){return new Er(r=>H_(r),uc)}async function eb(r,e){const i=St(r);let a=3;const o=e.query;let h=i.queries.get(o);h?!h.na()&&e.ra()&&(a=2):(h=new W1,a=e.ra()?0:1);try{switch(a){case 0:h.ea=await i.onListen(o,!0);break;case 1:h.ea=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const g=Cd(d,`Initialization of query '${ga(e.query)}' failed`);return void e.onError(g)}i.queries.set(o,h),h.ta.push(e),e.sa(i.onlineState),h.ea&&e.oa(h.ea)&&Dd(i)}async function nb(r,e){const i=St(r),a=e.query;let o=3;const h=i.queries.get(a);if(h){const d=h.ta.indexOf(e);d>=0&&(h.ta.splice(d,1),h.ta.length===0?o=e.ra()?0:1:!h.na()&&e.ra()&&(o=2))}switch(o){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function ib(r,e){const i=St(r);let a=!1;for(const o of e){const h=o.query,d=i.queries.get(h);if(d){for(const g of d.ta)g.oa(o)&&(a=!0);d.ea=o}}a&&Dd(i)}function sb(r,e,i){const a=St(r),o=a.queries.get(e);if(o)for(const h of o.ta)h.onError(i);a.queries.delete(e)}function Dd(r){r.ia.forEach(e=>{e.next()})}var Wf,Ky;(Ky=Wf||(Wf={}))._a="default",Ky.Cache="cache";class rb{constructor(e,i,a){this.query=e,this.aa=i,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=a||{}}oa(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new Ra(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.ua?this.la(e)&&(this.aa.next(e),i=!0):this.ha(e,this.onlineState)&&(this.Pa(e),i=!0),this.ca=e,i}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let i=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),i=!0),i}ha(e,i){if(!e.fromCache||!this.ra())return!0;const a=i!=="Offline";return(!this.options.Ta||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}la(e){if(e.docChanges.length>0)return!0;const i=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}Pa(e){e=Ra.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Wf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv{constructor(e){this.key=e}}class Rv{constructor(e){this.key=e}}class ab{constructor(e,i){this.query=e,this.fa=i,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=It(),this.mutatedKeys=It(),this.ya=G_(e),this.wa=new va(this.ya)}get Sa(){return this.fa}ba(e,i){const a=i?i.Da:new Qy,o=i?i.wa:this.wa;let h=i?i.mutatedKeys:this.mutatedKeys,d=o,g=!1;const _=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,v=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((S,N)=>{const x=o.get(S),k=cc(this.query,N)?N:null,X=!!x&&this.mutatedKeys.has(x.key),J=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let Z=!1;x&&k?x.data.isEqual(k.data)?X!==J&&(a.track({type:3,doc:k}),Z=!0):this.va(x,k)||(a.track({type:2,doc:k}),Z=!0,(_&&this.ya(k,_)>0||v&&this.ya(k,v)<0)&&(g=!0)):!x&&k?(a.track({type:0,doc:k}),Z=!0):x&&!k&&(a.track({type:1,doc:x}),Z=!0,(_||v)&&(g=!0)),Z&&(k?(d=d.add(k),h=J?h.add(S):h.delete(S)):(d=d.delete(S),h=h.delete(S)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const S=this.query.limitType==="F"?d.last():d.first();d=d.delete(S.key),h=h.delete(S.key),a.track({type:1,doc:S})}return{wa:d,Da:a,ls:g,mutatedKeys:h}}va(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,o){const h=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const d=e.Da.X_();d.sort((S,N)=>function(k,X){const J=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Et()}};return J(k)-J(X)}(S.type,N.type)||this.ya(S.doc,N.doc)),this.Ca(a),o=o!=null&&o;const g=i&&!o?this.Fa():[],_=this.pa.size===0&&this.current&&!o?1:0,v=_!==this.ga;return this.ga=_,d.length!==0||v?{snapshot:new Ra(this.query,e.wa,h,d,e.mutatedKeys,_===0,v,!1,!!a&&a.resumeToken.approximateByteSize()>0),Ma:g}:{Ma:g}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Qy,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(i=>this.fa=this.fa.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.fa=this.fa.delete(i)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=It(),this.wa.forEach(a=>{this.xa(a.key)&&(this.pa=this.pa.add(a.key))});const i=[];return e.forEach(a=>{this.pa.has(a)||i.push(new Rv(a))}),this.pa.forEach(a=>{e.has(a)||i.push(new bv(a))}),i}Oa(e){this.fa=e.gs,this.pa=It();const i=this.ba(e.documents);return this.applyChanges(i,!0)}Na(){return Ra.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Vd="SyncEngine";class lb{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class ob{constructor(e){this.key=e,this.Ba=!1}}class ub{constructor(e,i,a,o,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=o,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.La={},this.ka=new Er(g=>H_(g),uc),this.qa=new Map,this.Qa=new Set,this.$a=new se(_t.comparator),this.Ua=new Map,this.Ka=new _d,this.Wa={},this.Ga=new Map,this.za=ba.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function cb(r,e,i=!0){const a=Iv(r);let o;const h=a.ka.get(e);return h?(a.sharedClientState.addLocalQueryTarget(h.targetId),o=h.view.Na()):o=await wv(a,e,i,!0),o}async function hb(r,e){const i=Iv(r);await wv(i,e,!0,!1)}async function wv(r,e,i,a){const o=await D1(r.localStore,ai(e)),h=o.targetId,d=r.sharedClientState.addLocalQueryTarget(h,i);let g;return a&&(g=await fb(r,e,h,d==="current",o.resumeToken)),r.isPrimaryClient&&i&&_v(r.remoteStore,o),g}async function fb(r,e,i,a,o){r.Ha=(N,x,k)=>async function(J,Z,gt,dt){let rt=Z.view.ba(gt);rt.ls&&(rt=await Py(J.localStore,Z.query,!1).then(({documents:I})=>Z.view.ba(I,rt)));const Rt=dt&&dt.targetChanges.get(Z.targetId),mt=dt&&dt.targetMismatches.get(Z.targetId)!=null,lt=Z.view.applyChanges(rt,J.isPrimaryClient,Rt,mt);return Xy(J,Z.targetId,lt.Ma),lt.snapshot}(r,N,x,k);const h=await Py(r.localStore,e,!0),d=new ab(e,h.gs),g=d.ba(h.documents),_=io.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",o),v=d.applyChanges(g,r.isPrimaryClient,_);Xy(r,i,v.Ma);const S=new lb(e,i,d);return r.ka.set(e,S),r.qa.has(i)?r.qa.get(i).push(e):r.qa.set(i,[e]),v.snapshot}async function db(r,e,i){const a=St(r),o=a.ka.get(e),h=a.qa.get(o.targetId);if(h.length>1)return a.qa.set(o.targetId,h.filter(d=>!uc(d,e))),void a.ka.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await $f(a.localStore,o.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(o.targetId),i&&Ad(a.remoteStore,o.targetId),td(a,o.targetId)}).catch(Va)):(td(a,o.targetId),await $f(a.localStore,o.targetId,!0))}async function mb(r,e){const i=St(r),a=i.ka.get(e),o=i.qa.get(a.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Ad(i.remoteStore,a.targetId))}async function gb(r,e,i){const a=Ab(r);try{const o=await function(d,g){const _=St(d),v=we.now(),S=g.reduce((k,X)=>k.add(X.key),It());let N,x;return _.persistence.runTransaction("Locally write mutations","readwrite",k=>{let X=ji(),J=It();return _.ds.getEntries(k,S).next(Z=>{X=Z,X.forEach((gt,dt)=>{dt.isValidDocument()||(J=J.add(gt))})}).next(()=>_.localDocuments.getOverlayedDocuments(k,X)).next(Z=>{N=Z;const gt=[];for(const dt of g){const rt=DS(dt,N.get(dt.key).overlayedDocument);rt!=null&&gt.push(new Tr(dt.key,rt,L_(rt.value.mapValue),Bi.exists(!0)))}return _.mutationQueue.addMutationBatch(k,v,gt,g)}).next(Z=>{x=Z;const gt=Z.applyToLocalDocumentSet(N,J);return _.documentOverlayCache.saveOverlays(k,Z.batchId,gt)})}).then(()=>({batchId:x.batchId,changes:F_(N)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),function(d,g,_){let v=d.Wa[d.currentUser.toKey()];v||(v=new se(Dt)),v=v.insert(g,_),d.Wa[d.currentUser.toKey()]=v}(a,o.batchId,i),await ro(a,o.changes),await yc(a.remoteStore)}catch(o){const h=Cd(o,"Failed to persist write");i.reject(h)}}async function Cv(r,e){const i=St(r);try{const a=await R1(i.localStore,e);e.targetChanges.forEach((o,h)=>{const d=i.Ua.get(h);d&&(Gt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?d.Ba=!0:o.modifiedDocuments.size>0?Gt(d.Ba):o.removedDocuments.size>0&&(Gt(d.Ba),d.Ba=!1))}),await ro(i,a,e)}catch(a){await Va(a)}}function Yy(r,e,i){const a=St(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const o=[];a.ka.forEach((h,d)=>{const g=d.view.sa(e);g.snapshot&&o.push(g.snapshot)}),function(d,g){const _=St(d);_.onlineState=g;let v=!1;_.queries.forEach((S,N)=>{for(const x of N.ta)x.sa(g)&&(v=!0)}),v&&Dd(_)}(a.eventManager,e),o.length&&a.La.p_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function pb(r,e,i){const a=St(r);a.sharedClientState.updateQueryState(e,"rejected",i);const o=a.Ua.get(e),h=o&&o.key;if(h){let d=new se(_t.comparator);d=d.insert(h,Ye.newNoDocument(h,Tt.min()));const g=It().add(h),_=new mc(Tt.min(),new Map,new se(Dt),d,g);await Cv(a,_),a.$a=a.$a.remove(h),a.Ua.delete(e),Nd(a)}else await $f(a.localStore,e,!1).then(()=>td(a,e,i)).catch(Va)}async function yb(r,e){const i=St(r),a=e.batch.batchId;try{const o=await b1(i.localStore,e);Vv(i,a,null),Dv(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await ro(i,o)}catch(o){await Va(o)}}async function _b(r,e,i){const a=St(r);try{const o=await function(d,g){const _=St(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let S;return _.mutationQueue.lookupMutationBatch(v,g).next(N=>(Gt(N!==null),S=N.keys(),_.mutationQueue.removeMutationBatch(v,N))).next(()=>_.mutationQueue.performConsistencyCheck(v)).next(()=>_.documentOverlayCache.removeOverlaysForBatchId(v,S,g)).next(()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,S)).next(()=>_.localDocuments.getDocuments(v,S))})}(a.localStore,e);Vv(a,e,i),Dv(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await ro(a,o)}catch(o){await Va(o)}}function Dv(r,e){(r.Ga.get(e)||[]).forEach(i=>{i.resolve()}),r.Ga.delete(e)}function Vv(r,e,i){const a=St(r);let o=a.Wa[a.currentUser.toKey()];if(o){const h=o.get(e);h&&(i?h.reject(i):h.resolve(),o=o.remove(e)),a.Wa[a.currentUser.toKey()]=o}}function td(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const a of r.qa.get(e))r.ka.delete(a),i&&r.La.Ja(a,i);r.qa.delete(e),r.isPrimaryClient&&r.Ka.br(e).forEach(a=>{r.Ka.containsKey(a)||Nv(r,a)})}function Nv(r,e){r.Qa.delete(e.path.canonicalString());const i=r.$a.get(e);i!==null&&(Ad(r.remoteStore,i),r.$a=r.$a.remove(e),r.Ua.delete(i),Nd(r))}function Xy(r,e,i){for(const a of i)a instanceof bv?(r.Ka.addReference(a.key,e),vb(r,a)):a instanceof Rv?(st(Vd,"Document no longer in limbo: "+a.key),r.Ka.removeReference(a.key,e),r.Ka.containsKey(a.key)||Nv(r,a.key)):Et()}function vb(r,e){const i=e.key,a=i.path.canonicalString();r.$a.get(i)||r.Qa.has(a)||(st(Vd,"New document in limbo: "+i),r.Qa.add(a),Nd(r))}function Nd(r){for(;r.Qa.size>0&&r.$a.size<r.maxConcurrentLimboResolutions;){const e=r.Qa.values().next().value;r.Qa.delete(e);const i=new _t(he.fromString(e)),a=r.za.next();r.Ua.set(a,new ob(i)),r.$a=r.$a.insert(i,a),_v(r.remoteStore,new Rs(ai(dd(i.path)),a,"TargetPurposeLimboResolution",rc.ae))}}async function ro(r,e,i){const a=St(r),o=[],h=[],d=[];a.ka.isEmpty()||(a.ka.forEach((g,_)=>{d.push(a.Ha(_,e,i).then(v=>{var S;if((v||i)&&a.isPrimaryClient){const N=v?!v.fromCache:(S=i==null?void 0:i.targetChanges.get(_.targetId))===null||S===void 0?void 0:S.current;a.sharedClientState.updateQueryState(_.targetId,N?"current":"not-current")}if(v){o.push(v);const N=Ed.Yi(_.targetId,v);h.push(N)}}))}),await Promise.all(d),a.La.p_(o),await async function(_,v){const S=St(_);try{await S.persistence.runTransaction("notifyLocalViewChanges","readwrite",N=>F.forEach(v,x=>F.forEach(x.Hi,k=>S.persistence.referenceDelegate.addReference(N,x.targetId,k)).next(()=>F.forEach(x.Ji,k=>S.persistence.referenceDelegate.removeReference(N,x.targetId,k)))))}catch(N){if(!Na(N))throw N;st(Td,"Failed to update sequence numbers: "+N)}for(const N of v){const x=N.targetId;if(!N.fromCache){const k=S.Ts.get(x),X=k.snapshotVersion,J=k.withLastLimboFreeSnapshotVersion(X);S.Ts=S.Ts.insert(x,J)}}}(a.localStore,h))}async function Eb(r,e){const i=St(r);if(!i.currentUser.isEqual(e)){st(Vd,"User change. New user:",e.toKey());const a=await mv(i.localStore,e);i.currentUser=e,function(h,d){h.Ga.forEach(g=>{g.forEach(_=>{_.reject(new yt($.CANCELLED,d))})}),h.Ga.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await ro(i,a.Rs)}}function Tb(r,e){const i=St(r),a=i.Ua.get(e);if(a&&a.Ba)return It().add(a.key);{let o=It();const h=i.qa.get(e);if(!h)return o;for(const d of h){const g=i.ka.get(d);o=o.unionWith(g.view.Sa)}return o}}function Iv(r){const e=St(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=Cv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Tb.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=pb.bind(null,e),e.La.p_=ib.bind(null,e.eventManager),e.La.Ja=sb.bind(null,e.eventManager),e}function Ab(r){const e=St(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=yb.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=_b.bind(null,e),e}class ic{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=gc(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,i){return null}nu(e,i){return null}eu(e){return S1(this.persistence,new E1,e.initialUser,this.serializer)}Xa(e){return new dv(vd.ri,this.serializer)}Za(e){return new N1}async terminate(){var e,i;(e=this.gcScheduler)===null||e===void 0||e.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ic.provider={build:()=>new ic};class Sb extends ic{constructor(e){super(),this.cacheSizeBytes=e}tu(e,i){Gt(this.persistence.referenceDelegate instanceof ec);const a=this.persistence.referenceDelegate.garbageCollector;return new r1(a,e.asyncQueue,i)}Xa(e){const i=this.cacheSizeBytes!==void 0?ln.withCacheSize(this.cacheSizeBytes):ln.DEFAULT;return new dv(a=>ec.ri(a,i),this.serializer)}}class ed{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>Yy(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=Eb.bind(null,this.syncEngine),await J1(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new tb}()}createDatastore(e){const i=gc(e.databaseInfo.databaseId),a=function(h){return new U1(h)}(e.databaseInfo);return function(h,d,g,_){return new P1(h,d,g,_)}(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return function(a,o,h,d,g){return new j1(a,o,h,d,g)}(this.localStore,this.datastore,e.asyncQueue,i=>Yy(this.syncEngine,i,0),function(){return qy.D()?new qy:new I1}())}createSyncEngine(e,i){return function(o,h,d,g,_,v,S){const N=new ub(o,h,d,g,_,v);return S&&(N.ja=!0),N}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await async function(o){const h=St(o);st(vr,"RemoteStore shutting down."),h.W_.add(5),await so(h),h.z_.shutdown(),h.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}ed.provider={build:()=>new ed};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):ki("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,i){setTimeout(()=>{this.muted||e(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us="FirestoreClient";class Rb{constructor(e,i,a,o,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=o,this.user=Ke.UNAUTHENTICATED,this.clientId=w_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(a,async d=>{st(Us,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(a,d=>(st(Us,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Vs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=Cd(i,"Failed to shutdown persistence");e.reject(a)}}),e.promise}}async function Mf(r,e){r.asyncQueue.verifyOperationInProgress(),st(Us,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let a=i.initialUser;r.setCredentialChangeListener(async o=>{a.isEqual(o)||(await mv(e.localStore,o),a=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function Zy(r,e){r.asyncQueue.verifyOperationInProgress();const i=await wb(r);st(Us,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener(a=>Gy(e.remoteStore,a)),r.setAppCheckTokenChangeListener((a,o)=>Gy(e.remoteStore,o)),r._onlineComponents=e}async function wb(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){st(Us,"Using user provided OfflineComponentProvider");try{await Mf(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!function(o){return o.name==="FirebaseError"?o.code===$.FAILED_PRECONDITION||o.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(i))throw i;Ea("Error using user provided cache. Falling back to memory cache: "+i),await Mf(r,new ic)}}else st(Us,"Using default OfflineComponentProvider"),await Mf(r,new Sb(void 0));return r._offlineComponents}async function Ov(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(st(Us,"Using user provided OnlineComponentProvider"),await Zy(r,r._uninitializedComponentsProvider._online)):(st(Us,"Using default OnlineComponentProvider"),await Zy(r,new ed))),r._onlineComponents}function Cb(r){return Ov(r).then(e=>e.syncEngine)}async function Db(r){const e=await Ov(r),i=e.eventManager;return i.onListen=cb.bind(null,e.syncEngine),i.onUnlisten=db.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=hb.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=mb.bind(null,e.syncEngine),i}function Vb(r,e,i={}){const a=new Vs;return r.asyncQueue.enqueueAndForget(async()=>function(h,d,g,_,v){const S=new bb({next:x=>{S.su(),d.enqueueAndForget(()=>nb(h,N));const k=x.docs.has(g);!k&&x.fromCache?v.reject(new yt($.UNAVAILABLE,"Failed to get document because the client is offline.")):k&&x.fromCache&&_&&_.source==="server"?v.reject(new yt($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(x)},error:x=>v.reject(x)}),N=new rb(dd(g.path),S,{includeMetadataChanges:!0,Ta:!0});return eb(h,N)}(await Db(r),r.asyncQueue,e,i,a)),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mv(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $y=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nb(r,e,i){if(!i)throw new yt($.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function Ib(r,e,i,a){if(e===!0&&a===!0)throw new yt($.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function Jy(r){if(!_t.isDocumentKey(r))throw new yt($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Id(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(a){return a.constructor?a.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Et()}function eo(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new yt($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Id(r);throw new yt($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xv="firestore.googleapis.com",Wy=!0;class t_{constructor(e){var i,a;if(e.host===void 0){if(e.ssl!==void 0)throw new yt($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=xv,this.ssl=Wy}else this.host=e.host,this.ssl=(i=e.ssl)!==null&&i!==void 0?i:Wy;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=fv;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<i1)throw new yt($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Ib("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Mv((a=e.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),function(h){if(h.timeoutSeconds!==void 0){if(isNaN(h.timeoutSeconds))throw new yt($.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (must not be NaN)`);if(h.timeoutSeconds<5)throw new yt($.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (minimum allowed value is 5)`);if(h.timeoutSeconds>30)throw new yt($.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(a,o){return a.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Od{constructor(e,i,a,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new t_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new yt($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new yt($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new t_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new MA;switch(a.type){case"firstParty":return new zA(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new yt($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const a=$y.get(i);a&&(st("ComponentProvider","Removing Datastore"),$y.delete(i),a.terminate())}(this),Promise.resolve()}}function Ob(r,e,i,a={}){var o;const h=(r=eo(r,Od))._getSettings(),d=Object.assign(Object.assign({},h),{emulatorOptions:r._getEmulatorOptions()}),g=`${e}:${i}`;h.host!==xv&&h.host!==g&&Ea("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _=Object.assign(Object.assign({},h),{host:g,ssl:!1,emulatorOptions:a});if(!Gu(_,d)&&(r._setSettings(_),a.mockUserToken)){let v,S;if(typeof a.mockUserToken=="string")v=a.mockUserToken,S=Ke.MOCK_USER;else{v=cT(a.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const N=a.mockUserToken.sub||a.mockUserToken.user_id;if(!N)throw new yt($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new Ke(N)}r._authCredentials=new xA(new b_(v,S))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Md(this.firestore,e,this._query)}}class xn{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new no(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new xn(this.firestore,e,this._key)}}class no extends Md{constructor(e,i,a){super(e,i,dd(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new xn(this.firestore,null,new _t(e))}withConverter(e){return new no(this.firestore,e,this._path)}}function Uv(r,e,...i){if(r=yr(r),arguments.length===1&&(e=w_.newId()),Nb("doc","path",e),r instanceof Od){const a=he.fromString(e,...i);return Jy(a),new xn(r,null,new _t(a))}{if(!(r instanceof xn||r instanceof no))throw new yt($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(he.fromString(e,...i));return Jy(a),new xn(r.firestore,r instanceof no?r.converter:null,new _t(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e_="AsyncQueue";class n_{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new pv(this,"async_queue_retry"),this.Su=()=>{const a=Of();a&&st(e_,"Visibility state changed to "+a.visibilityState),this.a_.t_()},this.bu=e;const i=Of();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const i=Of();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const i=new Vs;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Na(e))throw e;st(e_,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const i=this.bu.then(()=>(this.pu=!0,e().catch(a=>{this.gu=a,this.pu=!1;const o=function(d){let g=d.message||"";return d.stack&&(g=d.stack.includes(d.message)?d.stack:d.message+`
`+d.stack),g}(a);throw ki("INTERNAL UNHANDLED ERROR: ",o),a}).then(a=>(this.pu=!1,a))));return this.bu=i,i}enqueueAfterDelay(e,i,a){this.Du(),this.wu.indexOf(e)>-1&&(i=0);const o=wd.createAndSchedule(this,e,i,a,h=>this.Fu(h));return this.fu.push(o),o}Du(){this.gu&&Et()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const i of this.fu)if(i.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((i,a)=>i.targetTimeMs-a.targetTimeMs);for(const i of this.fu)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const i=this.fu.indexOf(e);this.fu.splice(i,1)}}class xd extends Od{constructor(e,i,a,o){super(e,i,a,o),this.type="firestore",this._queue=new n_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new n_(e),this._firestoreClient=void 0,await e}}}function Mb(r,e){const i=typeof r=="object"?r:EA(),a=typeof r=="string"?r:Yu,o=gA(i,"firestore").getImmediate({identifier:a});if(!o._initialized){const h=oT("firestore");h&&Ob(o,...h)}return o}function Lv(r){if(r._terminated)throw new yt($.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||xb(r),r._firestoreClient}function xb(r){var e,i,a;const o=r._freezeSettings(),h=function(g,_,v,S){return new JA(g,_,v,S.host,S.ssl,S.experimentalForceLongPolling,S.experimentalAutoDetectLongPolling,Mv(S.experimentalLongPollingOptions),S.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((i=o.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((a=o.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new Rb(r._authCredentials,r._appCheckCredentials,r._queue,h,r._componentsProvider&&function(g){const _=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(_),_online:_}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new wa(qe.fromBase64String(e))}catch(i){throw new yt($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new wa(qe.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new yt($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new je(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new yt($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new yt($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Dt(this._lat,e._lat)||Dt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(e){this._values=(e||[]).map(i=>i)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(a,o){if(a.length!==o.length)return!1;for(let h=0;h<a.length;++h)if(a[h]!==o[h])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ub=/^__.*__$/;class zv{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return new Tr(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function Bv(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Et()}}class Bd{constructor(e,i,a,o,h,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=o,h===void 0&&this.Bu(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Bd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var i;const a=(i=this.path)===null||i===void 0?void 0:i.child(e),o=this.ku({path:a,Qu:!1});return o.$u(e),o}Uu(e){var i;const a=(i=this.path)===null||i===void 0?void 0:i.child(e),o=this.ku({path:a,Qu:!1});return o.Bu(),o}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return sc(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(i=>e.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>e.isPrefixOf(i.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(Bv(this.Lu)&&Ub.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class Lb{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||gc(e)}ju(e,i,a,o=!1){return new Bd({Lu:e,methodName:i,zu:a,path:je.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function zb(r){const e=r._freezeSettings(),i=gc(r._databaseId);return new Lb(r._databaseId,!!e.ignoreUndefinedProperties,i)}class vc extends Ud{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof vc}}function Bb(r,e,i,a){const o=r.ju(1,e,i);kv("Data must be an object, but it was:",o,a);const h=[],d=pn.empty();Ls(a,(_,v)=>{const S=Pd(e,_,i);v=yr(v);const N=o.Uu(S);if(v instanceof vc)h.push(S);else{const x=Ec(v,N);x!=null&&(h.push(S),d.set(S,x))}});const g=new jn(h);return new zv(d,g,o.fieldTransforms)}function Pb(r,e,i,a,o,h){const d=r.ju(1,e,i),g=[i_(e,a,i)],_=[o];if(h.length%2!=0)throw new yt($.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<h.length;x+=2)g.push(i_(e,h[x])),_.push(h[x+1]);const v=[],S=pn.empty();for(let x=g.length-1;x>=0;--x)if(!qb(v,g[x])){const k=g[x];let X=_[x];X=yr(X);const J=d.Uu(k);if(X instanceof vc)v.push(k);else{const Z=Ec(X,J);Z!=null&&(v.push(k),S.set(k,Z))}}const N=new jn(v);return new zv(S,N,d.fieldTransforms)}function Ec(r,e){if(Pv(r=yr(r)))return kv("Unsupported field value:",e,r),kb(r,e);if(r instanceof Ud)return function(a,o){if(!Bv(o.Lu))throw o.Wu(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${a._methodName}() is not currently supported inside arrays`);const h=a._toFieldTransform(o);h&&o.fieldTransforms.push(h)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(a,o){const h=[];let d=0;for(const g of a){let _=Ec(g,o.Ku(d));_==null&&(_={nullValue:"NULL_VALUE"}),h.push(_),d++}return{arrayValue:{values:h}}}(r,e)}return function(a,o){if((a=yr(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return AS(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const h=we.fromDate(a);return{timestampValue:tc(o.serializer,h)}}if(a instanceof we){const h=new we(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:tc(o.serializer,h)}}if(a instanceof Ld)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof wa)return{bytesValue:rv(o.serializer,a._byteString)};if(a instanceof xn){const h=o.databaseId,d=a.firestore._databaseId;if(!d.isEqual(h))throw o.Wu(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:yd(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof zd)return function(d,g){return{mapValue:{fields:{[x_]:{stringValue:U_},[Xu]:{arrayValue:{values:d.toArray().map(v=>{if(typeof v!="number")throw g.Wu("VectorValues must only contain numeric values.");return md(g.serializer,v)})}}}}}}(a,o);throw o.Wu(`Unsupported field value: ${Id(a)}`)}(r,e)}function kb(r,e){const i={};return D_(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ls(r,(a,o)=>{const h=Ec(o,e.qu(a));h!=null&&(i[a]=h)}),{mapValue:{fields:i}}}function Pv(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof we||r instanceof Ld||r instanceof wa||r instanceof xn||r instanceof Ud||r instanceof zd)}function kv(r,e,i){if(!Pv(i)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(i)){const a=Id(i);throw a==="an object"?e.Wu(r+" a custom object"):e.Wu(r+" "+a)}}function i_(r,e,i){if((e=yr(e))instanceof _c)return e._internalPath;if(typeof e=="string")return Pd(r,e);throw sc("Field path arguments must be of type string or ",r,!1,void 0,i)}const jb=new RegExp("[~\\*/\\[\\]]");function Pd(r,e,i){if(e.search(jb)>=0)throw sc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new _c(...e.split("."))._internalPath}catch{throw sc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function sc(r,e,i,a,o){const h=a&&!a.isEmpty(),d=o!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let _="";return(h||d)&&(_+=" (found",h&&(_+=` in field ${a}`),d&&(_+=` in document ${o}`),_+=")"),new yt($.INVALID_ARGUMENT,g+r+_)}function qb(r,e){return r.some(i=>i.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jv{constructor(e,i,a,o,h){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=o,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new xn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Hb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(qv("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class Hb extends jv{data(){return super.data()}}function qv(r,e){return typeof e=="string"?Pd(r,e):e instanceof _c?e._internalPath:e._delegate._internalPath}class Gb{convertValue(e,i="none"){switch(Ms(e)){case 0:return null;case 1:return e.booleanValue;case 2:return me(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Os(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw Et()}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return Ls(e,(o,h)=>{a[o]=this.convertValue(h,i)}),a}convertVectorValue(e){var i,a,o;const h=(o=(a=(i=e.fields)===null||i===void 0?void 0:i[Xu].arrayValue)===null||a===void 0?void 0:a.values)===null||o===void 0?void 0:o.map(d=>me(d.doubleValue));return new zd(h)}convertGeoPoint(e){return new Ld(me(e.latitude),me(e.longitude))}convertArray(e,i){return(e.values||[]).map(a=>this.convertValue(a,i))}convertServerTimestamp(e,i){switch(i){case"previous":const a=lc(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Zl(e));default:return null}}convertTimestamp(e){const i=Is(e);return new we(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=he.fromString(e);Gt(hv(a));const o=new $l(a.get(1),a.get(3)),h=new _t(a.popFirst(5));return o.isEqual(i)||ki(`Document ${h} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Hv extends jv{constructor(e,i,a,o,h,d){super(e,i,a,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Fb(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(qv("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}}class Fb extends Hv{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kb(r){r=eo(r,xn);const e=eo(r.firestore,xd);return Vb(Lv(e),r._key).then(i=>$b(e,r,i))}class Yb extends Gb{constructor(e){super(),this.firestore=e}convertBytes(e){return new wa(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new xn(this.firestore,null,i)}}function Xb(r,e,i,...a){r=eo(r,xn);const o=eo(r.firestore,xd),h=zb(o);let d;return d=typeof(e=yr(e))=="string"||e instanceof _c?Pb(h,"updateDoc",r._key,e,i,a):Bb(h,"updateDoc",r._key,e),Zb(o,[d.toMutation(r._key,Bi.exists(!0))])}function Zb(r,e){return function(a,o){const h=new Vs;return a.asyncQueue.enqueueAndForget(async()=>gb(await Cb(a),o,h)),h.promise}(Lv(r),e)}function $b(r,e,i){const a=i.docs.get(e._key),o=new Yb(r);return new Hv(r,o,e._key,a,new Qb(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(o){Da=o})(vA),Fu(new Kl("firestore",(a,{instanceIdentifier:o,options:h})=>{const d=a.getProvider("app").getImmediate(),g=new xd(new UA(a.getProvider("auth-internal")),new BA(d,a.getProvider("app-check-internal")),function(v,S){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new yt($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $l(v.options.projectId,S)}(d,o),d);return h=Object.assign({useFetchStreams:i},h),g._setSettings(h),g},"PUBLIC").setMultipleInstances(!0)),_a(uy,cy,e),_a(uy,cy,"esm2017")})();const Jb={apiKey:"AIzaSyDO8eDl6JSAxFiB7Mg28bseHiGs7g6m-LI",authDomain:"knight-vs-ghost.firebaseapp.com",projectId:"knight-vs-ghost",storageBucket:"knight-vs-ghost.firebasestorage.app",messagingSenderId:"61881845235",appId:"1:61881845235:web:9475b715553cfc96df7e86"},Wb=g_(Jb),Gv=Mb(Wb);async function Qv(r,e){try{const i=Uv(Gv,r,e),a=await Kb(i);return a.exists()?JSON.parse(a.data().JSON_string):(console.log("No such document!"),null)}catch(i){return console.error("Error getting document:",i),null}}function tR({handleLeaderBoardCoverClose:r}){const[e,i]=W.useState(null);return W.useEffect(()=>{Qv("leaderboard","6AppVKwaOBlCTTXAEoij").then(a=>{a&&i(a)})},[]),P.jsxs("div",{className:"leader-board-game-cover",style:{width:ie.width,height:ie.height},children:[P.jsxs("div",{className:"header",children:["LEADERBOARD",P.jsx("button",{className:"close-button",onClick:()=>{r()},children:"X"})]}),P.jsx("div",{className:"leader-board",children:e?e.map((a,o)=>P.jsxs("div",{className:"leader-board-user",style:{borderColor:o+1===1?"rgb(255, 230, 0)":o+1===2?"rgb(190, 255, 246)":o+1===3?"rgb(179, 42, 0)":"lightgray",color:o+1===1?"rgb(255, 230, 0)":o+1===2?"rgb(190, 255, 246)":o+1===3?"rgb(179, 42, 0)":"lightgray",opacity:1-(o+1)/50},children:[P.jsxs("div",{className:"placement-number-container",style:{padding:"0px 30px",fontWeight:"700"},children:[P.jsx("div",{style:{fontSize:"40px"},children:o+1}),o+1===1&&P.jsx("div",{children:"st"}),o+1===2&&P.jsx("div",{children:"nd"}),o+1===3&&P.jsx("div",{children:"rd"}),o+1>3&&P.jsx("div",{children:"th"})]}),P.jsx("div",{style:{width:"60%"},children:a.name.toUpperCase()}),P.jsx("div",{style:{width:"40%",fontWeight:"500"},children:`${a.value}pts`})]},o)):P.jsx("div",{className:"spinner-border text-light",role:"status",style:{position:"absolute",top:"300px"},children:P.jsx("span",{className:"visually-hidden",children:"Loading..."})})})]})}function eR({handleGameStart:r,ref:e}){const[i,a]=W.useState(!1),[o,h]=W.useState(!1);return P.jsxs(P.Fragment,{children:[i&&P.jsx($E,{handleControlsCoverClose:()=>a(!1)}),o&&P.jsx(tR,{handleLeaderBoardCoverClose:()=>h(!1)}),P.jsxs("div",{className:"start-game-cover",style:{height:ie.height,width:ie.width,backgroundColor:"black",borderColor:"green"},ref:e,children:[P.jsx("img",{src:l_,style:{position:"absolute",height:"100%",borderRadius:"10px",zIndex:2,opacity:.8}}),P.jsx("img",{src:s_,style:{position:"absolute",height:"60%",borderRadius:"5px",zIndex:2,top:"150px"}}),P.jsx("div",{className:"title",children:"KNIGHT vs GHOST"}),P.jsx("button",{className:"start-button",onClick:()=>{r()},children:"START"}),P.jsx("button",{className:"controls-button",style:{width:180},onClick:()=>{h(!0)},children:"LEADERBOARD"}),P.jsx("button",{className:"controls-button",onClick:()=>{a(!0)},children:"CONTROLS"})]})]})}const Fv="/knight_vs_ghost/assets/skull-laugh-ClPTkjQB.gif";function nR({handleGameMainMenu:r,handleGameStart:e,scoreDisplayed:i,ref:a}){return P.jsx(P.Fragment,{children:P.jsxs("div",{className:"restart-game-cover",style:{height:ie.height,width:ie.width,backgroundColor:"black",borderColor:"green"},ref:a,children:[P.jsx("img",{src:l_,style:{position:"absolute",height:"100%",borderRadius:"5px",zIndex:2,opacity:.8}}),P.jsx("img",{src:Fv,style:{position:"absolute",height:"30%",borderRadius:"5px",zIndex:2,top:"30px"}}),P.jsxs("div",{className:"final-score",style:{fontSize:"50px",zIndex:4},children:["FINAL SCORE",P.jsx("div",{style:{fontSize:"70px",fontWeight:"700"},children:i})]}),P.jsx("button",{style:{zIndex:3,width:"300px"},onClick:()=>{e()},className:"restart-button",children:"RESTART"}),P.jsx("br",{}),P.jsx("button",{className:"main-menu-button",onClick:()=>{r()},children:"MAIN MENU"})]})})}const iR="/knight_vs_ghost/assets/hourglass-time-D3bslvlR.gif";function sR({handleUnpause:r,ref:e}){return P.jsx(P.Fragment,{children:P.jsxs("div",{className:"pause-game-cover",style:{height:ie.height,width:ie.width},onKeyDown:i=>{i.key==="Escape"&&r()},tabIndex:0,ref:e,children:[P.jsx("div",{className:"pause-game-cover-title",children:"PAUSED"}),P.jsx("img",{src:iR,style:{opacity:.4,height:100,marginBottom:80}}),P.jsx("button",{className:"resume-button",onClick:r,children:"RESUME"}),P.jsx("div",{className:"note",children:"You can wait here for your cooldowns to recover . . ."})]})})}const rR="/knight_vs_ghost/assets/main_menu_song-BrNdxob5.mp3",aR="/knight_vs_ghost/assets/gamming_song-Dc3V5Zzo.mp3",lR="/knight_vs_ghost/assets/death_song-CrOVC0YT.mp3",oR="/knight_vs_ghost/assets/pause-CJnqFUoZ.mp3";function uR({gameState:r,musicEnabled:e,handleMusicLoaded:i}){const[a,o]=W.useState(!1),[h,d]=W.useState(!1),[g,_]=W.useState(!1),[v,S]=W.useState(!1),[N,x]=W.useState(!1),[k,X]=W.useState(!1),[J,Z]=W.useState(!1),[gt,dt]=W.useState(!1),[rt,Rt]=ri(rR,{onload:()=>o(!0),onloaderror:()=>x(!0),loop:!0,volume:.2}),[mt,lt]=ri(aR,{onload:()=>d(!0),onloaderror:()=>X(!0),loop:!0,volume:.2}),[I,b]=ri(lR,{onload:()=>_(!0),onloaderror:()=>Z(!0),loop:!0,volume:.2}),[A,w]=ri(oR,{onload:()=>S(!0),onloaderror:()=>dt(!0),loop:!0,volume:.7}),V=()=>{Rt.stop(),lt.stop(),b.stop(),w.stop()};return W.useEffect(()=>{e?r===Yt.START&&a?(V(),rt()):r===Yt.RUNNING&&h?(V(),mt()):r===Yt.RESTART&&g?(V(),I()):r===Yt.PAUSED&&v&&(V(),A()):V()},[r,e,a,h,g,v]),W.useEffect(()=>{a&&h&&g&&v&&i()},[a,h,g,v]),W.useEffect(()=>{(N||k||J||gt)&&console.error("Audio loading error detected")},[N,k,J,gt]),null}function cR({musicEnabled:r,toggleMusic:e,onKeyDown:i,musicLoaded:a}){return P.jsx(P.Fragment,{children:P.jsx("button",{className:"music-button",style:r?{borderColor:"rgb(0, 209, 0)",color:"rgb(0, 209, 0)",backgroundColor:"rgb(0, 0, 0)"}:{borderColor:"rgb(0, 161, 0)",color:"rgb(0, 161, 0)",backgroundColor:"rgba(0, 0, 0, 0.637)"},onClick:e,onKeyDown:i,disabled:!a,children:a?`MUSIC ${r?"ON":"OFF"}`:"MUSIC Loading..."})})}function hR({soundEffectsEnabled:r,toggleSoundEffects:e,onKeyDown:i}){return P.jsx("button",{className:"music-button",style:r?{borderColor:"rgb(0, 209, 0)",color:"rgb(0, 209, 0)",backgroundColor:"rgb(0, 0, 0)"}:{borderColor:"rgb(0, 161, 0)",color:"rgb(0, 161, 0)",backgroundColor:"rgba(0, 0, 0, 0.637)"},onClick:e,onKeyDown:i,children:`SFX ${r?"ON":"OFF"}`})}const fR="/knight_vs_ghost/assets/evil_laugh-diVpAQ2U.mp3";function dR({gameState:r,soundEffectsEnabled:e}){const[i]=ri(fR,{sprite:{cropped:[1e3,500]},volume:.4}),[a,o]=W.useState(!1);W.useEffect(()=>{r===Yt.RESTART&&e&&setTimeout(()=>{e&&i({id:"cropped"}),o(!a)},1280)},[r,a,e])}function mR({name:r,cooldownNotificationList:e}){const[i,a]=W.useState(!0);return W.useEffect(()=>{a(!0),setTimeout(()=>{a(!1)},e[r])},[e]),P.jsx(P.Fragment,{children:P.jsxs("div",{className:"cooldown-display",children:[P.jsx("div",{children:r.toUpperCase()}),P.jsx("div",{className:"loading-bar",style:{background:i?"#000000":"linear-gradient(to right, #4caf50, #8bc34a)"},children:P.jsx("div",{className:"loading",style:{width:i?"100%":"0%",transition:i?`width ${e[r]/1e3}s linear`:null}})})]})})}function gR({cooldownNotificationList:r,gameState:e}){return P.jsx(P.Fragment,{children:P.jsxs("div",{className:"cooldown-section",style:{opacity:e===Yt.RUNNING||e===Yt.PAUSED?1:0},children:[P.jsx("div",{className:"cooldown-section-title",children:"COOLDOWNS"}),P.jsx(mR,{name:"dash",cooldownNotificationList:r})]})})}const ie={height:560,width:560},Yt={START:"start",RUNNING:"running",RESTART:"restart",PAUSED:"paused"};function pR({handleDisplayStats:r}){const[e,i]=W.useState({value:"",pressed:!1}),[a,o]=W.useState(!1),[h,d]=W.useState(!1),[g,_]=W.useState(!1),[v,S]=W.useState({opacity:.9,backgroundColor:"none"}),[N,x]=W.useState([(ie.width-6)/2,(ie.height-6)/2]),k=ct=>{ct.value==="Escape"&&ct.pressed&&lt===Yt.RUNNING?I(Yt.PAUSED):(i({value:ct.value,pressed:ct.pressed}),o(!a))},X=ct=>{x(ct)},[J,Z]=W.useState(0),gt=()=>{d(!h),Z(J+1)},dt=()=>{_(!g)},rt=()=>{S({opacity:.5,backgroundColor:"red"}),setTimeout(()=>S({opacity:.9,backgroundColor:"none"}),500)},[Rt,mt]=W.useState([]);W.useEffect(()=>{(J%10===0||J===1)&&mt([...Rt,J])},[J]);const[lt,I]=W.useState(Yt.START),b=W.useRef(null),A=W.useRef(null),w=W.useRef(null),V=W.useRef(null);W.useEffect(()=>{lt===Yt.START&&A.current?A.current.focus():lt===Yt.RUNNING&&b.current?b.current.focus():lt===Yt.RESTART&&w.current?w.current.focus():lt===Yt.PAUSED&&V.current&&V.current.focus()},[lt]);const[L,C]=W.useState(0),Jt=ct=>{C(ct),I(Yt.RESTART),mt([]),Z(0)},[Wt,et]=W.useState({dash:null}),pt=(ct,bt)=>{et(re=>({...re,[ct]:bt}))},[ot,Mt]=W.useState(!1),[D,Y]=W.useState(!0),[ut,nt]=W.useState(!1),it=()=>{nt(!0)};return P.jsxs("div",{children:[P.jsx(hR,{soundEffectsEnabled:D,toggleSoundEffects:()=>{Y(!D)},onKeyDown:()=>{lt===Yt.RUNNING&&b.current.focus()}}),P.jsx(cR,{musicEnabled:ot,musicLoaded:ut,toggleMusic:()=>{Mt(!ot)},onKeyDown:()=>{lt===Yt.RUNNING&&b.current.focus()}}),P.jsx(uR,{gameState:lt,musicEnabled:ot,handleMusicLoaded:it}),P.jsx(dR,{soundEffectsEnabled:D,gameState:lt}),lt===Yt.START&&P.jsx(eR,{handleGameStart:()=>{I(Yt.RUNNING)},ref:A}),lt===Yt.PAUSED&&P.jsx(sR,{handleUnpause:()=>{I(Yt.RUNNING)},ref:V}),lt===Yt.RESTART&&P.jsx(nR,{handleGameStart:()=>{I(Yt.RUNNING)},handleGameMainMenu:()=>{I(Yt.START)},scoreDisplayed:L,gameState:lt,ref:w,soundEffectsEnabled:D}),P.jsxs("div",{className:"game-grid-container",children:[P.jsxs("div",{className:"game-grid",style:{height:ie.height,width:ie.width,backgroundColor:v.backgroundColor},onKeyDown:ct=>{ct.preventDefault(),k({value:ct.key,pressed:!0})},onKeyUp:ct=>{k({value:ct.key,pressed:!1})},tabIndex:0,ref:b,children:[P.jsx("img",{className:"background-image",src:DE,style:{opacity:v.opacity}}),P.jsx(qE,{userInput:e,rerenderNotification:a,handleDisplayStats:r,handleNotifyPosition:X,coinColectionNotification:h,heroIsHitNotification:g,handleHeroIsHitAnimation:rt,handleSetFinalScore:Jt,gameState:lt,soundEffectsEnabled:D,handleDisplayCooldowns:pt}),P.jsx(Vu,{heroPosition:N,handleCoinColection:gt}),P.jsx(Vu,{heroPosition:N,handleCoinColection:gt}),P.jsx(Vu,{heroPosition:N,handleCoinColection:gt}),P.jsx(Vu,{heroPosition:N,handleCoinColection:gt}),Rt.map(ct=>{if(ct)return P.jsx(FE,{enableThreshold:ct,coinCount:J,heroPosition:N,handleHeroIsHit:dt,gameState:lt},ct)})]}),P.jsx(gR,{cooldownNotificationList:Wt,gameState:lt})]}),P.jsx("br",{}),P.jsxs("div",{className:"author-info",children:[P.jsx("div",{children:"Created by Diego Garcia"}),P.jsx("div",{children:"diego.frnz.2004@gmail.com"})]})]})}function yR({coinCountDisplayed:r}){const[e,i]=W.useState(45);return W.useEffect(()=>{i(70),setTimeout(()=>i(45),400)},[r]),P.jsxs("div",{className:"coins-stat-container",children:[P.jsx("div",{className:"coins-stat",children:"Coins"}),P.jsxs("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-around",padding:"0px 10px 10px 0px"},children:[P.jsx("div",{className:"coins-stat",children:r}),P.jsx("img",{className:"coin-image",src:a_,style:{height:e}})]})]})}const xf="/knight_vs_ghost/assets/heart-B2jqvHDI.gif";function _R({liveCountDisplayed:r}){return P.jsxs("div",{className:"lives-stat-container",children:[P.jsx("div",{className:"lives-stat",children:"Lives"}),P.jsx("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:r>0?"space-between":"center",width:150,padding:"0px 10px 10px 0px"},onChange:()=>console.log("si"),children:r>0?P.jsxs(P.Fragment,{children:[P.jsx("img",{src:xf,style:{height:"45px",opacity:r>=1?1:.5}}),P.jsx("img",{src:xf,style:{height:"45px",opacity:r>=2?1:.5}}),P.jsx("img",{src:xf,style:{height:"45px",opacity:r>=3?1:.5}})]}):P.jsx("img",{src:Fv,style:{height:"90px"}})})]})}const vR="/knight_vs_ghost/assets/trophy-DLsSGdZa.gif";function ER({coinCount:r}){const[e,i]=W.useState(()=>{try{const x=localStorage.getItem("highScore");if(x){const k=JSON.parse(x);return typeof k=="number"?{value:k,uploaded:!1}:k}}catch(x){console.error("Error parsing highScore from localStorage:",x)}return{value:0,uploaded:!1}}),[a,o]=W.useState(!1),[h,d]=W.useState(!1),[g,_]=W.useState("");W.useEffect(()=>{r>e.value&&(i({value:r,uploaded:!1}),localStorage.setItem("highScore",JSON.stringify({value:r,uploaded:!1})))},[r]);const[v,S]=W.useState(null);W.useEffect(()=>{Qv("leaderboard","6AppVKwaOBlCTTXAEoij").then(x=>{x&&S(x)})},[e]);const N=async x=>{if(!v){console.error("Leaderboard data not available.");return}const k=[...v];if(k.push({name:x,value:e.value}),k.sort((J,Z)=>Z.value-J.value),k.length>30&&k.pop(),k.some(J=>J.value===e.value))try{const J=Uv(Gv,"leaderboard","6AppVKwaOBlCTTXAEoij");await Xb(J,{JSON_string:JSON.stringify(k)}),i({value:e.value,uploaded:!0}),localStorage.setItem("highScore",JSON.stringify({value:e.value,uploaded:!0}))}catch(J){console.error("Error updating leaderboard:",J)}else console.log("Score not in top 30.")};return W.useEffect(()=>{e.uploaded||o(!0)},[e]),P.jsxs("div",{className:"high-score-stat-container",children:[P.jsx("div",{className:"high-score-stat",children:"HS"}),P.jsxs("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-around",padding:"0px 10px 10px 0px"},children:[P.jsx("div",{className:"high-score-stat",children:e.value}),P.jsx("img",{className:"high-score-image",src:vR,style:{height:50}})]}),a&&P.jsx("button",{className:"upload-high-score-button",onClick:()=>{d(!0),o(!1)},children:"Upload NEW HS"}),h&&P.jsxs("div",{className:"upload-menu",children:[P.jsx("div",{style:{color:"rgb(0, 192, 0)"},children:"Upload Score"}),P.jsx("button",{className:"close-upload-menu-button",onClick:()=>{o(!0),d(!1)},children:"X"}),P.jsx("input",{className:"name-input",type:"text",onChange:x=>{_(x.target.value)},maxLength:5,placeholder:"Username"}),P.jsx("div",{style:{color:g.length===5?"rgb(0, 192, 0)":"green"},className:"character-counter",children:`${g.length}/5`}),P.jsx("button",{className:"upload-button",disabled:!g,onClick:()=>{N(g),d(!1)},style:{opacity:g?1:.3,pointerEvents:g?"all":"none"},children:"Upload"})]})]})}function TR(){const[r,e]=W.useState(3),[i,a]=W.useState(0),o=(h,d)=>{e(h),a(d)};return P.jsx(P.Fragment,{children:P.jsxs("div",{className:"game-container",children:[P.jsxs("div",{className:"stat-container",children:[P.jsx(yR,{coinCountDisplayed:i}),P.jsx(_R,{liveCountDisplayed:r}),P.jsx(ER,{coinCount:i})]}),P.jsx(pR,{handleDisplayStats:o})]})})}CE.createRoot(document.getElementById("root")).render(P.jsx(W.StrictMode,{children:P.jsx(TR,{})}));export{AR as c,yE as g};
